var inheriting={},AmCharts={Class:function(e){var d=function(){arguments[0]!==inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(d.prototype=new e.inherits(inheriting),d.base=e.inherits.prototype,delete e.inherits):(d.prototype.createEvents=function(){for(var h=0,c=arguments.length;h<c;h++){this.events[arguments[h]]=[]}},d.prototype.listenTo=function(j,h,k){j.events[h].push({handler:k,scope:this})},d.prototype.addListener=function(j,h,k){this.events[j].push({handler:h,scope:k})},d.prototype.removeListener=function(j,h,k){j=j.events[h];for(h=j.length-1;0<=h;h--){j[h].handler===k&&j.splice(h,1)}},d.prototype.fire=function(l,k){for(var p=this.events[l],o=0,n=p.length;o<n;o++){var m=p[o];m.handler.call(m.scope,k)}});for(var f in e){d.prototype[f]=e[f]}return d},charts:[]};AmCharts.addChart=function(b){AmCharts.charts.push(b)};AmCharts.removeChart=function(e){for(var d=AmCharts.charts,f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}};document.addEventListener&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.ddd=0.5);document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.ddd=0);AmCharts.IEversion=0;-1!=navigator.appVersion.indexOf("MSIE")&&document.documentMode&&(AmCharts.IEversion=document.documentMode);9<=AmCharts.IEversion&&(AmCharts.ddd=0.5);AmCharts.handleResize=function(){for(var e=AmCharts.charts,d=0;d<e.length;d++){var f=e[d];f&&f.div&&f.handleResize()}};AmCharts.handleMouseUp=function(f){for(var e=AmCharts.charts,j=0;j<e.length;j++){var h=e[j];h&&h.handleReleaseOutside(f)}};AmCharts.handleMouseMove=function(f){for(var e=AmCharts.charts,j=0;j<e.length;j++){var h=e[j];h&&h.handleMouseMove(f)}};AmCharts.resetMouseOver=function(){for(var e=AmCharts.charts,d=0;d<e.length;d++){var f=e[d];f&&(f.mouseIsOver=!1)}};AmCharts.onReadyArray=[];AmCharts.ready=function(b){AmCharts.onReadyArray.push(b)};AmCharts.handleLoad=function(){for(var d=AmCharts.onReadyArray,c=0;c<d.length;c++){(0,d[c])()}};AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0));AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad));AmCharts.AmChart=AmCharts.Class({construct:function(){this.version="2.5.3";AmCharts.addChart(this);this.createEvents("dataUpdated");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.numberFormatter={precision:-1,decimalSeparator:".",thousandsSeparator:","};this.percentFormatter={precision:2,decimalSeparator:".",thousandsSeparator:","};this.labels=[];this.allLabels=[];this.titles=[];this.chartDiv=document.createElement("div");this.chartDiv.style.overflow="hidden";this.legendDiv=document.createElement("div");this.legendDiv.style.overflow="hidden";this.balloon=new AmCharts.AmBalloon;this.balloon.chart=this;this.titleHeight=0;this.prefixesOfBigNumbers=[{number:1000,prefix:"k"},{number:1000000,prefix:"M"},{number:1000000000,prefix:"G"},{number:1000000000000,prefix:"T"},{number:1000000000000000,prefix:"P"},{number:1000000000000000000,prefix:"E"},{number:1e+21,prefix:"Z"},{number:1e+24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:0.000001,prefix:"\u03bc"},{number:0.001,prefix:"m"}];"ontouchstart" in document.documentElement&&(this.touchEventsEnabled=!1);this.panEventsEnabled=!1},drawChart:function(){this.destroy();var j=this.container.set();this.set=j;var h=this.container,n=this.backgroundColor,m=this.backgroundAlpha,l=this.realWidth,k=this.realHeight;void 0!=n&&0<m&&(this.background=n=AmCharts.rect(h,l-1,k,n,m,1,this.borderColor,this.borderAlpha),j.push(n));if(j=this.backgroundImage){this.path&&(j=this.path+j),this.bgImg=h=h.image(j,0,0,l,k),this.set.push(h)}this.drawTitles()},drawTitles:function(){var k=this.titles;if(0<k.length){for(var j=20,q=0;q<k.length;q++){var p=k[q],o=p.color;void 0==o&&(o=this.color);var n=p.size,m=p.alpha;isNaN(m)&&(m=1);var j=j+n/2,l=this.marginLeft,o=AmCharts.text(this.container,l+(this.divRealWidth-this.marginRight-l)/2,j,p.text,{fill:o,"fill-opacity":m,"font-size":n,"font-family":this.fontFamily}),j=!0;void 0!=p.bold&&(j=p.bold);j&&o.attr({"font-weight":"bold"});p=o.getBBox();j=p.y+p.height+5;this.set.push(o)}}},write:function(f){var e=this.balloon;e&&!e.chart&&(e.chart=this);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.div=f="object"!=typeof f?document.getElementById(f):f;f.style.overflow="hidden";var e=this.chartDiv,j=this.legendDiv,h=this.legend;$(j).draggable();this.measure();if(h){switch(h.position){case"bottom":f.appendChild(e);f.appendChild(j);break;case"top":f.appendChild(j);f.appendChild(e);break;case"absolute":j.style.position="absolute";e.style.position="absolute";void 0!=h.left&&(j.style.left=h.left);void 0!=h.right&&(j.style.right=h.right);if(void 0!=h.backgroundColor){j.style.backgroundColor=h.backgroundColor}if(void 0!=h.opacity){j.style.opacity=h.opacity}void 0!=this.legend.bottom&&(j.style.bottom=h.bottom);f.appendChild(e);f.appendChild(j);break;case"right":j.style.position="relative";e.style.position="absolute";f.appendChild(e);f.appendChild(j);break;case"left":j.style.position="relative",e.style.position="absolute",f.appendChild(e),f.appendChild(j)}}else{f.appendChild(e)}this.divIsFixed=AmCharts.findIfFixed(e);this.container=Raphael(this.chartDiv,this.realWidth,this.realHeight);this.initChart()},initChart:function(){this.previousHeight=this.realHeight;this.previousWidth=this.realWidth;var b=this.container;b&&b.clear();this.redrawLabels()},renderfix:function(){this.container&&this.container.renderfix()},measure:function(){var j=this.div,h=this.chartDiv,n=j.offsetWidth,m=j.offsetHeight,l=this.container;j.clientHeight&&(n=j.clientWidth,m=j.clientHeight);var j=AmCharts.toCoordinate(this.width,n),k=AmCharts.toCoordinate(this.height,m);if(j!=this.previousWidth||k!=this.previousHeight){h.style.width=j+"px",h.style.height=k+"px",l&&l.setSize(j,k),this.balloon.setBounds(2,2,j-2,k)}this.realWidth=j;this.realHeight=k;this.divRealWidth=n;this.divRealHeight=m},destroy:function(){AmCharts.removeSet(this.set);this.clearTimeOuts()},clearTimeOuts:function(){var d=this.timeOuts;if(d){for(var c=0;c<d.length;c++){clearTimeout(d[c])}}this.timeOuts=[]},clear:function(){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarVertical,this.scrollbarHorizontal,this.chartCursor]);this.chartCursor=this.scrollbarHorizontal=this.scrollbarVertical=this.chartScrollbar=null;this.clearTimeOuts();this.container&&this.container.clear();AmCharts.removeChart(this)},setMouseCursor:function(b){document.body.style.cursor=b},bringLabelsToFront:function(){for(var d=this.labels,c=d.length-1;0<=c;c--){d[c].toFront()}},redrawLabels:function(){this.labels=[];for(var d=this.allLabels,c=0;c<d.length;c++){this.drawLabel(d[c])}},drawLabel:function(u){var t=u.x,s=u.y,r=u.text,q=u.align,p=u.size,o=u.color,n=u.rotation,m=u.alpha,k=u.bold;this.container&&(u=AmCharts.toCoordinate(t,this.realWidth),s=AmCharts.toCoordinate(s,this.realHeight),u||(u=0),s||(s=0),void 0==o&&(o=this.color),isNaN(p)&&(p=this.fontSize),q||(q="start"),"left"==q&&(q="start"),"right"==q&&(q="end"),"center"==q&&(q="middle",n?s=this.realHeight-s+s/2:u=this.realWidth/2-u),void 0==m&&(m=1),void 0==n&&(n=0),u=AmCharts.text(this.container,u,s+p/2,r,{fill:o,"fill-opacity":m,"text-anchor":q,"font-family":this.fontFamily,"font-size":p}),k&&u.attr({"font-weight":"bold"}),0!=n&&u.transform("...R"+n),u.toFront(),this.labels.push(u))},addLabel:function(s,r,q,p,o,n,m,l,k){s={x:s,y:r,text:q,align:p,size:o,color:n,alpha:l,rotation:m,bold:k};this.container&&this.drawLabel(s);this.allLabels.push(s)},clearLabels:function(){for(var d=this.labels,c=d.length-1;0<=c;c--){d[c].remove()}this.labels=[];this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,d=this.legend;if(d){var f=Number(this.legendDiv.style.height.replace("px","")),d=d.position;if("top"==d||"bottom"==d){e-=f,0>e&&(e=0),this.chartDiv.style.height=e+"px"}}return e},updateWidth:function(){var h=this.divRealWidth,f=this.divRealHeight,l=this.legend;if(l){var k=Number(this.legendDiv.style.width.replace("px","")),j=Number(this.legendDiv.style.height.replace("px","")),l=l.position;if("right"==l||"left"==l){h-=k,0>h&&(h=0),this.chartDiv.style.width=h+"px","left"==l?this.chartDiv.style.left=AmCharts.findPosX(this.div)+k+"px":this.legendDiv.style.left=h+"px",this.legendDiv.style.top=(f-j)/2+"px"}}return h},getTitleHeight:function(){var e=0,d=this.titles;if(0<d.length){for(var f=0;f<d.length;f++){e+=d[f].size+12}}return e},addTitle:function(h,f,l,k,j){isNaN(f)&&(f=this.fontSize+2);h={text:h,size:f,color:l,alpha:k,bold:j};this.titles.push(h);return h},addListeners:function(){var b=this;b.touchEventsEnabled&&b.panEventsEnabled?(b.chartDiv.addEventListener("touchstart",function(a){b.handleTouchMove.call(b,a)},!0),b.chartDiv.addEventListener("touchmove",function(a){b.handleTouchMove.call(b,a)},!0),b.chartDiv.addEventListener("touchstart",function(a){b.handleTouchStart.call(b,a)}),b.chartDiv.addEventListener("touchend",function(a){b.handleTouchEnd.call(b,a)})):(AmCharts.isNN&&(b.chartDiv.addEventListener("mousedown",function(a){b.handleMouseDown.call(b,a)},!0),b.chartDiv.addEventListener("mouseover",function(a){b.handleMouseOver.call(b,a)},!0),b.chartDiv.addEventListener("mouseout",function(a){b.handleMouseOut.call(b,a)},!0)),AmCharts.isIE&&(b.chartDiv.attachEvent("onmousedown",function(a){b.handleMouseDown.call(b,a)}),b.chartDiv.attachEvent("onmouseover",function(a){b.handleMouseOver.call(b,a)}),b.chartDiv.attachEvent("onmouseout",function(a){b.handleMouseOut.call(b,a)})))},dispatchDataUpdatedEvent:function(){this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire("dataUpdated",{type:"dataUpdated"}))},drb:function(){var f="m,o,c,.,t,r,a,h,c,m,a,i,s".split(",").reverse().join(""),e=window.location.hostname.split(".");if(2<=e.length){var j=e[e.length-2]+"."+e[e.length-1]}if(j!=f){window.location.href="http://"+f;var f=f+"",e=this.container.set(),j=AmCharts.rect(this.container,145,20,"#FFFFFF",1),h=AmCharts.text(this.container,2,2,"m,o,c,.,t,r,a,h,c,m,a,i,s, ,y,b, ,t,r,a,h,c".split(",").reverse().join(""),{fill:"#000000","font-family":"Verdana","font-size":11,"text-anchor":"start"});h.translate("5,8");e.push(j);e.push(h);this.set.push(e);e.click(function(){window.location.href="http://"+f});for(j=0;j<e.length;j++){e[j].attr({cursor:"pointer"})}}},invalidateSize:function(){this.measure();if((this.realWidth!=this.previousWidth||this.realHeight!=this.previousHeight)&&this.chartCreated){this.legend&&this.legend.invalidateSize(),this.initChart()}},validateData:function(b){this.chartCreated&&(this.dataChanged=!0,this.initChart(b))},validateNow:function(){this.initChart()},showItem:function(b){b.hidden=!1;this.initChart()},hideItem:function(b){b.hidden=!0;this.initChart()},hideBalloon:function(){var b=this;b.hoverInt=setTimeout(function(){b.hideBalloonReal.call(b)},80)},hideBalloonReal:function(){this.balloon&&this.balloon.hide()},showBalloon:function(h,f,l,k,j){this.handleMouseMove();this.balloon.enabled&&(this.balloon.followCursor(!1),this.balloon.changeColor(f),l||this.balloon.setPosition(k,j),this.balloon.followCursor(l),h&&this.balloon.showBalloon(h))},handleTouchMove:function(d){this.hideBalloon();var c=this.chartDiv;d.touches&&(d=d.touches.item(0),this.mouseX=d.pageX-AmCharts.findPosX(c),this.mouseY=d.pageY-AmCharts.findPosY(c))},handleMouseOver:function(){AmCharts.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(e){if(this.mouseIsOver){var d=this.chartDiv;e||(e=window.event);var f;e&&(document.attachEvent&&!window.opera?(e.target||(e.target=e.srcElement),f=e.x,e=e.y):this.divIsFixed?(f=e.clientX-AmCharts.findPosX(d),e=e.clientY-AmCharts.findPosY(d)):(f=e.pageX-AmCharts.findPosX(d),e=e.pageY-AmCharts.findPosY(d)),this.mouseX=f,this.mouseY=e)}},handleTouchStart:function(b){AmCharts.resetMouseOver();this.mouseIsOver=!0;this.handleMouseDown(b)},handleTouchEnd:function(b){AmCharts.resetMouseOver();this.handleReleaseOutside(b)},handleReleaseOutside:function(){},handleMouseDown:function(b){AmCharts.resetMouseOver();this.mouseIsOver=!0;b&&b.preventDefault&&b.preventDefault()},addLegend:function(d){this.legend=d;d.chart=this;d.div=this.legendDiv;var c=this.handleLegendEvent;this.listenTo(d,"showItem",c);this.listenTo(d,"hideItem",c);this.listenTo(d,"clickMarker",c);this.listenTo(d,"rollOverItem",c);this.listenTo(d,"rollOutItem",c);this.listenTo(d,"rollOverMarker",c);this.listenTo(d,"rollOutMarker",c);this.listenTo(d,"clickLabel",c)},removeLegend:function(){this.legend=void 0},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSize();this.renderfix()}});AmCharts.Slice=AmCharts.Class({construct:function(){}});AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}});AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}});AmCharts.Guide=AmCharts.Class({construct:function(){}});AmCharts.toBoolean=function(d,c){if(void 0==d){return c}switch((""+d).toLowerCase()){case"true":case"yes":case"1":return !0;case"false":case"no":case"0":case null:return !1;default:return Boolean(d)}};AmCharts.formatMilliseconds=function(f,e){if(-1!=f.indexOf("fff")){var j=e.getMilliseconds(),h=""+j;10>j&&(h="00"+j);10<=j&&100>j&&(h="0"+j);f=f.replace(/fff/g,h)}return f};AmCharts.callMethod=function(j,h){for(var o=0;o<h.length;o++){var n=h[o];if(n){if(n[j]){n[j]()}var m=n.length;if(0<m){for(var l=0;l<m;l++){var k=n[l];if(k&&k[j]){k[j]()}}}}}};AmCharts.toNumber=function(b){return"number"==typeof b?b:Number((""+b).replace(/[^0-9\-.]+/g,""))};AmCharts.toColor=function(e){if(""!=e&&void 0!=e){if(-1!=e.indexOf(",")){for(var e=e.split(","),d=0;d<e.length;d++){var f=e[d].substring(e[d].length-6,e[d].length);e[d]="#"+f}}else{e=e.substring(e.length-6,e.length),e="#"+e}}return e};AmCharts.toSvgColor=function(f,e){if("object"==typeof f){void 0==e&&(e=90);for(var j=e,h=0;h<f.length;h++){j+="-"+f[h]}return j}return f};AmCharts.toCoordinate=function(f,e,j){var h;void 0!=f&&(f=f.toString(),j&&j<e&&(e=j),h=Number(f),-1!=f.indexOf("!")&&(h=e-Number(f.substr(1))),-1!=f.indexOf("%")&&(h=e*Number(f.substr(0,f.length-1))/100));return h};AmCharts.fitToBounds=function(e,d,f){e<d&&(e=d);e>f&&(e=f);return e};AmCharts.isDefined=function(b){return void 0==b?!1:!0};AmCharts.stripNumbers=function(b){return b.replace(/[0-9]+/g,"")};AmCharts.extractPeriod=function(e){var d=AmCharts.stripNumbers(e),f=1;d!=e&&(f=Number(e.slice(0,e.indexOf(d))));return{period:d,count:f}};AmCharts.resetDateToMin=function(w,v,u,t){void 0==t&&(t=1);var s,r,q,p,o,m,n;switch(v){case"YYYY":s=Math.floor(w.getFullYear()/u)*u;r=0;q=1;n=m=o=p=0;break;case"MM":s=w.getFullYear();r=Math.floor(w.getMonth()/u)*u;q=1;n=m=o=p=0;break;case"WW":s=w.getFullYear();r=w.getMonth();v=w.getDay();0==v&&0<t&&(v=7);q=w.getDate()-v+t;n=m=o=p=0;break;case"DD":s=w.getFullYear();r=w.getMonth();q=Math.floor(w.getDate()/u)*u;n=m=o=p=0;break;case"hh":s=w.getFullYear();r=w.getMonth();q=w.getDate();p=Math.floor(w.getHours()/u)*u;n=m=o=0;break;case"mm":s=w.getFullYear();r=w.getMonth();q=w.getDate();p=w.getHours();o=Math.floor(w.getMinutes()/u)*u;n=m=0;break;case"ss":s=w.getFullYear();r=w.getMonth();q=w.getDate();p=w.getHours();o=w.getMinutes();m=Math.floor(w.getSeconds()/u)*u;n=0;break;case"fff":s=w.getFullYear(),r=w.getMonth(),q=w.getDate(),p=w.getHours(),o=w.getMinutes(),m=w.getSeconds(),n=Math.floor(w.getMilliseconds()/u)*u}return w=new Date(s,r,q,p,o,m,n)};AmCharts.getPeriodDuration=function(e,d){void 0==d&&(d=1);var f;switch(e){case"YYYY":f=31622400000;break;case"MM":f=2678400000;break;case"WW":f=604800000;break;case"DD":f=86400000;break;case"hh":f=3600000;break;case"mm":f=60000;break;case"ss":f=1000;break;case"fff":f=1}return f*d};AmCharts.roundTo=function(e,d){if(0>d){return e}var f=Math.pow(10,d);return Math.round(e*f)/f};AmCharts.intervals={s:{nextInterval:"ss",contains:1000},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};AmCharts.getMaxInterval=function(e,d){var f=AmCharts.intervals;return e>=f[d].contains?(e=Math.round(e/f[d].contains),d=f[d].nextInterval,AmCharts.getMaxInterval(e,d)):"ss"==d?f[d].nextInterval:d};AmCharts.formatDuration=function(s,r,q,p,o,n){var m=AmCharts.intervals,l=n.decimalSeparator;if(s>=m[r].contains){var k=s-Math.floor(s/m[r].contains)*m[r].contains;"ss"==r&&(k=AmCharts.formatNumber(k,n),1==k.split(l)[0].length&&(k="0"+k));if(("mm"==r||"hh"==r)&&10>k){k="0"+k}q=k+""+p[r]+""+q;s=Math.floor(s/m[r].contains);r=m[r].nextInterval;return AmCharts.formatDuration(s,r,q,p,o,n)}"ss"==r&&(s=AmCharts.formatNumber(s,n),1==s.split(l)[0].length&&(s="0"+s));if(("mm"==r||"hh"==r)&&10>s){s="0"+s}q=s+""+p[r]+""+q;if(m[o].count>m[r].count){for(s=m[r].count;s<m[o].count;s++){r=m[r].nextInterval,"ss"==r||"mm"==r||"hh"==r?q="00"+p[r]+""+q:"DD"==r&&(q="0"+p[r]+""+q)}}":"==q.charAt(q.length-1)&&(q=q.substring(0,q.length-1));return q};AmCharts.formatNumber=function(w,v,u,t,s){w=AmCharts.roundTo(w,v.precision);isNaN(u)&&(u=v.precision);var r=v.decimalSeparator,v=v.thousandsSeparator,q=0>w?"-":"",w=Math.abs(w),p=w.toString();if(-1==p.indexOf("e")){for(var p=p.split("."),o="",m=p[0].toString(),n=m.length;0<=n;n-=3){o=n!=m.length?0!=n?m.substring(n-3,n)+v+o:m.substring(n-3,n)+o:m.substring(n-3,n)}void 0!=p[1]&&(o=o+r+p[1]);void 0!=u&&0<u&&"0"!=o&&(o=AmCharts.addZeroes(o,r,u))}else{o=p}o=q+o;""==q&&!0==t&&0!=w&&(o="+"+o);!0==s&&(o+="%");return o};AmCharts.addZeroes=function(e,d,f){e=e.split(d);void 0==e[1]&&0<f&&(e[1]="0");return e[1].length<f?(e[1]+="0",AmCharts.addZeroes(e[0]+d+e[1],d,f)):void 0!=e[1]?e[0]+d+e[1]:e[0]};AmCharts.scientificToNormal=function(f){var e,f=f.toString().split("e");if("-"==f[1].substr(0,1)){e="0.";for(var j=0;j<Math.abs(Number(f[1]))-1;j++){e+="0"}e+=f[0].split(".").join("")}else{var h=0;e=f[0].split(".");e[1]&&(h=e[1].length);e=f[0].split(".").join("");for(j=0;j<Math.abs(Number(f[1]))-h;j++){e+="0"}}return e};AmCharts.toScientific=function(e,d){if(0==e){return"0"}var f=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);Math.pow(10,f);mantissa=mantissa.toString().split(".").join(d);return mantissa.toString()+"e"+f};AmCharts.generateGradient=function(f,e,j){if(j){for(var h=j.length-1;0<=h;h--){e+="-"+AmCharts.adjustLuminosity(f,j[h]/100)}}else{if("object"==typeof f){if(1<f.length){for(h=0;h<f.length;h++){e+="-"+f[h]}}else{e=f[0]}}else{e=f}}return e};AmCharts.randomColor=function(){function b(){return Math.floor(256*Math.random()).toString(16)}return"#"+b()+b()+b()};AmCharts.hitTest=function(s,r,q){var p=!1,o=s.x-5,n=s.x+s.width+5,m=s.y-5,l=s.y+s.height+5,k=AmCharts.isInRectangle;p||(p=k(o,m,r));p||(p=k(o,l,r));p||(p=k(n,m,r));p||(p=k(n,l,r));!p&&!0!=q&&(p=AmCharts.hitTest(r,s,!0));return p};AmCharts.isInRectangle=function(e,d,f){return e>=f.x-5&&e<=f.x+f.width+5&&d>=f.y-5&&d<=f.y+f.height+5?!0:!1};AmCharts.isPercents=function(b){if(-1!=(""+b).indexOf("%")){return !0}};AmCharts.dayNames="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");AmCharts.shortDayNames="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",");AmCharts.monthNames="January,February,March,April,May,June,July,August,September,October,November,December".split(",");AmCharts.shortMonthNames="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");AmCharts.formatDate=function(C,B){var A=C.getFullYear(),z=(""+A).substr(-2,2),y=C.getMonth(),x=y+1;9>y&&(x="0"+x);var w=C.getDate(),v=w;10>w&&(v="0"+w);var u=C.getDay(),s="0"+u,t=C.getHours(),q=t;24==q&&(q=0);var p=q;10>p&&(p="0"+p);B=B.replace(/JJ/g,p);B=B.replace(/J/g,q);q=t;0==q&&(q=24);p=q;10>p&&(p="0"+p);B=B.replace(/HH/g,p);B=B.replace(/H/g,q);q=t;11<q&&(q-=12);p=q;10>p&&(p="0"+p);B=B.replace(/KK/g,p);B=B.replace(/K/g,q);q=t;12<q&&(q-=12);p=q;10>p&&(p="0"+p);B=B.replace(/LL/g,p);B=B.replace(/L/g,q);p=q=C.getMinutes();10>p&&(p="0"+p);B=B.replace(/NN/g,p);B=B.replace(/N/g,q);p=q=C.getSeconds();10>p&&(p="0"+p);B=B.replace(/SS/g,p);B=B.replace(/S/g,q);p=q=C.getMilliseconds();10>p&&(p="00"+p);100>p&&(p="0"+p);var r=q;10>r&&(r="00"+r);B=B.replace(/QQQ/g,p);B=B.replace(/QQ/g,r);B=B.replace(/Q/g,q);B=12>t?B.replace(/A/g,"am"):B.replace(/A/g,"pm");B=B.replace(/YYYY/g,"@IIII@");B=B.replace(/YY/g,"@II@");B=B.replace(/MMMM/g,"@XXXX@");B=B.replace(/MMM/g,"@XXX@");B=B.replace(/MM/g,"@XX@");B=B.replace(/M/g,"@X@");B=B.replace(/DD/g,"@RR@");B=B.replace(/D/g,"@R@");B=B.replace(/EEEE/g,"@PPPP@");B=B.replace(/EEE/g,"@PPP@");B=B.replace(/EE/g,"@PP@");B=B.replace(/E/g,"@P@");B=B.replace(/@IIII@/g,A);B=B.replace(/@II@/g,z);B=B.replace(/@XXXX@/g,AmCharts.monthNames[y]);B=B.replace(/@XXX@/g,AmCharts.shortMonthNames[y]);B=B.replace(/@XX@/g,x);B=B.replace(/@X@/g,y+1);B=B.replace(/@RR@/g,v);B=B.replace(/@R@/g,w);B=B.replace(/@PPPP@/g,AmCharts.dayNames[u]);B=B.replace(/@PPP@/g,AmCharts.shortDayNames[u]);B=B.replace(/@PP@/g,s);return B=B.replace(/@P@/g,u)};AmCharts.findPosX=function(d){for(var c=d.offsetLeft;d=d.offsetParent;){c+=d.offsetLeft,d!=document.body&&d!=document.documentElement&&(c-=d.scrollLeft)}return c};AmCharts.findPosY=function(d){for(var c=d.offsetTop;d=d.offsetParent;){c+=d.offsetTop,d!=document.body&&d!=document.documentElement&&(c-=d.scrollTop)}return c};AmCharts.findIfFixed=function(b){for(;b=b.offsetParent;){if("fixed"==b.style.position){return !0}}return !1};AmCharts.formatValue=function(w,v,u,t,s,r,q,p){if(v){void 0==s&&(s="");for(var o=0;o<u.length;o++){var m=u[o],n=v[m];void 0!=n&&(n=r?AmCharts.addPrefix(n,p,q,t):AmCharts.formatNumber(n,t),w=w.replace(RegExp("\\[\\["+s+""+m+"\\]\\]","g"),n))}}return w};AmCharts.formatDataContextValue=function(h,f){if(h){for(var l=h.match(/\[\[.*?\]\]/g),k=0;k<l.length;k++){var j=l[k],j=j.substr(2,j.length-4);void 0!=f[j]&&(h=h.replace(RegExp("\\[\\["+j+"\\]\\]","g"),f[j]))}}return h};AmCharts.massReplace=function(f,e){for(var j in e){var h=e[j];void 0==h&&(h="");f=f.replace(j,h)}return f};AmCharts.cleanFromEmpty=function(b){return b.replace(/\[\[[^\]]*\]\]/g,"")};AmCharts.addPrefix=function(j,h,o,n){var m=AmCharts.formatNumber(j,n),l="",k;if(0==j){return"0"}0>j&&(l="-");j=Math.abs(j);if(1<j){for(k=h.length-1;-1<k;k--){if(j>=h[k].number){j/=h[k].number;n=Number(n.precision);1>n&&(n=1);j=AmCharts.roundTo(j,n);m=l+""+j+""+h[k].prefix;break}}}else{for(k=0;k<o.length;k++){if(j<=o[k].number){j/=o[k].number;n=Math.abs(Math.round(Math.log(j)*Math.LOG10E));j=AmCharts.roundTo(j,n);m=l+""+j+""+o[k].prefix;break}}}return m};AmCharts.removeObject=function(d,c){d&&d.node&&(d.remove(),c&&c.exclude(d))};AmCharts.removeSet=function(h){if(h){for(var f=0;f<h.length;f++){var l=h[f];0<l.length&&AmCharts.removeSet(l);var k=l.clip,j=l.node;j&&(j.clipRect&&(k=j.clipRect),j.parentNode&&l.remove());k&&(k.parentNode&&k.parentNode.removeChild(k),delete k)}}};AmCharts.copyProperties=function(e,d){for(var f in e){"events"!=f&&void 0!=e[f]&&"function"!=typeof e[f]&&(d[f]=e[f])}};AmCharts.recommended=function(){var b="js";document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(b="flash");return b};AmCharts.Bezier=AmCharts.Class({construct:function(w,v,u,t,s,r,q,p,o,m){"object"==typeof q&&(q=q[0]);"object"==typeof p&&(p=p[0]);var n="";1==o&&(n=".");1<o&&(n="-");t={stroke:t,fill:q,"fill-opacity":p,"stroke-dasharray":n,opacity:s,"stroke-width":r};s=v.length;this.lineArray=["M",v[0],u[0]];r=[];for(q=0;q<s;q++){r.push({x:v[q],y:u[q]})}1<r.length&&this.drawBeziers(this.interpolate(r));this.lineArray=this.lineArray.concat(m);this.path=w.path(this.lineArray).attr(t)},interpolate:function(j){var h=[];h.push({x:j[0].x,y:j[0].y});var o=j[1].x-j[0].x,n=j[1].y-j[0].y;h.push({x:j[0].x+o/6,y:j[0].y+n/6});for(var m=1;m<j.length-1;m++){var l=j[m-1],k=j[m],n=j[m+1],o=n.x-k.x,n=n.y-l.y,l=k.x-l.x;l>o&&(l=o);h.push({x:k.x-l/3,y:k.y-n/6});h.push({x:k.x,y:k.y});h.push({x:k.x+l/3,y:k.y+n/6})}n=j[j.length-1].y-j[j.length-2].y;o=j[j.length-1].x-j[j.length-2].x;h.push({x:j[j.length-1].x-o/3,y:j[j.length-1].y-n/6});h.push({x:j[j.length-1].x,y:j[j.length-1].y});return h},drawBeziers:function(d){for(var c=0;c<(d.length-1)/3;c++){this.drawBezierMidpoint(d[3*c],d[3*c+1],d[3*c+2],d[3*c+3])}},drawBezierMidpoint:function(s,r,q,p){var o=this.getPointOnSegment(s,r,0.75),n=this.getPointOnSegment(p,q,0.75),m=(p.x-s.x)/16,l=(p.y-s.y)/16,s=this.getPointOnSegment(s,r,0.375),r=this.getPointOnSegment(o,n,0.375);r.x-=m;r.y-=l;var k=this.getPointOnSegment(n,o,0.375);k.x+=m;k.y+=l;q=this.getPointOnSegment(p,q,0.375);m=this.getMiddle(s,r);o=this.getMiddle(o,n);n=this.getMiddle(k,q);l=this.lineArray;l.push("Q",s.x,s.y,m.x,m.y);l.push("Q",r.x,r.y,o.x,o.y);l.push("Q",k.x,k.y,n.x,n.y);l.push("Q",q.x,q.y,p.x,p.y)},getMiddle:function(d,c){return{x:(d.x+c.x)/2,y:(d.y+c.y)/2}},getPointOnSegment:function(e,d,f){return{x:e.x+(d.x-e.x)*f,y:e.y+(d.y-e.y)*f}}});AmCharts.Cuboid=AmCharts.Class({construct:function(y,x,w,v,u,t,s,r,q,o,p,m){this.set=y.set();this.container=y;this.h=w;this.w=x;this.dx=v;this.dy=u;this.colors=t;this.alpha=s;this.bwidth=r;this.bcolor=q;this.balpha=o;"object"!=typeof t&&(this.colors=[t]);0>x&&0==p&&(p=180);0>w&&270==p&&(p=90);this.gradientRotation=p;0==v&&0==u&&(this.cornerRadius=m);this.draw()},draw:function(){var E=this.set;E.remove();var D=this.container,C=Math.abs(this.w),B=Math.abs(this.h),A=this.dx,z=this.dy,y=this.colors,x=this.alpha,w=this.bwidth,u=this.bcolor,v=this.balpha,s=this.gradientRotation,r=this.cornerRadius;if(0<A||0<z){var t=y[y.length-1];0<B&&(t=y[0]);t=AmCharts.adjustLuminosity(t,-0.2);t=AmCharts.polygon(D,[0,A,C+A,C,0],[0,z,z,0,0],[t],x,0,0,0,s);E.push(t);t=AmCharts.line(D,[0,A,C+A],[0,z,z],u,v,w);E.push(t);t=AmCharts.adjustLuminosity(y[0],-0.2);if(0<B&&0<C){var q=AmCharts.rect(D,C,B,t,x,0,0,0,0,s);E.push(q);q.translate(A,-B+z);q=AmCharts.line(D,[A,A],[z,-B+z],u,v,w);E.push(q);q=AmCharts.polygon(D,[0,0,A,A,0],[0,-B,-B+z,z,0],t,x,0,0,0,s);E.push(q);t=AmCharts.polygon(D,[0,0,A,A,0],[0,-B,-B+z,z,0],t,x,0,0,0,s);t.translate(C,0);E.push(t);t=AmCharts.line(D,[0,A,A,0],[-B,-B+z,z,0],u,v,w);E.push(t);t.translate(C,0)}t=y[0];0<B&&(t=y[y.length-1]);t=AmCharts.adjustLuminosity(t,0.2);t=AmCharts.polygon(D,[0,A,C+A,C,0],[0,z,z,0,0],[t],x,0,0,0,s);t.translate(0,-B);E.push(t);A=AmCharts.line(D,[0,A,C+A],[0,z,z],u,v,w);A.translate(0,-B);E.push(A)}1>B&&(B=1,v=x=0);D=AmCharts.rect(D,C,B,y,x,w,u,v,r,s);D.attr({y:-B});E.push(D);this.front=D},y:function(d){var c=this.set;0!=this.dx&&0!=this.dy?0<this.h?c.translate(0,d+this.h):c.translate(0,d):0>this.h?this.set.attr({y:d+this.h}):this.set.attr({y:d})},x:function(d){var c=this.set;0!=this.dx&&0!=this.dy?0>this.w?c.translate(d+this.w,0):c.translate(d,0):0>this.w?c.attr({x:d+this.w}):c.attr({x:d})},width:function(b){this.w=b;this.draw()},height:function(b){this.h=b;this.draw()},getX:function(){return this.front.getBBox().x},getY:function(){return this.front.getBBox().y}});AmCharts.AmLegend=AmCharts.Class({construct:function(){this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderAlpha=0;this.markerBorderThickness=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.selectedColor;this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.dateFormat="DD-MM-YYYY";this.ly;this.lx},setData:function(b){this.data=b;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var b=this.data;b&&0<b.length&&this.drawLegend();this.container&&this.container.renderfix()},drawLegend:function(){var j=this.chart,h=this.position,o=this.width,n=j.realWidth,m=j.realHeight,l=this.div,k=this.data;"right"==h||"left"==h?(this.maxColumns=1,this.marginLeft=this.marginRight=10):this.autoMargins&&(this.marginRight=j.marginRight,this.marginLeft=j.marginLeft,"bottom"==h?(this.marginBottom=j.autoMarginOffset,this.marginTop=0):(this.marginTop=j.autoMarginOffset,this.marginBottom=0));this.divWidth=h=void 0!=o?AmCharts.toCoordinate(o,n):j.realWidth;this.divWidth=h=300;l.style.width=h+"px";this.container?this.container.setSize(h,m):this.container=Raphael(l,h,m);this.lx=0;this.ly=8;m=this.markerSize;0<m&&(this.lx+=m+this.markerLabelGap,this.ly=m/2);this.titleWidth=0;if(m=this.title){l=j.fontSize,this.titleWidth=AmCharts.text(this.container,0,this.marginTop+l/2+this.ly,m,{fill:this.color,"text-anchor":"start","font-weight":"bold","font-family":j.fontFamily,"font-size":l}).getBBox().width+15}for(j=this.index=this.maxLabelWidth=0;j<k.length;j++){this.createEntry(k[j])}for(j=this.index=0;j<k.length;j++){this.createValue(k[j])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var U=this.position,T=this.marginLeft+this.titleWidth,S=this.marginRight,R=this.marginTop,Q=this.marginBottom,P=this.horizontalGap,O=this.div,N=this.divWidth,M=this.maxColumns,K=this.verticalGap,L=this.spacing,I=N-S-T,H=0,J=0,G=this.container.set();this.set=G;for(var D=this.entries,F=0;F<D.length;F++){var C=D[F].getBBox(),y=C.width;y>H&&(H=y);C=C.height;C>J&&(J=C)}for(var w=y=0,u=P,F=0;F<D.length;F++){var B=D[F];this.reversedOrder&&(B=D[D.length-F-1]);var C=B.getBBox(),A;this.equalWidths?A=P+w*(H+L+this.markerLabelGap):(A=u,u=u+C.width+P+L);A+C.width>I&&0<F&&(y++,w=0,A=P,u=A+C.width+P+L);B.translate(A+","+(K+(J+K)*y));w++;!isNaN(M)&&w>=M&&(w=0,y++);G.push(B)}C=G.getBBox();M=C.height+2*K-1;"left"==U||"right"==U?(P=C.width+2*P,O.style.width=P+T+S+"px"):P=N-T-S-1;S=AmCharts.rect(this.container,P,M,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);S.toBack();G.push(S);G.translate(T+","+R);if("top"==U||"bottom"==U){G.pop(),"center"==this.align&&G.translate((P-C.width)/2+",0"),"right"==this.align&&G.translate(P-C.width+",0")}U=M+R+Q+1;0>U&&(U=0);O.style.height=U+"px"},createEntry:function(k){if(!1!==k.visibleInLegend){var j=this,q=j.chart,p=k.markerType;p||(p=j.markerType);var o=k.color,n=k.alpha;k.legendKeyColor&&(o=k.legendKeyColor());k.legendKeyAlpha&&(n=k.legendKeyAlpha());!0==k.hidden&&(o=j.markerDisabledColor);if(p=j.createMarker(p,o,n)){if(0<p.length){for(n=0;n<p.length;n++){p[n].dItem=k}}else{p.dItem=k}}if(n=j.switchType){var m="x"==n?j.createX():j.createV()}m.dItem=k;!0!=k.hidden?"x"==n?m.hide():m.show():"x"!=n&&m.hide();j.switchable||m.hide();n=j.container.set([p,m]);q.touchEventsEnabled?(n.touchend(function(){j.clickMarker(this.dItem)}),n.touchstart(function(){j.rollOverMarker(this.dItem)})):n.hover(function(){j.rollOverMarker(this.dItem)},function(){j.rollOutMarker(this.dItem)}).click(function(){j.clickMarker(this.dItem)});q=j.color;k.showBalloon&&j.textClickEnabled&&void 0!=j.selectedColor&&(q=j.selectedColor);j.useMarkerColorForLabels&&(q=o);!0==k.hidden&&(q=j.markerDisabledColor);o=j.chart.fontSize;isNaN(j.fontSize)||(o=j.fontSize);if(n=AmCharts.massReplace(j.labelText,{"[[title]]":k.title})){var l=AmCharts.text(j.container,j.lx,j.ly,n,{fill:q,"text-anchor":"start","font-family":j.chart.fontFamily,"font-size":o}),o=l.getBBox().width;j.maxLabelWidth<o&&(j.maxLabelWidth=o)}o=j.container.set();p&&o.push(p);m&&o.push(m);l&&o.push(l);j.entries[j.index]=o;k.legendEntry=j.entries[j.index];k.legendLabel=l;k.legendSwitch=m;j.index++}},rollOverMarker:function(b){this.switchable&&this.dispatch("rollOverMarker",b);this.dispatch("rollOverItem",b)},rollOutMarker:function(b){this.switchable&&this.dispatch("rollOutMarker",b);this.dispatch("rollOutItem",b)},clickMarker:function(b){this.switchable?!0==b.hidden?this.dispatch("showItem",b):this.dispatch("hideItem",b):this.dispatch("clickMarker",b)},rollOverLabel:function(b){b.hidden||(this.textClickEnabled&&b.legendLabel&&b.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",b))},rollOutLabel:function(d){if(!d.hidden){if(this.textClickEnabled&&d.legendLabel){var c=this.color;void 0!=this.selectedColor&&d.showBalloon&&(c=this.selectedColor);this.useMarkerColorForLabels&&(c=d.lineColor,void 0==c&&(c=d.color));d.legendLabel.attr({fill:c})}this.dispatch("rollOutItem",d)}},clickLabel:function(b){this.textClickEnabled?b.hidden||this.dispatch("clickLabel",b):this.switchable&&(!0==b.hidden?this.dispatch("showItem",b):this.dispatch("hideItem",b))},dispatch:function(d,c){this.fire(d,{type:d,dataItem:c})},createValue:function(k){var j=this;if(!1!==k.visibleInLegend){var q=j.maxLabelWidth;j.equalWidths||(j.valueAlign="left");"left"==j.valueAlign&&(q=k.legendEntry.getBBox().width);var p=q;if(j.valueText){var o=j.color;j.useMarkerColorForLabels&&(o=k.color);!0==k.hidden&&(o=j.markerDisabledColor);var n=j.chart.fontSize;isNaN(j.fontSize)&&(n=j.fontSize);var m=j.valueText,q=q+j.lx+j.markerLabelGap+j.valueWidth,l="end";"left"==j.valueAlign&&(q-=j.valueWidth,l="start");o=AmCharts.text(j.container,q,j.ly,m,{fill:o,"text-anchor":l,"font-family":j.chart.fontFamily,"font-size":n});j.entries[j.index].push(o);p+=j.valueWidth+j.markerLabelGap;o.dItem=k;j.valueLabels.push(o)}j.index++;p=j.container.rect(j.markerSize+j.markerLabelGap,0,p,j.markerSize).attr({stroke:"none",fill:"#FFCCFF","fill-opacity":0});p.dItem=k;j.entries[j.index-1].push(p);p.mouseover(function(){j.rollOverLabel(this.dItem)}).mouseout(function(){j.rollOutLabel(this.dItem)}).click(function(){j.clickLabel(this.dItem)})}},createV:function(){var b=this.markerSize;return this.container.path(["M",b/5,b/3,"L",b/2,b-b/5,"L",b-b/5,b/5,"L",b/2,b/1.7,"Z"]).attr({fill:this.switchColor,stroke:this.switchColor})},createX:function(){var b=this.markerSize-3;return this.container.path(["M",3,3,"L",b,b,"M",b,3,"L",3,b]).attr({stroke:this.switchColor,"stroke-width":3})},createMarker:function(j,h,o){var n=this.markerSize,m=this.container,l,k=this.markerBorderColor;k||(k=h);o={fill:h,stroke:k,opacity:o,"stroke-opacity":this.markerBorderAlpha,"stroke-width":this.markerBorderThickness};switch(j){case"square":l=m.rect(0,0,n,n).attr(o);break;case"circle":l=m.circle(n/2,n/2,n/2).attr(o);break;case"line":l=m.path(["M",0,n/2,"L",n,n/2]).attr({stroke:h,"stroke-width":this.markerBorderThickness});break;case"dashedLine":l=m.path(["M",0,n/2,"L",n/2-2,n/2,"M",n/2+2,n/2,"L",n,n/2]).attr({stroke:h,"stroke-width":this.markerBorderThickness});break;case"triangleUp":l=m.path(["M",0,n,"L",n/2,0,"L",n,n,"L",0,n,"Z"]).attr(o);break;case"triangleDown":l=m.path(["M",0,0,"L",n/2,n,"L",n,0,"L",0,0,"Z"]).attr(o);break;case"bubble":o.fill=NaN,o.gradient="r"+h+"-"+AmCharts.adjustLuminosity(h,-0.4),l=m.circle(n/2,n/2,n/2).attr(o)}return l},validateNow:function(){this.invalidateSize()},updateValues:function(){for(var j=this.valueLabels,h=this.chart,o=0;o<j.length;o++){var n=j[o],m=n.dItem;if(void 0!=m.type){var l=m.currentDataItem;if(l){var k=this.valueText;m.legendValueText&&(k=m.legendValueText);m=k;m=h.formatString(m,l);n.attr({text:m})}else{n.attr({text:" "})}}else{l=h.formatString(this.valueText,m),n.attr({text:l})}}},destroy:function(){var b=this.container;b&&b.clear()}});AmCharts.AmBalloon=AmCharts.Class({construct:function(){this.enabled=!0;this.fillColor="#CC0000";this.fillAlpha=1;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=6;this.maximumWidth=220;this.horizontalPadding=8;this.verticalPadding=5;this.pointerWidth=10;this.pointerOrientation="vertical";this.color="#FFFFFF";this.textShadowColor="#000000";this.adjustBorderColor=!1;this.showBullet=!0;this.show=this.follow=!1;this.bulletSize=3},draw:function(){var Q=this.pointToX,P=this.pointToY;if(!isNaN(Q)){var O=this.chart,N=O.container;AmCharts.removeSet(this.set);var M=N.set();this.set=M;if(this.show){var L=this.l,K=this.t,J=this.r,I=this.b,G=this.textShadowColor;this.color==G&&(G=null);var H=this.balloonColor,E=this.fillColor,D=this.borderColor;void 0!=H&&(this.adjustBorderColor?D=H:E=H);var F=this.horizontalPadding,C=this.verticalPadding,H=this.pointerWidth,A=this.pointerOrientation,B=this.cornerRadius,y=O.fontFamily,w=this.fontSize;void 0==w&&(w=O.fontSize);O=AmCharts.text(N,0,0,this.text,{fill:this.color,"font-family":y,"font-size":w});M.push(O);if(void 0!=G){var u=AmCharts.text(N,1,1,this.text,{fill:G,opacity:0.4,"font-family":y,"font-size":w});M.push(u)}G=O.getBBox();M=G.height+2*C;C=G.width+2*F;window.opera&&(M+=6);O.translate(C/2+","+M/2);u&&u.translate(C/2+","+M/2);"horizontal"!=A?(F=Q-C/2,G=P<K+M+10&&"down"!=A?P+H:P-M-H):(2*H>M&&(H=M/2),G=P-M/2,F=Q<L+(J-L)/2?Q+H:Q-C-H);G+M>=I&&(G=I-M);G<K&&(G=K);F<L&&(F=L);F+C>J&&(F=J-C);if(0<B){if(D=AmCharts.rect(N,C,M,[E],[this.fillAlpha],this.borderThickness,D,this.borderAlpha,this.cornerRadius),this.showBullet){var t=AmCharts.circle(N,this.bulletSize,E,this.fillAlpha);t.translate(Q+","+P)}}else{I=[],B=[],"horizontal"!=A?(L=Q-F,L>C-H&&(L=C-H),L<H&&(L=H),I=[0,L-H,Q-F,L+H,C,C,0,0],B=P<K+M+10&&"down"!=A?[0,0,P-G+3,0,0,M,M,0]:[M,M,P-G-3,M,M,0,0,M]):(K=P-G,K>M-H&&(K=M-H),K<H&&(K=H),B=[0,K-H,P-G,K+H,M,M,0,0],I=Q<L+(J-L)/2?[0,0,Q-F,0,0,C,C,0]:[C,C,Q-F,C,C,0,0,C]),D=AmCharts.polygon(N,I,B,E,this.fillAlpha,this.borderThickness,D,this.borderAlpha)}this.set.push(D);D.toFront();u&&u.toFront();O.toFront();this.set.translate(F+","+G);G=D.getBBox();this.bottom=G.y+G.height;this.yPos=G.y;t&&this.set.push(t)}}},followMouse:function(){if(this.follow&&this.show){var h=this.chart.mouseX,f=this.chart.mouseY;this.pointToX=h;this.pointToY=f;if(h!=this.previousX||f!=this.previousY){if(this.previousX=h,this.previousY=f,0==this.cornerRadius){this.draw()}else{var l=this.set;if(l&&l[0].node){var k=l.getBBox(),h=h-k.width/2,j=f-k.height-10;h<this.l&&(h=this.l);h>this.r-k.width&&(h=this.r-k.width);j<this.t&&(j=f+10);l.translate(h-k.x+","+(j-k.y))}}}}},changeColor:function(b){this.balloonColor=b},setBounds:function(f,e,j,h){this.l=f;this.t=e;this.r=j;this.b=h},showBalloon:function(b){this.text=b;this.show=!0;this.draw()},hide:function(){this.destroy();this.follow=this.show=!1},setPosition:function(e,d,f){this.pointToX=e;this.pointToY=d;f&&(e!=this.previousX||d!=this.previousY)&&this.draw();this.previousX=e;this.previousY=d},followCursor:function(f){var e=this;(e.follow=f)?(e.pShowBullet=e.showBullet,e.showBullet=!1):void 0!=e.pShowBullet&&(e.showBullet=e.pShowBullet);clearInterval(e.interval);var j=e.chart.mouseX,h=e.chart.mouseY;!isNaN(j)&&f&&(e.pointToX=j,e.pointToY=h,e.interval=setInterval(function(){e.followMouse.call(e)},40))},destroy:function(){clearInterval(this.interval);AmCharts.removeSet(this.set)}});AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(){AmCharts.AmCoordinateChart.base.construct.call(this);this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem");this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.startDuration=this.startAlpha=this.plotAreaBorderAlpha=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600,#FCD202,#B0DE09,#0D8ECF,#2A0CD0,#CD0D74,#CC0000,#00CC00,#0000CC,#DDDDDD,#999999,#333333,#990000".split(",");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[]},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);this.createValueAxes();var b=this.legend;b&&b.setData(this.graphs)},createValueAxes:function(){0==this.valueAxes.length&&this.addValueAxis(new AmCharts.ValueAxis)},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(){AmCharts.AmSerialChart.base.parseData.call(this);var K=this.graphs,J=this.seriesIdField;J||(J=this.categoryField);this.chartData=[];var I=this.dataProvider;if(I){var H=!1;this.categoryAxis&&(H=this.categoryAxis.parseDates);if(H){var G=AmCharts.extractPeriod(this.categoryAxis.minPeriod),F=G.period,G=G.count}var E={};this.lookupTable=E;for(var D=0;D<I.length;D++){var C={},A=I[D],B=A[this.categoryField];C.category=B;E[A[J]]=C;H&&(B=new Date(B),B=AmCharts.resetDateToMin(B,F,G),C.category=B,C.time=B.getTime());var y=this.valueAxes;C.axes={};C.x={};for(var x=0;x<y.length;x++){var z=y[x].id;C.axes[z]={};C.axes[z].graphs={};for(var w=0;w<K.length;w++){var B=K[w],u=B.id,v=B.periodValue;if(B.valueAxis.id==z){C.axes[z].graphs[u]={};var t={};t.index=D;t.values=this.processValues(A,B,v);this.processFields(B,t,A);t.category=C.category;t.serialDataItem=C;t.graph=B;C.axes[z].graphs[u]=t}}}this.chartData[D]=C}}for(J=0;J<K.length;J++){B=K[J],B.dataProvider&&this.parseGraphData(B)}},processValues:function(h,f,l){var k={},j=Number(h[f.valueField+l]);isNaN(j)||(k.value=j);j=Number(h[f.openField+l]);isNaN(j)||(k.open=j);j=Number(h[f.closeField+l]);isNaN(j)||(k.close=j);j=Number(h[f.lowField+l]);isNaN(j)||(k.low=j);j=Number(h[f.highField+l]);isNaN(j)||(k.high=j);return k},parseGraphData:function(j){var h=j.dataProvider,o=j.seriesIdField;o||(o=this.seriesIdField);o||(o=this.categoryField);for(var n=0;n<h.length;n++){var m=h[n],l=this.lookupTable[""+m[o]],k=j.valueAxis.id;l&&(k=l.axes[k].graphs[j.id],k.serialDataItem=l,k.values=this.processValues(m,j,j.periodValue),this.processFields(j,k,m))}},addValueAxis:function(b){b.chart=this;this.valueAxes.push(b);this.validateData()},removeValueAxesAndGraphs:function(){for(var d=this.valueAxes,c=d.length-1;-1<c;c--){this.removeValueAxis(d[c])}},removeValueAxis:function(f){var e=this.graphs,j;for(j=e.length-1;0<=j;j--){var h=e[j];h&&h.valueAxis==f&&this.removeGraph(h)}e=this.valueAxes;for(j=e.length-1;0<=j;j--){e[j]==f&&e.splice(j,1)}this.validateData()},addGraph:function(b){this.graphs.push(b);this.chooseGraphColor(b,this.graphs.length-1);this.validateData()},removeGraph:function(e){for(var d=this.graphs,f=d.length-1;0<=f;f--){d[f]==e&&(d.splice(f,1),e.destroy())}this.validateData()},processValueAxes:function(){for(var e=this.valueAxes,d=0;d<e.length;d++){var f=e[d];f.chart=this;f.id||(f.id="valueAxis"+d);if(!0===this.usePrefixes||!1===this.usePrefixes){f.usePrefixes=this.usePrefixes}}},processGraphs:function(){for(var e=this.graphs,d=0;d<e.length;d++){var f=e[d];f.chart=this;f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.id||(f.id="graph"+d)}},formatString:function(f,e){var j=e.graph,h=j.valueAxis;h.duration&&e.values.value&&(h=AmCharts.formatDuration(e.values.value,h.duration,"",h.durationUnits,h.maxInterval,h.numberFormatter),f=f.split("[[value]]").join(h));f=AmCharts.massReplace(f,{"[[title]]":j.title,"[[description]]":e.description,"<br>":"\n"});return f=AmCharts.cleanFromEmpty(f)},getBalloonColor:function(j,h){var n=j.lineColor,m=j.balloonColor,l=j.fillColors;"object"==typeof l?n=l[0]:void 0!=l&&(n=l);if(h.isNegative){var l=j.negativeLineColor,k=j.negativeFillColors;"object"==typeof k?l=k[0]:void 0!=k&&(l=k);void 0!=l&&(n=l)}void 0!=h.color&&(n=h.color);void 0==m&&(m=n);return m},getGraphById:function(h){for(var f,l=this.graphs,k=0;k<l.length;k++){var j=l[k];j.id==h&&(f=j)}return f},processFields:function(j,h,o){if(j.itemColors){var n=j.itemColors,m=h.index;h.color=m<n.length?n[m]:AmCharts.randomColor()}n="color,alpha,fillColors,description,bullet,customBullet,bulletSize,bulletConfig,url".split(",");for(m=0;m<n.length;m++){var l=n[m],k=j[l+"Field"];k&&(k=o[k],AmCharts.isDefined(k)&&(h[l]=k))}h.dataContext=o},chooseGraphColor:function(e,d){if(void 0==e.lineColor){var f;f=this.colors.length>d?this.colors[d]:AmCharts.randomColor();e.lineColor=f}},handleLegendEvent:function(f){var e=f.type;if(f=f.dataItem){var j=f.hidden,h=f.showBalloon;switch(e){case"clickMarker":h?this.hideGraphsBalloon(f):this.showGraphsBalloon(f);break;case"clickLabel":h?this.hideGraphsBalloon(f):this.showGraphsBalloon(f);break;case"rollOverItem":j||this.highlightGraph(f);break;case"rollOutItem":j||this.unhighlightGraph();break;case"hideItem":this.hideGraph(f);break;case"showItem":this.showGraph(f)}}},highlightGraph:function(h){var f=this.graphs,l,k=0.2;this.legend&&(k=this.legend.rollOverGraphAlpha);for(l=0;l<f.length;l++){var j=f[l];j!=h&&j.changeOpacity(k)}},unhighlightGraph:function(){for(var d=this.graphs,c=0;c<d.length;c++){d[c].changeOpacity(1)}},showGraph:function(b){b.hidden=!1;this.initChart()},hideGraph:function(b){b.hidden=!0;this.initChart()},hideGraphsBalloon:function(b){b.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(b){b.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},animateAgain:function(){var d=this.graphs;if(d){for(var c=0;c<d.length;c++){d[c].animationPlayed=!1}}}});AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(){AmCharts.AmRectangularChart.base.construct.call(this);this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplyer=this.widthMultiplyer=1;this.zoomOutText="Show all";this.zoomOutButtonSet;this.zoomOutButton={backgroundColor:"#b2e1ff",backgroundAlpha:1};this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&this.resetMargins();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){AmCharts.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();var b=this.chartData;b&&0<b.length&&((b=this.chartCursor)&&b.draw(),b=this.zoomOutText,""!=b&&b&&this.drawZoomOutButton())},resetMargins:function(){var h={};if("serial"==this.chartType){for(var f=this.valueAxes,l=0;l<f.length;l++){var k=f[l];k.ignoreAxisWidth||(k.setOrientation(this.rotate),k.fixAxisPosition(),h[k.position]=!0)}if((l=this.categoryAxis)&&!l.ignoreAxisWidth){l.setOrientation(!this.rotate),l.fixAxisPosition(),l.fixAxisPosition(),h[l.position]=!0}}else{k=this.xAxes;f=this.yAxes;for(l=0;l<k.length;l++){var j=k[l];j.ignoreAxisWidth||(j.setOrientation(!0),j.fixAxisPosition(),h[j.position]=!0)}for(l=0;l<f.length;l++){k=f[l],k.ignoreAxisWidth||(k.setOrientation(!1),k.fixAxisPosition(),h[k.position]=!0)}}h.left&&(this.marginLeft=0);h.right&&(this.marginRight=0);h.top&&(this.marginTop=0);h.bottom&&(this.marginBottom=0);this.fixMargins=h},measureMargins:function(){var u=this.valueAxes,t,s=this.autoMarginOffset,r=this.fixMargins,q=this.realWidth,p=this.realHeight,o=s,n=s,m=q-s;t=p-s;for(var k=0;k<u.length;k++){t=this.getAxisBounds(u[k],o,m,n,t),o=t.l,m=t.r,n=t.t,t=t.b}if(u=this.categoryAxis){t=this.getAxisBounds(u,o,m,n,t),o=t.l,m=t.r,n=t.t,t=t.b}r.left&&o<s&&(this.marginLeft=Math.round(-o+s));r.right&&m>q-s&&(this.marginRight=Math.round(m-q+s));r.top&&n<s&&(this.marginTop=Math.round(this.marginTop-n+s+this.titleHeight));r.bottom&&t>p-s&&(this.marginBottom=Math.round(t-p+s));this.animateAgain();this.initChart()},getAxisBounds:function(j,h,n,m,l){if(!j.ignoreAxisWidth){var k=j.set;if(k){switch(k=k.getBBox(),j.position){case"top":j=k.y;m>j&&(m=j);break;case"bottom":j=k.y+k.height;l<j&&(l=j);break;case"right":j=k.x+k.width;n<j&&(n=j);break;case"left":j=k.x,h>j&&(h=j)}}}return{l:h,t:m,r:n,b:l}},drawZoomOutButton:function(){var j=this,h=j.container.set(),n=j.color,m=j.fontSize,l=j.zoomOutButton;l&&(l.fontSize&&(m=l.fontSize),l.color&&(n=l.color));m=AmCharts.text(j.container,29,8,j.zoomOutText,{fill:n,"font-family":j.fontFamily,"font-size":m,"text-anchor":"start"});n=m.getBBox();m.translate("0,"+n.height/2);l=AmCharts.rect(j.container,n.width+40,n.height+15,[l.backgroundColor],[l.backgroundAlpha]);h.push(l);m.toFront();l.hide();j.zoomOutButtonBG=l;h.push(m);j.set.push(h);m=h.getBBox();l=j.marginTopReal;m=j.marginLeftReal+j.plotAreaWidth-m.width;h.translate(m,l);h.hide();if(void 0!=j.pathToImages){var k=j.container.image(j.pathToImages+"lens.png",0,0,17,17);k.translate(m+7,l+(n.height/2+1));k.toFront();j.lens=k}j.touchEventsEnabled&&h.touchstart(function(){j.rollOverZB()}).touchend(function(){j.clickZB()});h.mouseover(function(){j.rollOverZB()}).mouseout(function(){j.rollOutZB()}).click(function(){j.clickZB()});for(n=0;n<h.length;n++){h[n].attr({cursor:"pointer"})}j.zoomOutButtonSet=h},rollOverZB:function(){this.zoomOutButtonBG.show()},rollOutZB:function(){this.zoomOutButtonBG.hide()},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var k=this.dx,j=this.dy,q=this.marginLeftReal,p=this.marginTopReal,o=this.plotAreaWidth,n=this.plotAreaHeight,m=AmCharts.toSvgColor(this.plotAreaFillColors),l=this.plotAreaFillAlphas;"object"==typeof l&&(l=l[0]);m=AmCharts.rect(this.container,o,n,this.plotAreaFillColors,l,1,this.plotAreaBorderColor,this.plotAreaBorderAlpha);m.translate(q+","+p);this.set.push(m);0!=k&&0!=j&&(m.translate(k+","+j),m=this.plotAreaFillColors,"object"==typeof m&&(m=m[0]),m=AmCharts.adjustLuminosity(m,-0.15),l={fill:m,"fill-opacity":l,stroke:this.plotAreaBorderColor,"stroke-opacity":this.plotAreaBorderAlpha},o=this.container.path(["M",0,0,"L",k,j,"L",o+k,j,"L",o,0,"L",0,0,"Z"]).attr(l),o.translate(q+","+(p+n)),this.set.push(o),k=this.container.path(["M",0,0,"L",0,n,"L",k,n+j,"L",k,j,"L",0,0,"Z"]).attr(l),k.translate(q+","+p),this.set.push(k))},updatePlotArea:function(){this.realWidth=this.updateWidth()-1;this.realHeight=this.updateHeight()-1;var d=this.realWidth-this.marginLeftReal-this.marginRightReal-this.dx,c=this.realHeight-this.marginTopReal-this.marginBottomReal;1>d&&(d=1);1>c&&(c=1);this.plotAreaWidth=Math.round(d);this.plotAreaHeight=Math.round(c)},updateDxy:function(){this.dx=this.depth3D*Math.cos(this.angle*Math.PI/180);this.dy=-this.depth3D*Math.sin(this.angle*Math.PI/180)},updateMargins:function(){var b=this.getTitleHeight();this.titleHeight=b;this.marginTopReal=this.marginTop-this.dy+b;this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var e=this.valueAxes,d=0;d<e.length;d++){var f=e[d];f.axisRenderer=AmCharts.RectangularAxisRenderer;f.guideFillRenderer=AmCharts.RectangularAxisGuideFillRenderer;f.axisItemRenderer=AmCharts.RectangularAxisItemRenderer;f.dx=this.dx;f.dy=this.dy;f.visibleAxisWidth=this.plotAreaWidth;f.visibleAxisHeight=this.plotAreaHeight;f.visibleAxisX=this.marginLeftReal;f.visibleAxisY=this.marginTopReal;this.updateObjectSize(f)}},updateObjectSize:function(b){b.width=this.plotAreaWidth*this.widthMultiplyer;b.height=this.plotAreaHeight*this.heightMultiplyer;b.x=this.marginLeftReal+this.horizontalPosition;b.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){for(var e=this.graphs,d=0;d<e.length;d++){var f=e[d];f.x=this.marginLeftReal+this.horizontalPosition;f.y=this.marginTopReal+this.verticalPosition;f.width=this.plotAreaWidth*this.widthMultiplyer;f.height=this.plotAreaHeight*this.heightMultiplyer;f.index=d;f.dx=this.dx;f.dy=this.dy;f.rotate=this.rotate;f.chartType=this.chartType}},updateChartCursor:function(){var b=this.chartCursor;b&&(b.x=this.marginLeftReal,b.y=this.marginTopReal,b.width=this.plotAreaWidth,b.height=this.plotAreaHeight,b.chart=this)},updateScrollbars:function(){},addChartCursor:function(b){AmCharts.callMethod("destroy",[this.chartCursor]);b&&(this.listenTo(b,"changed",this.handleCursorChange),this.listenTo(b,"zoomed",this.handleCursorZoom));this.chartCursor=b},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},addTrendLine:function(b){this.trendLines.push(b)},removeTrendLine:function(e){for(var d=this.trendLines,f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},adjustMargins:function(e,d){var f=e.scrollbarHeight;"top"==e.position?d?this.marginLeftReal+=f:this.marginTopReal+=f:d?this.marginRightReal+=f:this.marginBottomReal+=f},getScrollbarPosition:function(e,d,f){e.position=d?"bottom"==f||"left"==f?"bottom":"top":"top"==f||"right"==f?"bottom":"top"},updateChartScrollbar:function(j,h){if(j){j.rotate=h;var o=this.marginTopReal,n=this.marginLeftReal,m=j.scrollbarHeight,l=this.dx,k=this.dy;"top"==j.position?h?(j.y=o,j.x=n-m):(j.y=o-m+k,j.x=n+l):h?(j.y=o+k,j.x=n+this.plotAreaWidth+l):(j.y=o+this.plotAreaHeight+1,j.x=this.marginLeftReal)}},showZoomOutButton:function(){var b=this.zoomOutButtonSet;b&&(b.show(),this.zoomOutButtonBG.hide());this.lens&&this.lens.show()},hideZoomOutButton:function(){var b=this.zoomOutButtonSet;b&&(b.hide(),this.zoomOutButtonBG.hide());this.lens&&this.lens.hide()},handleReleaseOutside:function(b){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,b);(b=this.chartCursor)&&b.handleReleaseOutside()},handleMouseDown:function(d){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,d);var c=this.chartCursor;c&&c.handleMouseDown(d)},handleCursorChange:function(){}});AmCharts.TrendLine=AmCharts.Class({construct:function(){this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1},draw:function(){var K=this;K.destroy();var J=K.chart,I=J.container;K.set=I.set();var H,G,F,E,D=K.categoryAxis,C=K.initialDate,A=K.initialCategory,B=K.finalDate,y=K.finalCategory,x=K.valueAxis,z=K.valueAxisX,w=K.initialXValue,u=K.finalXValue,v=K.initialValue,t=K.finalValue;D&&(C&&(H=D.dateToCoordinate(C)),A&&(H=D.categoryToCoordinate(A)),B&&(G=D.dateToCoordinate(B)),y&&(G=D.categoryToCoordinate(y)));z&&!x.recalculateToPercents&&(isNaN(w)||(H=z.getCoordinate(w)),isNaN(u)||(G=z.getCoordinate(u)));x&&!x.recalculateToPercents&&(isNaN(v)||(F=x.getCoordinate(v)),isNaN(t)||(E=x.getCoordinate(t)));!isNaN(H)&&!isNaN(G)&&!isNaN(F)&&!isNaN(F)&&(J.rotate?(J=AmCharts.line(I,[F,E],[H,G],K.lineColor,K.lineAlpha,K.lineThickness,K.dashLength),J.translate(0,K.y)):(J=AmCharts.line(I,[H,G],[F,E],K.lineColor,K.lineAlpha,K.lineThickness,K.dashLength),J.translate(K.x,0)),K.line=J,K.set.push(J),hoverLine=AmCharts.line(I,[H,G],[F,E],K.lineColor,0.01,5),K.set.push(hoverLine),hoverLine.mouseup(function(){K.handleLineClick()}).mouseover(function(){K.handleLineOver()}).mouseout(function(){K.handleLineOut()}))},handleLineClick:function(){var b={type:"click",trendLine:this};this.fire(b.type,b)},handleLineOver:function(){var b=this.rollOverColor;void 0!=b&&this.line.attr({stroke:b})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.removeSet(this.set)}});AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(){AmCharts.AmSerialChart.base.construct.call(this);this.createEvents("changed");this.columnSpacing=5;this.columnWidth=0.8;this.maxSelectedSeries;this.updateScrollbar=!0;this.maxSelectedTime;this.categoryAxis=new AmCharts.CategoryAxis;this.categoryAxis.chart=this;this.chartType="serial";this.zoomOutOnDataUpdate=!0;this.skipZoom=!1},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis();this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},validateData:function(b){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!b&&(this.endTime=this.end=this.startTime=this.start=NaN);AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);var f=this.chartData;if(f){if(0<f.length){var e=this.chartScrollbar;e&&e.draw();var e=f.length-1,j,h;j=this.categoryAxis;if(j.parseDates&&!j.equalSpacing){if(j=this.startTime,h=this.endTime,isNaN(j)||isNaN(h)){j=f[0].time,h=f[e].time}}else{if(j=this.start,h=this.end,isNaN(j)||isNaN(h)){j=0,h=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(j,h)}else{this.cleanChart()}}this.bringLabelsToFront();this.chartCreated=!0;this.dispatchDataUpdatedEvent()},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(){var b=this.categoryAxis;b.id="categoryAxis";b.rotate=this.rotate;b.axisRenderer=AmCharts.RectangularAxisRenderer;b.guideFillRenderer=AmCharts.RectangularAxisGuideFillRenderer;b.axisItemRenderer=AmCharts.RectangularAxisItemRenderer;b.setOrientation(!this.rotate);b.x=this.marginLeftReal;b.y=this.marginTopReal;b.dx=this.dx;b.dy=this.dy;b.width=this.plotAreaWidth;b.height=this.plotAreaHeight;b.visibleAxisWidth=this.plotAreaWidth;b.visibleAxisHeight=this.plotAreaHeight;b.visibleAxisX=this.marginLeftReal;b.visibleAxisY=this.marginTopReal},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);for(var f=this.valueAxes,e=0;e<f.length;e++){var j=f[e];j.rotate=this.rotate;j.setOrientation(this.rotate);var h=this.categoryAxis;if(!h.startOnAxis||h.parseDates){j.expandMinMax=!0}}},updateData:function(){this.parseData();this.columnCount=this.countColumns();this.chartCursor&&this.chartCursor.updateData();for(var e=this.graphs,d=0;d<e.length;d++){var f=e[d];f.columnCount=this.columnCount;f.data=this.chartData}},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate))},updateScrollbars:function(){this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?this.timeZoom(e,d):this.indexZoom(e,d);this.updateDepths()},timeZoom:function(k,j){var q=this.maxSelectedTime;isNaN(q)||(j!=this.endTime&&j-k>q&&(k=j-q,this.updateScrollbar=!0),k!=this.startTime&&j-k>q&&(j=k+q,this.updateScrollbar=!0));var p=this.chartData,o=this.categoryAxis;if(p&&0<p.length&&(k!=this.startTime||j!=this.endTime)){var n=o.minDuration(),m=p[0].time;this.firstTime=m;var l=p[p.length-1].time;this.lastTime=l;k||(k=m,isNaN(q)||(k=l-q));j||(j=l);k>l&&(k=l);j<m&&(j=m);k<m&&(k=m);j>l&&(j=l);j<k&&(j=k+n);this.startTime=k;this.endTime=j;q=p.length-1;n=this.getClosestIndex(p,"time",k,!0,0,q);p=this.getClosestIndex(p,"time",j,!1,n,q);o.timeZoom(k,j);o.zoom(n,p);this.start=AmCharts.fitToBounds(n,0,q);this.end=AmCharts.fitToBounds(p,0,q);this.zoomAxesAndGraphs();this.zoomScrollbar();k!=m||j!=l?this.showZoomOutButton():this.hideZoomOutButton();this.dispatchTimeZoomEvent()}this.renderfix()},indexZoom:function(f,e){var j=this.maxSelectedSeries;isNaN(j)||(e!=this.end&&e-f>j&&(f=e-j,this.updateScrollbar=!0),f!=this.start&&e-f>j&&(e=f+j,this.updateScrollbar=!0));if(f!=this.start||e!=this.end){var h=this.chartData.length-1;isNaN(f)&&(f=0,isNaN(j)||(f=h-j));isNaN(e)&&(e=h);e<f&&(e=f);e>h&&(e=h);f>h&&(f=h-1);0>f&&(f=0);this.start=f;this.end=e;this.categoryAxis.zoom(f,e);this.zoomAxesAndGraphs();this.zoomScrollbar();0!=f||e!=this.chartData.length-1?this.showZoomOutButton():this.hideZoomOutButton();this.dispatchIndexZoomEvent()}this.renderfix()},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);for(var e=this.graphs,d=0;d<e.length;d++){var f=e[d];f.columnWidth=this.columnWidth;f.categoryAxis=this.categoryAxis}},updateDepths:function(){var j=this.container.rect(0,0,10,10);this.mostFrontObj=j;this.updateColumnsDepth();for(var h=this.graphs,o=0;o<h.length;o++){var n=h[o];"column"!=n.type&&n.set.insertBefore(j);var m=n.allBullets;if(m){for(var l=0;l<m.length;l++){var k=m[l];k&&k.node&&k.insertBefore(j)}}if(m=n.positiveObjectsToClip){for(l=0;l<m.length;l++){n.setPositiveClipRect(m[l])}}if(m=n.negativeObjectsToClip){for(l=0;l<m.length;l++){n.setNegativeClipRect(m[l])}}if(m=n.objectsToAddListeners){for(l=0;l<m.length;l++){n.addClickListeners(m[l]),n.addHoverListeners(m[l])}}}this.updateTrendLinesDepth();(o=this.chartCursor)&&o.set.insertBefore(j);(o=this.zoomOutButtonSet)&&o.insertBefore(j);h=this.valueAxes;for(o=0;o<h.length;o++){l=h[o];l.axisLine.set.toFront();l.grid0&&AmCharts.putSetToFront(l.grid0);AmCharts.putSetToFront(l.axisLine.set);n=l.allLabels;for(l=0;l<n.length;l++){(m=n[l])&&m.toFront()}}o=this.categoryAxis;o.axisLine.set.toFront();n=o.allLabels;for(l=0;l<n.length;l++){(m=o.allLabels[l])&&m.toFront()}j.remove();this.bgImg&&this.bgImg.toBack();this.background&&this.background.toBack();this.drb()},updateTrendLinesDepth:function(){var h=this.trendLines;for(i=0;i<h.length;i++){var f=h[i],l=f.set;l&&l.insertBefore(this.mostFrontObj);if(l=f.line){var f=f.valueAxis,k,j;this.rotate?(k=f.visibleAxisX,j=0):(j=f.visibleAxisY,k=0);l.attr({"clip-rect":k+","+j+","+f.visibleAxisWidth+","+f.visibleAxisHeight})}}},updateColumnsDepth:function(){var f,e=this.graphs;this.columnsArray=[];for(f=0;f<e.length;f++){var j=e[f].columnsArray;if(j){for(var h=0;h<j.length;h++){this.columnsArray.push(j[h])}}}this.columnsArray.sort(this.compareDepth);for(f=0;f<this.columnsArray.length;f++){this.columnsArray[f].column.set.insertBefore(this.mostFrontObj)}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var d=this.chartScrollbar,c=this.categoryAxis;d&&this.updateScrollbar&&(c.parseDates&&!c.equalSpacing?d.timeZoom(this.startTime,this.endTime):d.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){for(var e=this.trendLines,d=0;d<e.length;d++){var f=e[d];f.chart=this;f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){for(var e=this.valueAxes,d=0;d<e.length;d++){e[d].zoom(this.start,this.end)}e=this.graphs;for(d=0;d<e.length;d++){e[d].zoom(this.start,this.end)}e=this.trendLines;for(d=0;d<e.length;d++){var f=e[d];f.valueAxis.recalculateToPercents?f.set&&f.set.hide():(f.x=this.marginLeftReal+this.horizontalPosition,f.y=this.marginTopReal+this.verticalPosition,f.draw())}(d=this.chartCursor)&&d.zoom(this.start,this.end,this.startTime,this.endTime)},countColumns:function(){for(var s=0,r=this.valueAxes.length,q=this.graphs.length,p,o,n=!1,m,l=0;l<r;l++){o=this.valueAxes[l];var k=o.stackType;if("100%"==k||"regular"==k){n=!1;for(m=0;m<q;m++){p=this.graphs[m],!p.hidden&&p.valueAxis==o&&"column"==p.type&&(!n&&p.stackable&&(s++,n=!0),p.stackable||s++,p.columnIndex=s-1)}}if("none"==k||"3d"==k){for(m=0;m<q;m++){p=this.graphs[m],!p.hidden&&p.valueAxis==o&&"column"==p.type&&(p.columnIndex=s,s++)}}if("3d"==k){for(l=0;l<q;l++){p=this.graphs[l],p.depthCount=s}s=1}}return s},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData()},getCategoryIndexByValue:function(f){for(var e=this.chartData,j,h=0;h<e.length;h++){e[h].category==f&&(j=h)}return j},handleCursorChange:function(b){if(b.index){this.updateLegendValues(b.index)}},handleCursorZoom:function(b){this.updateScrollbar=!0;this.zoom(b.start,b.end)},handleScrollbarZoom:function(b){this.updateScrollbar=!1;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=AmCharts.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=AmCharts.formatDate(e.startDate,d);e.endValue=AmCharts.formatDate(e.endDate,d);this.fire(e.type,e)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(d&&0<d.length&&!isNaN(this.start)&&!isNaN(this.end)){var c={type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c.type,c)}}},updateLegendValues:function(f){for(var e=this.graphs,j=0;j<e.length;j++){var h=e[j];h.currentDataItem=isNaN(f)?void 0:this.chartData[f].axes[h.valueAxis.id].graphs[h.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(k,j,q,p,o,n){0>o&&(o=0);n>k.length-1&&(n=k.length-1);var m=o+Math.round((n-o)/2),l=k[m][j];if(1>=n-o){if(p){return o}p=k[n][j];return Math.abs(k[o][j]-q)<Math.abs(p-q)?o:n}return q==l?m:q<l?this.getClosestIndex(k,j,q,p,o,m):this.getClosestIndex(k,j,q,p,m,n)},zoomToIndexes:function(f,e){this.updateScrollbar=!0;var j=this.chartData;if(j){var h=j.length;0<h&&(0>f&&(f=0),e>h-1&&(e=h-1),h=this.categoryAxis,h.parseDates&&!h.equalSpacing?this.zoom(j[f].time,j[e].time):this.zoom(f,e))}},zoomToDates:function(f,e){this.updateScrollbar=!0;var j=this.chartData;if(this.categoryAxis.equalSpacing){var h=this.getClosestIndex(j,"time",f.getTime(),!0,0,j.length),j=this.getClosestIndex(j,"time",e.getTime(),!1,0,j.length);this.zoom(h,j)}else{this.zoom(f.getTime(),e.getTime())}},zoomToCategoryValues:function(d,c){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatString:function(j,h){var n=h.graph;if(-1!=j.indexOf("[[category]]")){var m=h.serialDataItem.category;if(this.categoryAxis.parseDates){var l=this.balloonDateFormat,k=this.chartCursor;k&&(l=k.categoryBalloonDateFormat);-1!=j.indexOf("[[category]]")&&(l=AmCharts.formatDate(m,l),-1!=l.indexOf("fff")&&(l=AmCharts.formatMilliseconds(l,m)),m=l)}j=j.replace(/\[\[category\]\]/g,""+m)}n=n.numberFormatter;n||(n=this.numberFormatter);m=h.graph.valueAxis;if((l=m.duration)&&!isNaN(h.values.value)){m=AmCharts.formatDuration(h.values.value,l,"",m.durationUnits,m.maxInterval,n),j=j.replace(RegExp("\\[\\[value\\]\\]","g"),m)}m=["value","open","low","high","close"];l=this.percentFormatter;j=AmCharts.formatValue(j,h.percents,m,l,"percents.");j=AmCharts.formatValue(j,h.values,m,n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);j=AmCharts.formatValue(j,h.values,["percents"],l);-1!=j.indexOf("[[")&&(j=AmCharts.formatDataContextValue(j,h.dataContext));return j=AmCharts.AmSerialChart.base.formatString.call(this,j,h)},addChartScrollbar:function(b){AmCharts.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0==b.width&&(b.width=b.scrollbarHeight):void 0==b.height&&(b.height=b.scrollbarHeight);this.chartScrollbar=b},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(b){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,b);AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}});AmCharts.AmRadarChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(){AmCharts.AmRadarChart.base.construct.call(this);this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0;this.chartType="radar";this.radius="35%"},initChart:function(){AmCharts.AmRadarChart.base.initChart.call(this);this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);this.drawChart()},updateData:function(){this.parseData();for(var d=this.graphs,c=0;c<d.length;c++){d[c].data=this.chartData}},updateGraphs:function(){for(var e=this.graphs,d=0;d<e.length;d++){var f=e[d];f.index=d;f.width=this.realRadius;f.height=this.realRadius;f.x=this.centerX;f.y=this.centerY;f.chartType=this.chartType}},parseData:function(){AmCharts.AmRadarChart.base.parseData.call(this);this.parseSerialData()},updateValueAxes:function(){for(var e=this.valueAxes,d=0;d<e.length;d++){var f=e[d];f.axisRenderer=AmCharts.RadarAxisRenderer;f.guideFillRenderer=AmCharts.RadarAxisGuideFillRenderer;f.axisItemRenderer=AmCharts.RadarAxisItemRenderer;f.autoGridCount=!1;f.x=this.centerX;f.y=this.centerY;f.width=this.realRadius;f.height=this.realRadius}},drawChart:function(){AmCharts.AmRadarChart.base.drawChart.call(this);var f=this.updateWidth(),e=this.updateHeight(),j=this.marginTop+this.getTitleHeight(),h=this.marginLeft,e=e-j-this.marginBottom;this.centerX=h+(f-h-this.marginRight)/2;this.centerY=j+e/2;this.realRadius=AmCharts.toCoordinate(this.radius,f,e);this.updateValueAxes();this.updateGraphs();if(f=this.chartData){if(0<f.length){for(j=0;j<this.valueAxes.length;j++){this.valueAxes[j].zoom(0,f.length-1)}for(j=0;j<this.graphs.length;j++){this.graphs[j].zoom(0,f.length-1)}}else{this.cleanChart()}}this.bringLabelsToFront();this.chartCreated=!0;this.dispatchDataUpdatedEvent();this.drb()},formatString:function(e,d){var f=d.graph;-1!=e.indexOf("[[category]]")&&(e=e.replace(/\[\[category\]\]/g,""+d.serialDataItem.category));f=f.numberFormatter;f||(f=this.numberFormatter);e=AmCharts.formatValue(e,d.values,["value"],f,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);return e=AmCharts.AmRadarChart.base.formatString.call(this,e,d)},cleanChart:function(){this.callMethod("destroy",[this.valueAxes,this.graphs])}});AmCharts.AxisBase=AmCharts.Class({construct:function(){this.dy=this.dx=0;this.axisWidth;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=0.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.valueRollOverColor="#CC0000";this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.titleColor;this.titleFontSize;this.titleBold=!0},zoom:function(d,c){this.start=d;this.end=c;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var b=this.position;"horizontal"==this.orientation?("left"==b&&(b="bottom"),"right"==b&&(b="top")):("bottom"==b&&(b="left"),"top"==b&&(b="right"));this.position=b},draw:function(){var d=this.chart;void 0==this.titleColor&&(this.titleColor=d.color);isNaN(this.titleFontSize)&&(this.titleFontSize=d.fontSize+1);this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.set=this.chart.container.set();this.axisLine=new this.axisRenderer(this);d=this.axisLine.axisWidth;if(this.autoGridCount){var c;"vertical"==this.orientation?(c=this.height/35,3>c&&(c=3)):c=this.width/75;this.gridCount=c}this.axisWidth=d;this.addTitle()},setOrientation:function(b){this.orientation=b?"horizontal":"vertical"},addTitle:function(){var d=this.title;if(d){var c=this.chart,d=AmCharts.text(c.container,0,0,d,{fill:this.titleColor,"font-family":c.fontFamily,"font-size":this.titleFontSize});!0==this.titleBold&&d.attr({"font-weight":"bold"});this.set.push(d);this.titleLabel=d}},positionTitle:function(){var E=this.titleLabel;if(E){var D,C;this.set.exclude(E);var B=this.set.getBBox();this.set.push(E);var A=B.x,z=B.y,y=B.width,B=B.height,x=this.visibleAxisX,w=this.visibleAxisY,u=this.visibleAxisWidth,v=this.visibleAxisHeight,s="middle",r=E.getBBox(),t=0,q=this.titleFontSize/2;switch(this.position){case"top":D=x+u/2;C=z-10-q;break;case"bottom":D=x+u/2;C=z+B+10+q;break;case"left":D=-r.width/2-(x-A);D-=10+q;C=w+v/2;t=270;s="start";break;case"right":D=u-r.width/2-(x+u-(A+y))+10+q,C=w+v/2,t=270,s="start"}E.attr({"text-anchor":s});"start"==s?E.transform("...r"+t):E.transform("r"+t);E.transform("...T"+D+","+C)}},pushAxisItem:function(b){b=b.graphics();0<b.length&&this.set.push(b)},addGuide:function(b){this.guides.push(b)},removeGuide:function(e){for(var d=this.guides,f=0;f<d.length;f++){d[f]==e&&d.splice(f,1)}},handleGuideOver:function(f){clearTimeout(this.chart.hoverInt);var f=this.guides[f],e=f.graphics.getBBox(),j=e.x+e.width/2,e=e.y+e.height/2,h=f.fillColor;void 0==h&&(h=f.lineColor);this.chart.showBalloon(f.balloonText,h,!0,j,e)},handleGuideOut:function(){this.chart.hideBalloon()},destroy:function(){AmCharts.removeSet(this.set);this.axisLine&&AmCharts.removeSet(this.axisLine.set)}});AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(){this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");AmCharts.ValueAxis.base.construct.call(this);this.dataChanged=!0;this.gridCount=8;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.duration;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.maxDecCount;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10},updateData:function(){0>=this.gridCount&&(this.gridCount=1);this.data=this.chart.chartData;"xy"!=this.chart.chartType&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplyer&&this.synchronizeWithAxis?this.foundGraphs=!0:(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var ac=this.chart,ab=this.set;"duration"==this.type&&(this.duration="ss");!0==this.dataChanged&&(this.updateData(),this.dataChanged=!1);if(this.logarithmic&&(0>=this.getMin(0,this.data.length-1)||0>=this.minimum)){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed"})}else{this.grid0=null;var aa,Z,Y=ac.dx,X=ac.dy,W=!1,V=this.logarithmic,U=ac.chartType;if(!isNaN(this.min)&&!isNaN(this.max)&&this.foundGraphs&&Infinity!=this.min&&-Infinity!=this.max){var R=this.labelFrequency,S=this.showFirstLabel,P=this.showLastLabel,O=1,Q=0,N=Math.round((this.max-this.min)/this.step)+1;if(!0==V){var L=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E;this.stepWidth=this.axisWidth/L;2<L&&(N=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,Q=Math.round(Math.log(this.minReal)*Math.LOG10E),N>this.gridCount&&(O=Math.ceil(N/this.gridCount)))}else{this.stepWidth=this.axisWidth/(this.max-this.min)}aa=0;1>this.step&&-1<this.step&&(Z=this.step.toString(),aa=-1!=Z.indexOf("e-")?Number(Z.split("-")[1]):Z.split(".")[1].length);this.integersOnly&&(aa=0);aa>this.maxDecCount&&(aa=this.maxDecCount);isNaN(this.precision)||(aa=this.precision);this.max=AmCharts.roundTo(this.max,this.maxDecCount);this.min=AmCharts.roundTo(this.min,this.maxDecCount);var M={};M.precision=aa;M.decimalSeparator=ac.numberFormatter.decimalSeparator;M.thousandsSeparator=ac.numberFormatter.thousandsSeparator;this.numberFormatter=M;var K=this.guides,G=K.length;if(0<G){var C=this.fillAlpha;for(Z=this.fillAlpha=0;Z<G;Z++){var A=K[Z],J=NaN;if(!isNaN(A.toValue)){var J=this.getCoordinate(A.toValue),I=new this.axisItemRenderer(this,J,"",!0,NaN,NaN,A);this.pushAxisItem(I)}var D=NaN;isNaN(A.value)||(D=this.getCoordinate(A.value),I=new this.axisItemRenderer(this,D,A.label,!0,NaN,(J-D)/2,A),this.pushAxisItem(I));if(!isNaN(J-D)){I=new this.guideFillRenderer(this,J-D,D,A);this.pushAxisItem(I);I=I.graphics();A.graphics=I;I.index=Z;var B=this;A.balloonText&&(I.mouseover(function(){B.handleGuideOver(this.index)}),I.mouseout(function(){B.handleGuideOut(this.index)}))}}this.fillAlpha=C}K=!1;for(Z=Q;Z<N;Z+=O){I=AmCharts.roundTo(this.step*Z+this.min,aa),-1!=(""+I).indexOf("e")&&(K=!0,(""+I).split("e"))}this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));for(Z=Q;Z<N;Z+=O){if(Q=this.step*Z+this.min,Q=AmCharts.roundTo(Q,this.maxDecCount+1),!(this.integersOnly&&Math.round(Q)!=Q)){!0==V&&(0==Q&&(Q=this.minReal),2<L&&(Q=Math.pow(10,Z)),K=-1!=(""+Q).indexOf("e")?!0:!1);this.useScientificNotation&&(K=!0);this.usePrefixes&&(K=!1);K?(I=-1==(""+Q).indexOf("e")?Q.toExponential(15):""+Q,I=I.split("e"),aa=Number(I[0]),I=Number(I[1]),10==aa&&(aa=1,I+=1),I=aa+"e"+I,0==Q&&(I="0"),1==Q&&(I="1")):(V&&(aa=(""+Q).split("."),M.precision=aa[1]?aa[1].length:-1),I=this.usePrefixes?AmCharts.addPrefix(Q,ac.prefixesOfBigNumbers,ac.prefixesOfSmallNumbers,M):AmCharts.formatNumber(Q,M,M.precision));this.duration&&(I=AmCharts.formatDuration(Q,this.duration,"",this.durationUnits,this.maxInterval,M));this.recalculateToPercents?I+="%":(aa=this.unit)&&(I="left"==this.unitPosition?aa+I:I+aa);Math.round(Z/R)!=Z/R&&(I=void 0);if(0==Z&&!S||Z==N-1&&!P){I=" "}aa=this.getCoordinate(Q);I=new this.axisItemRenderer(this,aa,I);this.pushAxisItem(I);if(Q==this.baseValue&&"radar"!=U){var H,u,Q=this.visibleAxisWidth,I=this.visibleAxisHeight,G=this.visibleAxisX,C=this.visibleAxisY;"horizontal"==this.orientation?aa>=G&&aa<=G+Q+1&&(H=[aa,aa,aa+Y],u=[0+I,0,X]):aa>=C&&aa<=C+I+1&&(H=[0,Q,Q+Y],u=[aa,aa,aa+X]);H&&(this.grid0=AmCharts.line(ac.container,H,u,this.gridColor,2*this.gridAlpha,1,this.dashLength),ab.push(this.grid0))}}}Y=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(Y=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(Y=this.max);V&&Y<this.minReal&&(Y=this.minReal);this.baseCoord=this.getCoordinate(Y);Y={type:"axisChanged"};Y.min=V?this.minReal:this.min;Y.max=this.max;this.fire("axisChanged",Y);this.axisCreated=!0}else{W=!0}"radar"!=U?this.rotate?ab.translate("0,"+ac.marginTopReal):ab.translate(ac.marginLeftReal+",0"):this.axisLine.set.toFront();this.positionTitle();!this.visible||W?(ab.hide(),this.axisLine.set.hide()):(ab.show(),this.axisLine.set.show())}},stackGraphs:function(w){var v=this.stackType;"stacked"==v&&(v="regular");"line"==v&&(v="none");"100% stacked"==v&&(v="100%");this.stackType=v;var u=[],t=[],s=[],r=[],q,p=this.chart.graphs,o,m,n;if(("line"==w||"step"==w||"smoothedLine"==w)&&("regular"==v||"100%"==v)){for(n=0;n<p.length;n++){q=p[n],q.hidden||(m=q.type,q.chart==this.chart&&q.valueAxis==this&&w==m&&q.stackable&&(o&&(q.stackGraph=o),o=q))}}for(o=this.start;o<=this.end;o++){for(n=0;n<p.length;n++){if(q=p[n],!q.hidden&&(m=q.type,q.chart==this.chart&&q.valueAxis==this&&w==m&&q.stackable&&(m=this.data[o].axes[this.id].graphs[q.id],q=m.values.value,!isNaN(q)&&(r[o]=isNaN(r[o])?Math.abs(q):r[o]+Math.abs(q),"regular"==v)))){if("line"==w||"step"==w||"smoothedLine"==w){isNaN(u[o])?(u[o]=q,m.values.close=q,m.values.open=this.baseValue):(m.values.close=isNaN(q)?u[o]:q+u[o],m.values.open=u[o],u[o]=m.values.close)}"column"==w&&!isNaN(q)&&(m.values.close=q,0>q?(m.values.close=q,isNaN(t[o])||(m.values.close+=t[o],m.values.open=t[o]),t[o]=m.values.close):(m.values.close=q,isNaN(s[o])||(m.values.close+=s[o],m.values.open=s[o]),s[o]=m.values.close))}}}for(o=this.start;o<=this.end;o++){for(n=0;n<p.length;n++){q=p[n],q.hidden||(m=q.type,q.chart==this.chart&&q.valueAxis==this&&w==m&&q.stackable&&(m=this.data[o].axes[this.id].graphs[q.id],q=m.values.value,isNaN(q)||(u=100*(q/r[o]),m.values.percents=u,m.values.total=r[o],"100%"==v&&(isNaN(t[o])&&(t[o]=0),isNaN(s[o])&&(s[o]=0),0>u?(m.values.close=u+t[o],m.values.open=t[o],t[o]=m.values.close):(m.values.close=u+s[o],m.values.open=s[o],s[o]=m.values.close)))))}}},recalculate:function(){for(var u=this.chart.graphs,t=0;t<u.length;t++){var s=u[t];if(s.valueAxis==this){var r="value";if("candlestick"==s.type||"ohlc"==s.type){r="open"}var q,p,o=this.end+2,o=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),n=this.start;0<n&&n--;for(var m=this.start;m<=o&&!(p=this.data[m].axes[this.id].graphs[s.id],q=p.values[r],!isNaN(q));m++){}for(r=n;r<=o;r++){p=this.data[r].axes[this.id].graphs[s.id];p.percents={};var n=p.values,k;for(k in n){p.percents[k]="percents"!=k?100*(n[k]/q)-100:n[k]}}}}},getMinMax:function(){for(var h=!1,f=this.chart,l=f.graphs,k=0;k<l.length;k++){var j=l[k].type;if("line"==j||"step"==j||"smoothedLine"==j){this.expandMinMax&&(h=!0)}}h&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++);"serial"==f.chartType&&!0==f.categoryAxis.parseDates&&!h&&this.end<this.data.length-1&&this.end++;this.min=this.getMin(this.start,this.end);this.max=this.getMax();h=this.guides.length;if(this.includeGuidesInMinMax&&0<h){for(f=0;f<h;f++){l=this.guides[f],l.toValue<this.min&&(this.min=l.toValue),l.value<this.min&&(this.min=l.value),l.toValue>this.max&&(this.max=l.toValue),l.value>this.max&&(this.max=l.value)}}isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.min>this.max&&(h=this.max,this.max=this.min,this.min=h);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0==this.min&&0==this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);h=this.min;f=this.max;l=this.max-this.min;k=0==l?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(l))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/k)*k+k);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/k)*k-k);0>this.min&&0<=h&&(this.min=0);0<this.max&&0>=f&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);l=this.max-this.min;k=Math.pow(10,Math.floor(Math.log(Math.abs(l))*Math.LOG10E))/10;this.step=Math.ceil(l/this.gridCount/k)*k;l=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));l=l.toExponential(0).split("e");k=Number(l[1]);9==Number(l[0])&&k++;l=this.generateNumber(1,k);k=Math.ceil(this.step/l);5<k&&(k=10);5>=k&&2<k&&(k=5);this.step=Math.ceil(this.step/(l*k))*l*k;1>l?(this.maxDecCount=Math.abs(Math.log(Math.abs(l))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=h&&(this.min=0);0<this.max&&0>=f&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));l=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0==this.min&&(this.minReal=l);0==this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);l=Math.log(f)*Math.LOG10E-Math.log(h)*Math.LOG10E;this.logarithmic&&(2<l?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(h))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(f))*Math.LOG10E))):(f=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,h=Math.pow(10,Math.floor(Math.log(Math.abs(h))*Math.LOG10E))/10,f<h&&(this.minReal=this.min=10*h)))},generateNumber:function(h,f){var l="",k;k=0>f?Math.abs(f)-1:Math.abs(f);for(var j=0;j<k;j++){l+="0"}return 0>f?Number("0."+l+(""+h)):Number(""+h+l)},getMin:function(s,r){for(var q,p=s;p<=r;p++){var o=this.data[p].axes[this.id].graphs,n;for(n in o){var m=this.chart.getGraphById(n);if(m.includeInMinMax&&(!m.hidden||this.includeHidden)){isNaN(q)&&(q=Infinity);this.foundGraphs=!0;m=o[n].values;this.recalculateToPercents&&(m=o[n].percents);var l;if(this.minMaxField){l=m[this.minMaxField],l<q&&(q=l)}else{for(var k in m){"percents"!=k&&"total"!=k&&(l=m[k],l<q&&(q=l))}}}}}return q},getMax:function(){for(var j,h=this.start;h<=this.end;h++){var o=this.data[h].axes[this.id].graphs,n;for(n in o){var m=this.chart.getGraphById(n);if(m.includeInMinMax&&(!m.hidden||this.includeHidden)){isNaN(j)&&(j=-Infinity);this.foundGraphs=!0;m=o[n].values;this.recalculateToPercents&&(m=o[n].percents);var l;if(this.minMaxField){l=m[this.minMaxField],l>j&&(j=l)}else{for(var k in m){"percents"!=k&&"total"!=k&&(l=m[k],l>j&&(j=l))}}}}}return j},dispatchZoomEvent:function(e,d){var f={type:"axisZoomed",startValue:e,endValue:d};this.fire(f.type,f)},zoomToValues:function(e,d){if(d<e){var f=d,d=e,e=f}e<this.min&&(e=this.min);d>this.max&&(d=this.max);f={type:"axisSelfZoomed",valueAxis:this};f.multiplyer=this.axisWidth/Math.abs(this.getCoordinate(d)-this.getCoordinate(e));f.position="vertical"==this.orientation?this.reversed?this.getCoordinate(e)-this.y:this.getCoordinate(d)-this.y:this.reversed?this.getCoordinate(d)-this.x:this.getCoordinate(e)-this.x;this.fire(f.type,f)},coordinateToValue:function(b){return isNaN(b)?NaN:!0==this.logarithmic?Math.pow(10,(this.rotate?!0==this.reversed?(this.axisWidth-b)/this.stepWidth:b/this.stepWidth:!0==this.reversed?b/this.stepWidth:(this.axisWidth-b)/this.stepWidth)+Math.log(this.minReal)*Math.LOG10E):!0==this.reversed?this.rotate?this.min-(b-this.axisWidth)/this.stepWidth:b/this.stepWidth+this.min:this.rotate?b/this.stepWidth+this.min:this.min-(b-this.axisWidth)/this.stepWidth},getCoordinate:function(h){if(isNaN(h)){return NaN}var f=this.rotate,l=this.reversed,k=this.axisWidth,j=this.stepWidth;!0==this.logarithmic?(h=Math.log(h)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,f=f?!0==l?k-j*h:j*h:!0==l?j*h:k-j*h):f=!0==l?f?k-j*(h-this.min):j*(h-this.min):f?j*(h-this.min):k-j*(h-this.min);f=Math.round(10*f)/10;return f=this.rotate?f+this.x:f+this.y},synchronizeWithAxis:function(b){this.synchronizeWithAxis=b;this.removeListener(this.synchronizeWithAxis,"axisChanged",this.handleSynchronization);this.listenTo(this.synchronizeWithAxis,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){var f=this.synchronizeWithAxis,e=f.min,j=f.max,f=f.step,h=this.synchronizationMultiplyer;h&&(this.min=e*h,this.max=j*h,this.step=f*h,e=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),e=Math.abs(Math.log(Math.abs(e))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}});AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(){AmCharts.CategoryAxis.base.construct.call(this);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.boldPeriodBeginning=!0;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={};this.nextPeriod.fff="ss";this.nextPeriod.ss="mm";this.nextPeriod.mm="hh";this.nextPeriod.hh="DD";this.nextPeriod.DD="MM";this.nextPeriod.MM="YYYY"},draw:function(){var M=this;AmCharts.CategoryAxis.base.draw.call(M);M.generateDFObject();var L=M.chart.chartData;M.data=L;if(0<L.length){var K=M.start,J=M.labelFrequency,I=0,H=M.end-K+1,G=M.gridCount,F=M.showFirstLabel,E=M.showLastLabel,C,D="",A=AmCharts.extractPeriod(M.minPeriod);C=AmCharts.getPeriodDuration(A.period,A.count);var z,B,y,w,x=M.rotate,u=M.firstDayOfWeek,L=AmCharts.resetDateToMin(new Date(L[L.length-1].time+1.05*C),M.minPeriod,1,u).getTime();M.endTime>L&&(M.endTime=L);if(M.parseDates&&!M.equalSpacing){if(M.timeDifference=M.endTime-M.startTime,K=M.choosePeriod(0),J=K.period,L=K.count,z=AmCharts.getPeriodDuration(J,L),z<C&&(J=A.period,L=A.count,z=C),A=J,"WW"==A&&(A="DD"),M.stepWidth=M.getStepWidth(M.timeDifference),G=Math.ceil(M.timeDifference/z)+1,D=AmCharts.resetDateToMin(new Date(M.startTime-z),J,L,u).getTime(),A==J&&1==L&&(B=z*M.stepWidth),M.cellWidth=C*M.stepWidth,H=Math.round(D/z),K=-1,H/2==Math.round(H/2)&&(K=-2,D-=z),0<M.gridCount){for(H=K;H<=G;H++){y=D+1.5*z;y=AmCharts.resetDateToMin(new Date(y),J,L,u).getTime();C=(y-M.startTime)*M.stepWidth;C=x?C+M.y:C+M.x;w=!1;M.nextPeriod[A]&&(w=M.checkPeriodChange(M.nextPeriod[A],1,y,D));var t=!1;w?(D=M.dateFormatsObject[M.nextPeriod[A]],t=!0):D=M.dateFormatsObject[A];M.boldPeriodBeginning||(t=!1);D=AmCharts.formatDate(new Date(y),D);if(H==K&&!F||H==G&&!E){D=" "}C=new M.axisItemRenderer(this,C,D,!1,B,0,!1,t);M.pushAxisItem(C);D=y}}}else{if(M.parseDates){if(M.parseDates&&M.equalSpacing){I=M.start;M.startTime=M.data[M.start].time;M.endTime=M.data[M.end].time;M.timeDifference=M.endTime-M.startTime;K=M.choosePeriod(0);J=K.period;L=K.count;z=AmCharts.getPeriodDuration(J,L);z<C&&(J=A.period,L=A.count,z=C);A=J;"WW"==A&&(A="DD");M.stepWidth=M.getStepWidth(H);G=Math.ceil(M.timeDifference/z)+1;D=AmCharts.resetDateToMin(new Date(M.startTime-z),J,L,u).getTime();M.cellWidth=M.getStepWidth(H);H=Math.round(D/z);K=-1;H/2==Math.round(H/2)&&(K=-2,D-=z);H=M.start;H/2==Math.round(H/2)&&H--;0>H&&(H=0);B=M.end+2;B>=M.data.length&&(B=M.data.length);u=!1;for(M.end-M.start>M.gridCount&&(u=!0);H<B;H++){if(y=M.data[H].time,M.checkPeriodChange(J,L,y,D)){C=M.getCoordinate(H-M.start);w=!1;M.nextPeriod[A]&&(w=M.checkPeriodChange(M.nextPeriod[A],1,y,D));t=!1;w?(D=M.dateFormatsObject[M.nextPeriod[A]],t=!0):D=M.dateFormatsObject[A];D=AmCharts.formatDate(new Date(y),D);if(H==K&&!F||H==G&&!E){D=" "}u?u=!1:(C=new M.axisItemRenderer(this,C,D,void 0,void 0,void 0,void 0,t),C.graphics(),M.pushAxisItem(C));D=y}}}}else{if(M.cellWidth=M.getStepWidth(H),H<G&&(G=H),I+=M.start,M.stepWidth=M.getStepWidth(H),0<G){G=Math.floor(H/G);H=I;H/2==Math.round(H/2)&&H--;0>H&&(H=0);for(B=0;H<=M.end+2;H+=G){B++;D=0<=H&&H<M.data.length?M.data[H].category:"";C=M.getCoordinate(H-I);u=0;"start"==M.gridPosition&&(C-=M.cellWidth/2,u=M.cellWidth/2);if(H==K&&!F||H==M.end&&!E){D=" "}Math.round(B/J)!=B/J&&(D=" ");L=M.cellWidth;x&&(L=NaN);C=new M.axisItemRenderer(this,C,D,!0,L,u,void 0,!1,u);M.pushAxisItem(C)}}}}for(H=0;H<M.data.length;H++){if(F=M.data[H]){M.parseDates&&!M.equalSpacing?(E=(F.time-M.startTime)*M.stepWidth+M.cellWidth/2,E=x?E+M.y:E+M.x):E=M.getCoordinate(H-I),F.x[M.id]=E}}}F=M.guides.length;for(H=0;H<F;H++){E=M.guides[H],J=G=K=NaN,E.toCategory&&(J=M.chart.getCategoryIndexByValue(E.toCategory),isNaN(J)||(K=M.getCoordinate(J-I),C=new M.axisItemRenderer(this,K,"",!0,NaN,NaN,E),M.pushAxisItem(C))),E.category&&(J=M.chart.getCategoryIndexByValue(E.category),isNaN(J)||(G=M.getCoordinate(J-I),J=(K-G)/2,C=new M.axisItemRenderer(this,G,E.label,!0,NaN,J,E),M.pushAxisItem(C))),E.toDate&&(M.equalSpacing?(J=M.chart.getClosestIndex(M.data,"time",E.toDate.getTime(),!1,0,M.data.length-1),isNaN(J)||(K=M.getCoordinate(J-I))):(K=(E.toDate.getTime()-M.startTime)*M.stepWidth,K=x?K+M.y:K+M.x),C=new M.axisItemRenderer(this,K,"",!0,NaN,NaN,E),M.pushAxisItem(C)),E.date&&(M.equalSpacing?(J=M.chart.getClosestIndex(M.data,"time",E.date.getTime(),!1,0,M.data.length-1),isNaN(J)||(G=M.getCoordinate(J-I))):(G=(E.date.getTime()-M.startTime)*M.stepWidth,G=x?G+M.y:G+M.x),J=(K-G)/2,C="horizontal"==M.orientation?new M.axisItemRenderer(this,G,E.label,!1,2*J,NaN,E):new M.axisItemRenderer(this,G,E.label,!1,NaN,J,E),M.pushAxisItem(C)),K=new M.guideFillRenderer(this,K-G,G,E),G=K.graphics(),M.pushAxisItem(K),E.graphics=G,G.index=H,E.balloonText&&(G.mouseover(function(){M.handleGuideOver(this.index)}),G.mouseout(function(){M.handleGuideOut(this.index)}))}M.axisCreated=!0;x?M.set.transform("...T"+M.x+",0"):M.set.transform("...T0,"+M.y);M.positionTitle();M.axisLine.set&&M.axisLine.set.toFront()},choosePeriod:function(d){var c=AmCharts.getPeriodDuration(this.periods[d].period,this.periods[d].count);return Math.ceil(this.timeDifference/c)<=this.gridCount?this.periods[d]:d+1<this.periods.length?this.choosePeriod(d+1):this.periods[d]},getStepWidth:function(d){var c;this.startOnAxis?(c=this.axisWidth/(d-1),1==d&&(c=this.axisWidth)):c=this.axisWidth/d;return c},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return b=this.rotate?b+this.y:b+this.x},timeZoom:function(d,c){this.startTime=d;this.endTime=c+this.minDuration()},minDuration:function(){var b=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(b.period,b.count)},checkPeriodChange:function(h,f,l,k){var k=new Date(k),j=this.firstDayOfWeek,l=AmCharts.resetDateToMin(new Date(l),h,f,j).getTime(),h=AmCharts.resetDateToMin(k,h,f,j).getTime();return l!=h?!0:!1},generateDFObject:function(){this.dateFormatsObject={};for(var d=0;d<this.dateFormats.length;d++){var c=this.dateFormats[d];this.dateFormatsObject[c.period]=c.format}},xToIndex:function(j){var h=this.data,n=this.chart,m=n.rotate,l=this.stepWidth,j=m?j-this.y:j-this.x;this.parseDates&&!this.equalSpacing?(j=this.startTime+Math.round(j/l)-this.minDuration()/2,n=n.getClosestIndex(h,"time",j,!1,this.start,this.end+1)):(this.startOnAxis||(j-=l/2),n=this.start+Math.round(j/l));var n=AmCharts.fitToBounds(n,0,h.length-1),k;h[n]&&(k=h[n].x[this.id]);m?(k>this.height+1+this.y&&n--,k<this.y&&n++):(k>this.width+1+this.x&&n--,k<this.x&&n++);return n=AmCharts.fitToBounds(n,0,h.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?this.getCoordinate(this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1)-this.start):NaN},categoryToCoordinate:function(b){return this.chart?this.getCoordinate(this.chart.getCategoryIndexByValue(b)-this.start):NaN},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)}});AmCharts.RectangularAxisRenderer=AmCharts.Class({construct:function(A){var z=A.axisThickness,y=A.axisColor,x=A.axisAlpha,w=A.offset,v=A.dx,u=A.dy,t=A.visibleAxisX,s=A.visibleAxisY,q=A.visibleAxisHeight,r=A.visibleAxisWidth,p=A.chart.container,m=p.set();this.set=m;"horizontal"==A.orientation?(y=AmCharts.line(p,[0,r],[0,0],y,x,z),this.axisWidth=A.width,"bottom"==A.position?(A=z/2+w+q+s-1,z=t):(A=-z/2-w+s+u,z=v+t)):(this.axisWidth=A.height,"right"==A.position?(y=AmCharts.line(p,[0,0,-v],[0,q,q-u],y,x,z),A=s+u,z=z/2+w+v+r+t-1):(y=AmCharts.line(p,[0,0],[0,q],y,x,z),A=s,z=-z/2-w+t));m.push(y);m.translate(Math.round(z)+","+Math.round(A))}});AmCharts.RectangularAxisItemRenderer=AmCharts.Class({construct:function(aL,aK,aJ,aI,aH,aG,aF,aE,aD){aK=Math.round(aK);void 0==aJ&&(aJ="");aD||(aD=0);void 0==aI&&(aI=!0);var aB=aL.chart.fontFamily,aC=aL.fontSize;void 0==aC&&(aC=aL.chart.fontSize);var az=aL.color;void 0==az&&(az=aL.chart.color);var ay=aL.chart.container,aA=ay.set();this.set=aA;var ax=aL.axisThickness,av=aL.axisColor,aw=aL.axisAlpha,au=aL.tickLength,ap=aL.gridAlpha,an=aL.gridThickness,al=aL.gridColor,ad=aL.dashLength,at=aL.fillColor,ao=aL.fillAlpha,am=aL.labelsEnabled,ac=aL.labelRotation,M=aL.counter,ab=aL.inside,aa=aL.dx,X=aL.dy,R=aL.orientation,ai=aL.position,B=aL.previousCoord,ah=aL.chart.rotate,W=aL.visibleAxisX,ag=aL.visibleAxisY,H=aL.visibleAxisHeight,J=aL.visibleAxisWidth,af=aL.offset,I,S;aF?(am=!0,isNaN(aF.tickLength)||(au=aF.tickLength),void 0!=aF.lineColor&&(al=aF.lineColor),isNaN(aF.lineAlpha)||(ap=aF.lineAlpha),isNaN(aF.dashLength)||(ad=aF.dashLength),isNaN(aF.lineThickness)||(an=aF.lineThickness),!0==aF.inside&&(ab=!0),isNaN(aF.labelRotation)||(ac=aF.labelRotation)):aJ||(ap/=3,au/=2);S="start";aH&&(S="middle");var D=ac*Math.PI/180,ak,ae=0,ar=0,A=0,aj=ak=0,aq=W+aa+","+(ag+X)+","+J+","+H;"vertical"==R&&(ac=0);if(am){var Q=AmCharts.text(ay,0,0,aJ,{fill:az,"text-anchor":S,"font-family":aB,"font-size":aC});!0==aE&&Q.attr({"font-weight":"bold"});aA.push(Q);aj=Q.getBBox().width}if("horizontal"==R){if(aK>=W&&aK<=J+1+W&&(I=AmCharts.line(ay,[aK+aD,aK+aD],[0,au],av,aw,an),aK+aD>J+W+1?(I.remove(),I=null):aA.push(I),S=AmCharts.line(ay,[aK,aK+aa,aK+aa],[H,H+X,X],al,ap,an,ad),aA.push(S)),ar=0,ae=aK,aF&&90==ac&&(ae-=aC/2+3),!1==aI?(S="start",ah||(ar="bottom"==ai?ab?ar+au:ar-au:ab?ar-au:ar+au,ae+=3,aH&&(ae+=aH/2,S="middle"))):S="middle",1==M&&0<ao&&!aF&&(ak=aK-B,fill=AmCharts.rect(ay,ak,aL.height,[at],[ao]),fill.translate(aK-ak+aa+","+X),fill.attr({"clip-rect":aq}),aA.push(fill)),"bottom"==ai?(ar+=H+aC/2+af,ab?0<ac?(ar=H-aj/2*Math.sin(D)-au-3,ae+=aj/2*Math.cos(D)):ar-=au+aC+3+3:0<ac?(ar=H+aj/2*Math.sin(D)+au+3,ae-=aj/2*Math.cos(D)):ar+=au+ax+3+3):(ar+=X+aC/2-af,ae+=aa,ab?0<ac?(ar=aj/2*Math.sin(D)+au+3,ae-=aj/2*Math.cos(D)):ar+=au+3:0<ac?(ar=-(aj/2)*Math.sin(D)-au-3,ae+=aj/2*Math.cos(D)):ar-=au+aC+3+ax+3),"bottom"==ai?ak=(ab?H-au-1:H+ax-1)+af:(A=aa,ak=(ab?X:X-au-ax+1)-af),aG&&(ae+=aG),X=ae,0<ac&&(X+=aj/2*Math.cos(D)),Q&&(X>W+J+1||X<W)){aA.exclude(Q),Q.remove(),Q=null}}else{aK>=ag&&aK<=H+1+ag&&(I=AmCharts.line(ay,[0,au],[aK+aD,aK+aD],av,aw,an),aK+aD>H+ag+1?(I.remove(),I=null):aA.push(I),S=AmCharts.line(ay,[0,aa,J+aa],[aK,aK+X,aK+X],al,ap,an,ad),aA.push(S));S="end";if(!0==ab&&"left"==ai||!1==ab&&"right"==ai){S="start"}ar=aK-aC/2;1==M&&0<ao&&!aF&&(W=aK-B,fill=AmCharts.rect(ay,aL.width,W,[at],[ao]),fill.translate(aa+","+(aK-W+X)),fill.attr({"clip-rect":aq}),aA.push(fill));ar+=aC/2;"right"==ai?(ae+=aa+J+af,ar+=X,!0==ab?(ae-=au+4,aG||(ar-=aC/2+3)):(ae+=au+4+ax,ar-=2)):!0==ab?(ae+=au+4-af,aG||(ar-=aC/2+3),aF&&(ae+=aa,ar+=X)):(ae+=-au-ax-4-2-af,ar-=2);I&&("right"==ai?(A+=aa+af+J,ak+=X,A=!0==ab?A-ax:A+ax):(A-=af,!0!=ab&&(A-=au+ax)));aG&&(ar+=aG);J=ag-3;"right"==ai&&(J+=X);if(Q&&(ar>H+ag+1||ar<J)){aA.exclude(Q),Q.remove(),Q=null}}I&&I.translate(A+","+ak);!1==aL.visible&&(I&&(aA.exclude(I),I.remove()),Q&&(aA.exclude(Q),Q.remove(),Q=null));Q&&(Q.attr({"text-anchor":S}),Q.transform("r"+-ac),Q.transform("...T"+ae+","+ar),aL.allLabels.push(Q));aL.counter=0==M?1:0;aL.previousCoord=aK},graphics:function(){return this.set}});AmCharts.RectangularAxisGuideFillRenderer=AmCharts.Class({construct:function(w,v,u,t){var s=w.orientation,r=0,q=t.fillAlpha,p=w.chart.container,o=w.dx,m=w.dy;isNaN(v)&&(v=4,r=2,q=0);this.set=p.set();var n=t.fillColor;void 0==n&&(n="#000000");0>v&&"object"==typeof n&&(n=n.join(",").split(",").reverse());isNaN(q)&&(q=0);t=w.visibleAxisX+o+","+(w.visibleAxisY+m)+","+w.visibleAxisWidth+","+w.visibleAxisHeight;"vertical"==s?(w=AmCharts.rect(p,w.width,v,n,q),w.translate(o+","+(u-r+m))):(w=AmCharts.rect(p,v,w.height,n,q),w.translate(u-r+o+","+m));w.attr({"clip-rect":t});this.set.push(w)},graphics:function(){return this.set}});AmCharts.RadarAxisRenderer=AmCharts.Class({construct:function(K){var J=K.chart,I=K.axisThickness,H=K.axisColor,G=K.axisAlpha,F=K.x,E=K.y;this.set=J.container.set();var D=K.axisTitleOffset,C=K.radarCategoriesEnabled,A=K.chart.fontFamily,B=K.fontSize;void 0==B&&(B=K.chart.fontSize);var y=K.color;void 0==y&&(y=K.chart.color);if(J){this.axisWidth=K.height;for(var K=J.chartData,x=K.length,z=0;z<x;z++){var w=180-360/x*z,u=F+this.axisWidth*Math.sin(w/180*Math.PI),v=E+this.axisWidth*Math.cos(w/180*Math.PI);this.set.push(AmCharts.line(J.container,[F,u],[E,v],H,G,I));if(C){var u="start",v=F+(this.axisWidth+D)*Math.sin(w/180*Math.PI),t=E+(this.axisWidth+D)*Math.cos(w/180*Math.PI);if(180==w||0==w){u="middle",v-=5}0>w&&(u="end",v-=10);180==w&&(t-=5);0==w&&(t+=5);w=AmCharts.text(J.container,v+5,t,K[z].category,{fill:y,"text-anchor":u,"font-family":A,"font-size":B});this.set.push(w);w.getBBox()}}}}});AmCharts.RadarAxisItemRenderer=AmCharts.Class({construct:function(ai,ah,ag,af,ae,ad,ac){void 0==ag&&(ag="");var ab=ai.chart.fontFamily,aa=ai.fontSize;void 0==aa&&(aa=ai.chart.fontSize);var Y=ai.color;void 0==Y&&(Y=ai.chart.color);var Z=ai.chart.container;this.set=Z.set();var W=ai.axisColor,V=ai.axisAlpha,X=ai.tickLength,U=ai.gridAlpha,R=ai.gridThickness,S=ai.gridColor,Q=ai.dashLength,M=ai.fillColor,H=ai.fillAlpha,C=ai.labelsEnabled,af=ai.counter,P=ai.inside,O=ai.gridType,ah=ah-ai.height,I,ae=ai.x,ad=ai.y;ac?(C=!0,isNaN(ac.tickLength)||(X=ac.tickLength),void 0!=ac.lineColor&&(S=ac.lineColor),isNaN(ac.lineAlpha)||(U=ac.lineAlpha),isNaN(ac.dashLength)||(Q=ac.dashLength),isNaN(ac.lineThickness)||(R=ac.lineThickness),!0==ac.inside&&(P=!0)):ag||(U/=3,X/=2);var D="end",N=-1;P&&(D="start",N=1);if(C){var u=AmCharts.text(Z,ae+(X+3)*N,ah,ag,{fill:Y,"text-anchor":D,"font-family":ab,"font-size":aa});this.set.push(u);I=AmCharts.line(Z,[ae,ae+X*N],[ah,ah],W,V,R);this.set.push(I)}ah=ai.y-ah;if("polygons"==O){for(var J=[],B=[],A=ai.data.length,ag=0;ag<A;ag++){ab=180-360/A*ag,J.push(ah*Math.sin(ab/180*Math.PI)),B.push(ah*Math.cos(ab/180*Math.PI))}J.push(J[0]);B.push(B[0]);ag=AmCharts.line(Z,J,B,S,U,R,Q)}else{ag=AmCharts.circle(Z,ah,"#FFFFFF",0,R,S,U)}ag.translate(ae+","+ad);this.set.push(ag);if(1==af&&0<H&&!ac){ac=ai.previousCoord;if("polygons"==O){for(ag=A;0<=ag;ag--){ab=180-360/A*ag,J.push(ac*Math.sin(ab/180*Math.PI)),B.push(ac*Math.cos(ab/180*Math.PI))}J=AmCharts.polygon(Z,J,B,[M],[H])}else{J=AmCharts.wedge(Z,0,0,0,-360,ah,ah,ac,0,{fill:M,"fill-opacity":H,stroke:0,"stroke-opacity":0,"stroke-width":0})}this.set.push(J);J.translate(ae+","+ad)}!1==ai.visible&&(I&&I.hide(),u&&u.hide());ai.counter=0==af?1:0;ai.previousCoord=ah},graphics:function(){return this.set}});AmCharts.RadarAxisGuideFillRenderer=AmCharts.Class({construct:function(w,v,u,t){var s=w.chart.container,r=t.fillAlpha,q=t.fillColor,u=w.y-(u-w.height)-v,p=u+v,o=-t.angle,t=-t.toAngle;isNaN(o)&&(o=0);isNaN(t)&&(t=-360);this.set=s.set();void 0==q&&(q="#000000");isNaN(r)&&(r=0);if("polygons"==w.gridType){for(var v=[],t=[],m=w.data.length,n=0;n<m;n++){o=180-360/m*n,v.push(u*Math.sin(o/180*Math.PI)),t.push(u*Math.cos(o/180*Math.PI))}v.push(v[0]);t.push(t[0]);for(n=m;0<=n;n--){o=180-360/m*n,v.push(p*Math.sin(o/180*Math.PI)),t.push(p*Math.cos(o/180*Math.PI))}this.fill=AmCharts.polygon(s,v,t,[q],[r])}else{p=u-Math.abs(v),this.fill=AmCharts.wedge(s,0,0,o,t-o,u,u,p,0,{fill:q,"fill-opacity":r,stroke:0,"stroke-opacity":0,"stroke-width":0})}this.set.push(this.fill);this.fill.translate(w.x+","+w.y)},graphics:function(){return this.set}});AmCharts.AmGraph=AmCharts.Class({construct:function(){this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=0;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.columnWidth=0.8;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletAlpha=this.bulletBorderAlpha=1;this.bulletSize=8;this.hideBulletsCount=this.bulletOffset=0;this.labelPosition="top";this.cornerRadiusTop=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue=""},draw:function(){this.container=this.chart.container;this.destroy();this.set=this.container.set();this.ownColumns=[];this.allBullets=[];this.objectsToAddListeners=[];this.positiveObjectsToClip=[];this.negativeObjectsToClip=[];this.animationArray=[];if(this.data&&0<this.data.length){var b=!1;"xy"==this.chartType?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(b=!0):this.valueAxis.axisCreated&&(this.columnsArray=[],b=!0);!this.hidden&&b&&this.createGraph()}},createGraph:function(){"inside"==this.labelPosition&&(this.labelPosition="bottom");this.sDur=this.chart.startDuration;this.sEff=this.chart.startEffect;this.startAlpha=this.chart.startAlpha;this.seqAn=this.chart.sequencedAnimation;this.baseCoord=this.valueAxis.baseCoord;this.fillColors||(this.fillColors=[this.lineColor]);void 0==this.fillAlphas&&(this.fillAlphas=0);void 0==this.bulletColor&&(this.bulletColor=this.lineColor,this.bulletColorNegative=this.negativeLineColor);void 0==this.bulletAlpha&&(this.bulletAlpha=this.lineAlpha);this.bulletBorderColor||(this.bulletBorderAlpha=0);if(!isNaN(this.valueAxis.min)&&!isNaN(this.valueAxis.max)){switch(this.chartType){case"serial":this.createSerialGraph();break;case"radar":this.createRadarGraph();break;case"xy":this.createXYGraph()}this.animationPlayed=!0}},createXYGraph:function(){var k=[],j=[];this.pmh=this.yAxis.visibleAxisHeight+1;this.pmw=this.xAxis.visibleAxisWidth+1;this.pmx=this.yAxis.visibleAxisX;this.pmy=this.yAxis.visibleAxisY;for(var q=this.start;q<=this.end;q++){var p=this.data[q].axes[this.xAxis.id].graphs[this.id],o=p.values.x,n=p.values.y,m=this.xAxis.getCoordinate(o),l=this.yAxis.getCoordinate(n);!isNaN(o)&&!isNaN(n)&&(k.push(m),j.push(l),(o=this.createBullet(p,m,l,q))||(o=0),this.labelText&&this.positionLabel(this.createLabel(p,m,l),this.labelPosition,o))}this.drawLineGraph(k,j);this.launchAnimation()},createRadarGraph:function(){for(var u=this.valueAxis.stackType,t=[],s=[],r,q,p=this.start;p<=this.end;p++){var o=this.data[p].axes[this.valueAxis.id].graphs[this.id],n;n="none"==u||"3d"==u?o.values.value:o.values.close;if(isNaN(n)){this.drawLineGraph(t,s),t=[],s=[]}else{var m=this.y-(this.valueAxis.getCoordinate(n)-this.height),k=180-360/(this.end-this.start+1)*p;n=m*Math.sin(k/180*Math.PI);m*=Math.cos(k/180*Math.PI);t.push(n);s.push(m);(k=this.createBullet(o,n,m,p))||(k=0);this.labelText&&this.positionLabel(this.createLabel(o,n,m),this.labelPosition,k);isNaN(r)&&(r=n);isNaN(q)&&(q=m)}}t.push(r);s.push(q);this.drawLineGraph(t,s);this.set.translate(this.x,this.y);this.launchAnimation();if(u=this.objectsToAddListeners){for(t=0;t<u.length;t++){this.addHoverListeners(u[t]),this.addClickListeners(u[t])}}},positionLabel:function(j,h,n){var m=j.attr("x"),l=j.attr("y"),k=j.getBBox();switch(h){case"left":m-=(k.width+n)/2+5;break;case"top":l-=(n+k.height)/2+3;break;case"right":m+=(k.width+n)/2+5;break;case"bottom":l+=(n+k.height)/2+3}j.attr({x:m,y:l})},createSerialGraph:function(){var a8=this,a7=a8.id,a5=a8.index,a4=a8.data,a2=a8.chart.container,a0=a8.valueAxis,aZ=a8.type,aY=a8.columnWidth,aV=a8.width,aS=a8.height,aT=a8.x,aP=a8.y,aO=a8.rotate,aR=a8.columnCount,aM=AmCharts.toCoordinate(a8.cornerRadiusTop,aY/2),aK=a8.connect,aL=[],aJ=[],aG,aD,aB=a8.chart.graphs.length,bG,aI=a8.dx/a8.depthCount,aF=a8.dy/a8.depthCount,aC=a0.stackType,bE=a8.labelPosition,bk=a8.start,bC=a8.end,bw=a8.scrollbar,bu=a8.categoryAxis,bI=a8.baseCoord,aQ=a8.negativeBase,by=a8.columnIndex,bZ=a8.lineThickness,bs=a8.lineAlpha,ax=a8.lineColor,bf=a8.dashLength,bj=a8.set;"above"==bE&&(bE="top");"below"==bE&&(bE="bottom");var ar,bi=270;"horizontal"==a8.gradientOrientation&&(bi=0);var br=a8.chart.columnSpacing,bd=bu.cellWidth,aW=(bd*aY-aR)/aR;br>aW&&(br=aW);var bK,aH,ag,b7=aS+1,b8=aV+1,bp=aT,at=aP,b4,bQ,a6,b2,ak=a8.fillColors,ay=a8.negativeFillColors,b3=a8.negativeLineColor,bP=a8.fillAlphas,am=a8.negativeFillAlphas;"object"==typeof bP&&(bP=bP[0]);"object"==typeof am&&(am=am[0]);var bO=a0.getCoordinate(a0.min);a0.logarithmic&&(bO=a0.getCoordinate(a0.minReal));a8.minCoord=bO;a8.resetBullet&&(a8.bullet="none");if(!bw&&("line"==aZ||"smoothedLine"==aZ||"step"==aZ)){if(1==a4.length&&"step"!=aZ&&"none"==a8.bullet&&(a8.bullet="round",a8.resetBullet=!0),ay||void 0!=b3){var bV=aQ;bV>a0.max&&(bV=a0.max);bV<a0.min&&(bV=a0.min);a0.logarithmic&&(bV=a0.minReal);var al=a0.getCoordinate(bV),ah=a0.getCoordinate(a0.max);aO?(b7=aS,b8=Math.abs(ah-al),b4=aS,bQ=Math.abs(bO-al),b2=a6=aP,a0.reversed?(bp=aT,a6=al):(bp=al,a6=aT)):(b8=aV,b7=Math.abs(ah-al),bQ=aV,b4=Math.abs(bO-al),a6=bp=aT,a0.reversed?(b2=aP,at=al):b2=al)}}a8.pmx=bp;a8.pmy=at;a8.pmh=b7;a8.pmw=b8;a8.nmx=a6;a8.nmy=b2;a8.nmh=b4;a8.nmw=bQ;aY="column"==aZ?(bd*aY-br*(aR-1))/aR:bd*aY;1>aY&&(aY=1);var bt;if("line"==aZ||"step"==aZ||"smoothedLine"==aZ){if(0<bk){for(bt=bk-1;-1<bt;bt--){if(bK=a4[bt],aH=bK.axes[a0.id].graphs[a7],ag=aH.values.value){bk=bt;break}}}if(bC<a4.length-1){for(bt=bC+1;bt<a4.length;bt++){if(bK=a4[bt],aH=bK.axes[a0.id].graphs[a7],ag=aH.values.value){bC=bt;break}}}}bC<a4.length-1&&bC++;var ai=[],cc=[],be=!1;if("line"==aZ||"step"==aZ||"smoothedLine"==aZ){if(a8.stackable&&"regular"==aC||"100%"==aC){be=!0}}for(bt=bk;bt<=bC;bt++){bK=a4[bt];aH=bK.axes[a0.id].graphs[a7];aH.index=bt;var aE="";aH.url&&(aE="pointer");var cf,bA=NaN,bL=NaN,bM=NaN,bn=NaN,bm=NaN,bc=NaN,aX=NaN,aA=NaN,av=NaN,bS=NaN,bq=NaN,b1=NaN,bN=NaN,bl=NaN,bH=void 0,a9=ak,ap=bP,bg=ax;void 0!=aH.color&&(a9=[aH.color]);aH.fillColors&&(a9=aH.fillColors);isNaN(aH.alpha)||(ap=[aH.alpha]);var bX=aH.values;a0.recalculateToPercents&&(bX=aH.percents);if(bX){bl=!a8.stackable||"none"==aC||"3d"==aC?bX.value:bX.close;if("candlestick"==aZ||"ohlc"==aZ){var bl=bX.close,ae=bX.low,aX=a0.getCoordinate(ae),b5=bX.high,av=a0.getCoordinate(b5)}var bU=bX.open,bM=a0.getCoordinate(bl);isNaN(bU)||(bm=a0.getCoordinate(bU));if(!bw){switch(a8.showBalloonAt){case"close":aH.y=bM;break;case"open":aH.y=bm;break;case"high":aH.y=av;break;case"low":aH.y=aX}}var bA=bK.x[bu.id],cg=bd/2,bJ=bd/2;"start"==a8.pointPosition&&(bA-=bd/2,cg=0,bJ=bd);bw||(aH.x=bA);aO?(bL=bM,bn=bm,bm=bM=bA,isNaN(bU)&&(bn=bI),bc=aX,aA=av):(bn=bL=bA,isNaN(bU)&&(bm=bI));switch(aZ){case"line":isNaN(bl)?aK||(a8.drawLineGraph(aL,aJ,ai,cc),aL=[],aJ=[],ai=[],cc=[]):(bl<aQ&&(aH.isNegative=!0),aL.push(bL),aJ.push(bM),bS=bL,bq=bM,b1=bL,bN=bM,be&&(ai.push(bn),cc.push(bm)));break;case"smoothedLine":isNaN(bl)?aK||(a8.drawSmoothedGraph(aL,aJ,ai,cc),aL=[],aJ=[],ai=[],cc=[]):(bl<aQ&&(aH.isNegative=!0),aL.push(bL),aJ.push(bM),bS=bL,bq=bM,b1=bL,bN=bM,be&&(ai.push(bn),cc.push(bm)));break;case"step":isNaN(bl)?aK||(a8.drawLineGraph(aL,aJ,ai,cc),aL=[],aJ=[],ai=[],cc=[]):(bl<aQ&&(aH.isNegative=!0),aO?(aG&&aK&&(aL.push(aG),aJ.push(bM-cg)),aJ.push(bM-cg),aL.push(bL),aJ.push(bM+bJ),aL.push(bL)):(aD&&aK&&(aJ.push(aD),aL.push(bL-cg)),aL.push(bL-cg),aJ.push(bM),aL.push(bL+bJ),aJ.push(bM)),aG=bL,aD=bM,bS=bL,bq=bM,b1=bL,bN=bM);break;case"column":if(!isNaN(bl)){bl<aQ&&(aH.isNegative=!0,ay&&(a9=ay),void 0!=b3&&(bg=b3));var b9=a0.min,bW=a0.max;if(!(bl<b9&&(bU<b9||void 0==bU)||bl>bW&&bU>bW)){if(aO){if("3d"==aC){var bB=bM-0.5*(aY+br)+br/2+aF*by,bx=bn+aI*by}else{bB=bM-(aR/2-by)*(aY+br)+br/2,bx=bn}var bz=aY,bS=bL,bq=bB+aY/2,b1=bL,bN=bB+aY/2;bB+bz>aP+aS&&(bz=aP+aS-bB);bB<aP&&(bz-=aP-bB,bB=aP);var au=bL-bn,ce=bx,bx=AmCharts.fitToBounds(bx,aT,aT+aV),au=au+(ce-bx),au=AmCharts.fitToBounds(au,aT-bx,aT+aV-bx);bB<aP+aS&&0<bz&&(bH=new AmCharts.Cuboid(a2,au,bz,aI,aF,a9,bP,bZ,bg,bs,bi,aM),bH.y(bB),bH.x(bx),"bottom"!=bE&&(bE="right",0>bl?bE="left":(bS+=a8.dx,"regular"!=aC&&"100%"!=aC&&(bq+=a8.dy))))}else{"3d"==aC?(bx=bL-0.5*(aY+br)+br/2+aI*by,bB=bm+aF*by):(bx=bL-(aR/2-by)*(aY+br)+br/2,bB=bm);bz=aY;bS=bx+aY/2;bq=bM;b1=bx+aY/2;bN=bM;bx+bz>aT+aV+by*aI&&(bz=aT+aV-bx+by*aI);bx<aT&&(bz-=aT-bx,bx=aT);var au=bM-bm,b0=bB,bB=AmCharts.fitToBounds(bB,aP,aP+aS),au=au+(b0-bB),au=AmCharts.fitToBounds(au,aP-bB,aP+aS-bB);bx<aT+aV+by*aI&&0<bz&&(bH=new AmCharts.Cuboid(a2,bz,au,aI,aF,a9,bP,bZ,bg,a8.lineAlpha,bi,aM),bH.y(bB),bH.x(bx),0>bl?bE="bottom":("regular"!=aC&&"100%"!=aC&&(bS+=a8.dx),bq+=a8.dy))}}if(bH){if(!bw){"none"==aC&&(bG=aO?(a8.end+1-bt)*aB-a5:aB*bt+a5);"3d"==aC&&(aO?(bG=(aB-a5)*(a8.end+1-bt),bq=bB+aY/2):(bG=(aB-a5)*(bt+1),bS+=aI*a8.columnIndex),bq+=aF*a8.columnIndex);if("regular"==aC||"100%"==aC){bE="middle",bG=aO?0<bX.value?(a8.end+1-bt)*aB+a5:(a8.end+1-bt)*aB-a5:0<bX.value?aB*bt+a5:aB*bt-a5}a8.columnsArray.push({column:bH,depth:bG});aH.x=aO?bH.getY()+bz/2:bH.getX()+bz/2;a8.ownColumns.push(bH);if(0==a8.dx&&0==a8.dy&&0<a8.sDur&&!a8.animationPlayed){var az,an;aO?(cf=bL-bn,az=bL,an=bn):(cf=bM-bm,az=bM,an=bm);a8.seqAn?(bH.set.hide(),a8.animationArray.push({obj:bH.set,fh:cf,ip:an,fp:az}),ar=setTimeout(function(){a8.animate.call(a8)},1000*a8.sDur/(a8.end-a8.start+1)*(bt-a8.start)),a8.timeOuts.push(ar)):a8.animate(bH.set,cf,an,az)}for(var ac=bH.set,bF=0;bF<ac.length;bF++){ac[bF].dItem=aH,ac[bF].attr({cursor:aE})}a8.objectsToAddListeners.push(bH.set)}bj.push(bH.set);aH.columnSprite=ac}}break;case"candlestick":if(!isNaN(bU)&&!isNaN(b5)&&!isNaN(ae)&&!isNaN(bl)){var ao,bR;bl<bU&&(aH.isNegative=!0,ay&&(a9=ay),am&&(ap=am),void 0!=b3&&(bg=b3));if(aO){if(bB=bM-aY/2,bx=bn,bz=aY,bB+bz>aP+aS&&(bz=aP+aS-bB),bB<aP&&(bz-=aP-bB,bB=aP),bB<aP+aS&&0<bz){var bo,aN;bl>bU?(bo=[bL,aA],aN=[bn,bc]):(bo=[bn,aA],aN=[bL,bc]);bM<aP+aS&&bM>aP&&(ao=AmCharts.line(a2,bo,[bM,bM],bg,bs,bZ),bR=AmCharts.line(a2,aN,[bM,bM],bg,bs,bZ));1>Math.abs(bL-bn)?(bH=new AmCharts.line(a2,[0,0],[0,bz],bg,bs,1),bH.attr({x:bx,y:bB})):(bH=new AmCharts.Cuboid(a2,bL-bn,bz,aI,aF,a9,bP,bZ,bg,bs,bi,aM),bH.y(bB),bH.x(bx))}}else{if(bx=bL-aY/2,bB=bm+bZ/2,bz=aY,bx+bz>aT+aV&&(bz=aT+aV-bx),bx<aT&&(bz-=aT-bx,bx=aT),bx<aT+aV&&0<bz){1>Math.abs(bM-bm)?(bH=new AmCharts.line(a2,[0,bz],[0,0],bg,bs,1),bH.translate(bx+","+bB)):(bH=new AmCharts.Cuboid(a2,bz,bM-bm,aI,aF,a9,ap,bZ,bg,bs,bi,aM),bH.x(bx),bH.y(bB));var aq,af;bl>bU?(aq=[bM,av],af=[bm,aX]):(aq=[bm,av],af=[bM,aX]);bL<aT+aV&&bL>aT&&(ao=AmCharts.line(a2,[bL,bL],aq,bg,bs,bZ),bR=AmCharts.line(a2,[bL,bL],af,bg,bs,bZ))}}if(bH&&(bH.set?bj.push(bH.set):bj.push(bH),ao&&(bj.push(ao),bj.push(bR)),bS=bL,bq=bM,b1=bL,bN=bM,!bw)){if(bH.getX){var bD=bH.getX(),a1=bH.getY()}else{bD=bx,a1=bB}aH.x=aO?a1+bz/2:bD+bz/2;0==a8.dx&&0==a8.dy&&0<a8.sDur&&!a8.animationPlayed&&(aO?(cf=bL-bn,az=bL,an=bn):(cf=bM-bm,az=bM,an=bm),a8.seqAn?(bH.set.show(),a8.animationArray.push({obj:bH.set,fh:cf,ip:an,fp:az}),ar=setTimeout(function(){a8.animate.call(a8)},1000*a8.sDur/(a8.end-a8.start+1)*(bt-a8.start)),a8.timeOuts.push(ar)):a8.animate(bH.set,cf,an,az));if(bH.set){ac=bH.set;for(bF=0;bF<ac.length;bF++){ac[bF].dItem=aH,ac[bF].attr({cursor:aE})}a8.objectsToAddListeners.push(bH.set)}}}break;case"ohlc":if(!isNaN(bU)&&!isNaN(b5)&&!isNaN(ae)&&!isNaN(bl)){bl<bU&&(aH.isNegative=!0,void 0!=b3&&(bg=b3));var b6,bT,bv;aO?(bT=AmCharts.line(a2,[bn,bn],[bM-aY/2,bM],bg,bs,bZ,bf),b6=AmCharts.line(a2,[bc,aA],[bM,bM],bg,bs,bZ,bf),bv=AmCharts.line(a2,[bL,bL],[bM,bM+aY/2],bg,bs,bZ,bf)):(bT=AmCharts.line(a2,[bL-aY/2,bL],[bm,bm],bg,bs,bZ,bf),b6=AmCharts.line(a2,[bL,bL],[aX,av],bg,bs,bZ,bf),bv=AmCharts.line(a2,[bL,bL+aY/2],[bM,bM],bg,bs,bZ,bf));bj.push(bT);bj.push(b6);bj.push(bv);bS=bL;bq=bM;b1=bL;bN=bM}}if(!bw&&!isNaN(bl)){var aw=a8.hideBulletsCount;if(a8.end-a8.start<=aw||0==aw){var aj=a8.createBullet(aH,b1,bN,bt);aj||(aj=0);if(a8.labelText){var bh=a8.createLabel(aH,0,0);"column"==aZ&&(aO?"right"==bE||"bottom"==bE?bh.attr({width:aV}):bh.attr({width:bL-bn}):bh.attr({width:bd}));var cd=0,ad=0,a3=bh.getBBox(),bY=a3.width,aU=a3.height;switch(bE){case"left":cd=-(bY/2+aj/2+3);break;case"top":ad=-(aU/2+aj/2+3);break;case"right":cd=aj/2+2+bY/2;break;case"bottom":aO&&"column"==aZ?0>bl?(cd=-bY/2-8,bS=bn):cd=bn+6+bY/2-bS:(ad=aj/2+aU/2,bh.x=-(bY/2+2));break;case"middle":"column"==aZ&&(aO?(cd=-(bL-bn)/2-aI,Math.abs(bL-bn)<bY&&!a8.showAllValueLabels&&(bh.remove(),a8.set.exclude(bh),bh=null)):(ad=-(bM-bm)/2+1-aF,Math.abs(bM-bm)<aU&&!a8.showAllValueLabels&&(bh.remove(),a8.set.exclude(bh),bh=null)))}if(bh){if(bh.attr({x:bS+cd,y:bq+ad}),a3=bh.getBBox(),aO){if(a3.y<aP||a3.y+a3.height>aP+aS){bh.remove(),a8.set.exclude(bh),bh=null}}else{if(a3.x<aT||a3.x+a3.width>aT+aV){bh.remove(),a8.set.exclude(bh),bh=null}}}}}}}}if("line"==aZ||"step"==aZ||"smoothedLine"==aZ){"smoothedLine"==aZ?a8.drawSmoothedGraph(aL,aJ,ai,cc):a8.drawLineGraph(aL,aJ,ai,cc),bw||a8.launchAnimation()}},createLabel:function(j,h,n){var m=this.chart,l=this.color;void 0==l&&(l=m.color);var k=this.fontSize;void 0==k&&(k=m.fontSize);j=m.formatString(this.labelText,j,this);j=AmCharts.cleanFromEmpty(j);h=AmCharts.text(this.container,h,n,j,{fill:l,"font-family":m.fontFamily,"font-size":k});this.set.push(h);this.allBullets.push(h);return h},setPositiveClipRect:function(b){b.attr({"clip-rect":this.pmx+","+this.pmy+","+this.pmw+","+this.pmh})},setNegativeClipRect:function(b){b.attr({"clip-rect":this.nmx+","+this.nmy+","+this.nmw+","+this.nmh})},drawLineGraph:function(j,h,n,m){if(1<j.length){var l=AmCharts.line(this.container,j,h,this.lineColor,this.lineAlpha,this.lineThickness,this.dashLength);this.positiveObjectsToClip.push(l);this.set.push(l);void 0!=this.negativeLineColor&&(l=AmCharts.line(this.container,j,h,this.negativeLineColor,this.lineAlpha,this.lineThickness,this.dashLength),this.negativeObjectsToClip.push(l),this.set.push(l));if(void 0!=this.fillAlphas&&0!=this.fillAlphas){var l=j.join(";").split(";"),k=h.join(";").split(";");"serial"==this.chartType&&(0<n.length?(n.reverse(),m.reverse(),l=j.concat(n),k=h.concat(m)):this.rotate?(k.push(k[k.length-1]),l.push(this.baseCoord),k.push(k[0]),l.push(this.baseCoord),k.push(k[0]),l.push(l[0])):(l.push(l[l.length-1]),k.push(this.baseCoord),l.push(l[0]),k.push(this.baseCoord),l.push(j[0]),k.push(k[0])));j=AmCharts.polygon(this.container,l,k,this.fillColors,this.fillAlphas);this.set.push(j);this.positiveObjectsToClip.push(j);if(this.negativeFillColors||void 0!=this.negativeLineColor){j=this.fillAlphas,this.negativeFillAlphas&&(j=this.negativeFillAlphas),h=this.negativeLineColor,this.negativeFillColors&&(h=this.negativeFillColors),l=AmCharts.polygon(this.container,l,k,h,j),this.set.push(l),this.negativeObjectsToClip.push(l)}}}},drawSmoothedGraph:function(h,f){if(1<h.length){var l=new AmCharts.Bezier(this.container,h,f,this.lineColor,this.lineAlpha,this.lineThickness,NaN,NaN,this.dashLength);this.positiveObjectsToClip.push(l.path);this.set.push(l.path);void 0!=this.negativeLineColor&&(l=new AmCharts.Bezier(this.container,h,f,this.negativeLineColor,this.lineAlpha,this.lineThickness,NaN,NaN,this.dashLength),this.set.push(l.path),this.negativeObjectsToClip.push(l.path));if(0<this.fillAlphas){l=[];this.rotate?(l.push("L",this.baseCoord,f[f.length-1]),l.push("L",this.baseCoord,f[0])):(l.push("L",h[h.length-1],this.baseCoord),l.push("L",h[0],this.baseCoord));l.push("L",h[0],f[0]);var k=new AmCharts.Bezier(this.container,h,f,NaN,NaN,0,this.fillColors,this.fillAlphas,this.dashLength,l);this.positiveObjectsToClip.push(k.path);this.set.push(k.path);if(this.negativeFillColors||void 0!=this.negativeLineColor){k=this.fillAlphas;this.negativeFillAlphas&&(k=this.negativeFillAlphas);var j=this.negativeLineColor;this.negativeFillColors&&(j=this.negativeFillColors);l=new AmCharts.Bezier(this.container,h,f,NaN,NaN,0,j,k,this.dashLength,l);this.negativeObjectsToClip.push(l.path);this.set.push(l.path)}}}},launchAnimation:function(){var d=this;if(0<d.sDur&&!d.animationPlayed){var c=d.set;c.attr({opacity:d.startAlpha});d.rotate?c.translate("-1000,0"):c.translate("0,-1000");d.seqAn?(c=setTimeout(function(){d.animateGraphs.call(d)},1000*d.index*d.sDur),d.timeOuts.push(c)):d.animateGraphs()}},animateGraphs:function(){if(0<this.set.length){var d=0,c=0;this.rotate?d=1000:c=1000;this.set.animate({opacity:1,transform:"...t"+d+","+c},1000*this.sDur,this.sEff)}},animate:function(h,f,l,k){var j=this.animationArray;!h&&0<j.length&&(h=j[0].obj,f=j[0].fh,l=j[0].ip,k=j[0].fp,j.shift());h.show();this.rotate?0<f?(h.attr({"fill-opacity":this.startAlpha,width:1}),h.animate({"fill-opacity":this.fillAlphas,width:Math.abs(f)},1000*this.sDur,this.sEff)):0>f&&(h.attr({"fill-opacity":this.startAlpha,width:1,x:l}),h.animate({"fill-opacity":this.fillAlphas,width:Math.abs(f),x:k},1000*this.sDur,this.sEff)):0<f?(h.attr({"fill-opacity":this.startAlpha,height:0.1}),h.animate({"fill-opacity":this.fillAlphas,height:Math.abs(f)},1000*this.sDur,this.sEff)):0>f&&(h.attr({"fill-opacity":this.startAlpha,height:0.1,y:l}),h.animate({"fill-opacity":this.fillAlphas,height:Math.abs(f),y:k},1000*this.sDur,this.sEff))},legendKeyColor:function(){var d=this.legendColor,c=this.lineAlpha;void 0==d&&(d=this.lineColor,0==c&&(c=this.fillColors)&&(d="object"==typeof c?c[0]:c));return d},legendKeyAlpha:function(){var b=this.legendAlpha;void 0==b&&(b=this.lineAlpha,0==b&&this.fillAlphas&&(b=this.fillAlphas),0==b&&(b=this.bulletAlpha),0==b&&(b=1));return b},createBullet:function(y,x,w){var v="";y.url&&(v="pointer");var u=this.bulletOffset,t=this.bulletSize;isNaN(y.bulletSize)||(t=y.bulletSize);if(!isNaN(this.maxValue)){var s=y.values.value;isNaN(s)||(t=s/this.maxValue*this.maxBulletSize)}t<this.minBulletSize&&(t=this.minBulletSize);this.rotate?x+=u:w-=u;var r;if("none"!=this.bullet||y.bullet){var q=this.bulletColor;y.isNegative&&void 0!=this.bulletColorNegative&&(q=this.bulletColorNegative);void 0!=y.color&&(q=y.color);u=this.bullet;y.bullet&&(u=y.bullet);var s=this.bulletBorderThickness,o=this.bulletBorderColor,p=this.bulletBorderAlpha,m=this.bulletAlpha;switch(u){case"round":r=AmCharts.circle(this.container,t/2,q,m,s,o,p);break;case"square":r=AmCharts.rect(this.container,t,t,q,m,s,o,p);x-=t/2;w-=t/2;break;case"triangleUp":r=AmCharts.triangle(this.container,t,0,q,m,s,o,p);break;case"triangleDown":r=AmCharts.triangle(this.container,t,180,q,m,s,o,p);break;case"triangleLeft":r=AmCharts.triangle(this.container,t,270,q,m,s,o,p);break;case"triangleRight":r=AmCharts.triangle(this.container,t,90,q,m,s,o,p);break;case"bubble":r=AmCharts.circle(this.container,t/2,q,m,s,o,p,!0)}}if(this.customBullet||y.customBullet){u=this.customBullet,y.customBullet&&(u=y.customBullet),u&&(r&&r.remove(),"function"==typeof u?(r=new u,r.chart=this.chart,y.bulletConfig&&(r.availableSpace=w,r.graph=this,y.bulletConfig.minCoord=this.minCoord-w,r.bulletConfig=y.bulletConfig),r.write(this.container),r=r.set):(this.chart.path&&(u=this.chart.path+u),r=this.container.image(u,0,0,t,t).attr({preserveAspectRatio:!0}),this.centerCustomBullets&&(x-=t/2,w-=t/2)))}if(r){r.attr({cursor:v});this.allBullets.push(r);if("serial"==this.chartType&&(x<this.x||x>this.x+this.width||w<this.y-t/2||w>this.y+this.height)){r.remove(),r=null}r&&("xy"==this.chartType&&this.setPositiveClipRect(r),this.set.push(r),r.transform("...T"+x+","+w),r.dItem=y,this.objectsToAddListeners.push(r))}return t},showBullets:function(){for(var b=0;b<this.allBullets.length;b++){this.allBullets[b].show()}},hideBullets:function(){for(var b=0;b<this.allBullets.length;b++){this.allBullets[b].hide()}},addHoverListeners:function(d){var c=this;d.mouseover(function(){c.handleRollOver.call(c,this.dItem)}).mouseout(function(){c.handleRollOut.call(c,this.dItem)})},addClickListeners:function(d){var c=this;c.chart.touchEventsEnabled&&d.touchstart(function(){c.handleRollOver(this.dItem)}).touchend(function(){c.handleClick(this.dItem)});d.click(function(){c.handleClick.call(c,this.dItem)}).dblclick(function(){c.handleDoubleClick.call(c,this.dItem)})},handleRollOver:function(e){if(e){var d=this.chart,f={type:"rollOverGraphItem",item:e,index:e.index,graph:this};this.fire("rollOverGraphItem",f);d.fire("rollOverGraphItem",f);clearTimeout(d.hoverInt);f=!0;d.chartCursor&&"serial"==this.chartType&&(f=!1,d.chartCursor.valueBalloonsEnabled||(f=!0));f&&this.showBalloon&&(f=d.formatString(this.balloonText,e,this),f=AmCharts.cleanFromEmpty(f),e=d.getBalloonColor(this,e),d.balloon.showBullet=!1,d.balloon.pointerOrientation="vertical",d.showBalloon(f,e,!0))}},handleRollOut:function(b){this.chart.hideBalloon();b&&(b={type:"rollOutGraphItem",item:b,index:b.index,graph:this},this.fire("rollOutGraphItem",b),this.chart.fire("rollOutGraphItem",b))},handleClick:function(d){if(d){var c={type:"clickGraphItem",item:d,index:d.index,graph:this};this.fire("clickGraphItem",c);this.chart.fire("clickGraphItem",c);d=d.url;c=this.urlTarget;d&&("_self"==c||!c?window.location.href=d:(c=document.getElementsByName(c)[0])?c.src=d:window.open(d))}},handleDoubleClick:function(b){b&&(b={type:"doubleClickGraphItem",item:b,index:b.index,graph:this},this.fire("doubleClickGraphItem",b),this.chart.fire("doubleClickGraphItem",b))},zoom:function(d,c){this.start=d;this.end=c;this.draw()},changeOpacity:function(b){this.set&&this.set.attr({opacity:b})},destroy:function(){AmCharts.removeSet(this.set);var d=this.timeOuts;if(d){for(var c=0;c<d.length;c++){clearTimeout(d[c])}}this.timeOuts=[]}});AmCharts.ChartCursor=AmCharts.Class({construct:function(){this.createEvents("changed","zoomed","onHideCursor","draw");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=0.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.animate=!0;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.oneBalloonOnly=!1},draw:function(){var e=this;e.destroy();var d=e.chart,f=d.container;e.rotate=d.rotate;e.container=f;e.set=f.set();e.allBullets=f.set();f=new AmCharts.AmBalloon;e.categoryBalloon=f;f.cornerRadius=0;f.borderWidth=1;f.borderAlpha=0;f.chart=d;d=e.categoryBalloonColor;void 0==d&&(d=e.cursorColor);f.fillColor=d;f.fillAlpha=e.categoryBalloonAlpha;f.borderColor=d;f.color=e.color;e.rotate&&(f.pointerOrientation="horizontal");"cursor"==e.type?e.createCursor():e.createCrosshair();e.interval=setInterval(function(){e.detectMovement.call(e)},40)},updateData:function(){var b=this.chart.chartData;if((this.data=b)&&0<b.length&&b){this.firstTime=b[0].time,this.lastTime=b[b.length-1].time}},createCursor:function(){var G=this.chart,F=this.cursorAlpha,E=G.categoryAxis,D=E.position,C=E.inside,B=E.axisThickness,A=this.categoryBalloon,z,y,w=this.x,x=this.y,u=G.dx,t=G.dy,v=this.width,s=this.height,G=G.rotate,q=E.tickLength;A.pointerWidth=q;G?(z=[0,v,v+u],y=[0,0,t]):(z=[u,0,0],y=[t,0,s]);this.line=F=AmCharts.line(this.container,z,y,this.cursorColor,F,1);F.translate(w+","+x);this.set.push(F);G?(C&&(A.pointerWidth=0),"right"==D?C?A.setBounds(w,x+t,w+v+u,x+s+t):A.setBounds(w+v+u+B,x+t,w+v+1000,x+s+t):C?A.setBounds(w,x,v+w,s+x):A.setBounds(-1000,-1000,w-q-B,x+s+15)):(A.maxWidth=v,E.parseDates&&(q=0,A.pointerWidth=0),"top"==D?C?A.setBounds(w+u,x+t,v+u+w,s+x):A.setBounds(w+u,-1000,v+u+w,x+t-q-B):C?A.setBounds(w,x,v+w,s+x-q):A.setBounds(w,x+s+q+B-1,w+v,x+s+q+B))},createCrosshair:function(){var e=this.cursorAlpha,d=this.container,f=AmCharts.line(d,[0,0],[0,this.height],this.cursorColor,e,1),e=AmCharts.line(d,[0,this.width],[0,0],this.cursorColor,e,1);f.translate(this.x+","+this.y);e.translate(this.x+","+this.y);this.set.push(f);this.set.push(e);this.vLine=f;this.hLine=e;this.selection=AmCharts.rect(d,1,1,[this.cursorColor],[this.selectionAlpha]);this.selection.hide();this.hideCursor()},detectMovement:function(){var h=this.chart;if(h.mouseIsOver){var f=h.mouseX,l=h.mouseY,k=this.x,j=this.y;f>k&&f<k+this.width&&l>j&&l<this.height+j?(this.drawing?this.rolledOver||h.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||h.setMouseCursor("move")),this.rolledOver=!0,this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else{this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}},getMousePosition:function(){var h,f=this.x,l=this.y,k=this.width,j=this.height;h=this.chart;this.rotate?(h=h.mouseY,h<l&&(h=l),h>j+l&&(h=j+l)):(h=h.mouseX,h<f&&(h=f),h>k+f&&(h=k+f));return h},updateCrosshair:function(){var j=this.chart.mouseX,h=this.chart.mouseY,n=this.x,m=this.y,l=this.vLine,k=this.hLine,j=AmCharts.fitToBounds(j,n,n+this.width),h=AmCharts.fitToBounds(h,m,m+this.height);0<this.cursorAlpha&&(n=l.getBBox(),m=k.getBBox(),l.show(),k.show(),l.translate(Math.round(j-n.x)+",0"),k.translate("0,"+Math.round(h-m.y)));this.zooming&&this.updateSelectionSize(j,h);!this.chart.mouseIsOver&&!this.zooming&&this.hideCursor()},updateSelectionSize:function(k,j){AmCharts.removeObject(this.selection,this.set);var q=this.x,p=this.y,o=this.width,n=this.height,m=this.selectionPosX,l=this.selectionPosY;isNaN(k)||(m>k&&(q=k,o=m-k),m<k&&(q=m,o=k-m),m==k&&(q=k,o=0));isNaN(j)||(p=this.y,l>j&&(p=j,n=l-j),l<j&&(p=l,n=j-l),l==j&&(p=j,n=0));0<o&&0<n&&(this.selection=AmCharts.rect(this.container,o,n,[this.cursorColor],[this.selectionAlpha]),this.selection.translate(q+","+p),this.set.push(this.selection))},arrangeBalloons:function(){var j=this.x,h=this.y,n=this.valueBalloons,m=h+this.height;n.sort(this.compareY);for(var l=0;l<n.length;l++){var k=n[l].balloon;k.setBounds(j,h,j+this.width,m);k.draw();m=k.yPos-3}this.arrangeBalloons2()},compareY:function(d,c){return d.yy<c.yy?1:-1},arrangeBalloons2:function(){var j=this.valueBalloons;j.reverse();for(var h,n,m=0;m<j.length;m++){var l=j[m].balloon;h=l.bottom;var k=l.bottom-l.yPos;0<m&&h-k<n+3&&(l.setBounds(this.x,n+3,this.x+this.width,n+k+3),l.draw());l.set&&l.set.show();n=l.bottom}},showBullets:function(){AmCharts.removeSet(this.allBullets);for(var j=this.chart.graphs,h=0;h<j.length;h++){var o=j[h];if(o.showBalloon&&!o.hidden&&o.balloonText){var n=this.data[this.index].axes[o.valueAxis.id].graphs[o.id],m=n.y;if(!isNaN(m)){var l,k;l=n.x;this.rotate?(k=m,m=l):k=l;o=AmCharts.circle(this.container,this.bulletSize/2,this.chart.getBalloonColor(o,n),o.cursorBulletAlpha);o.translate(k+","+m);this.allBullets.push(o)}}}},destroy:function(){this.clear();this.selection=null;var b=this.categoryBalloon;b&&b.destroy();this.destroyValueBalloons();AmCharts.removeSet(this.set);AmCharts.removeSet(this.allBullets)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var d=this.valueBalloons;if(d){for(var c=0;c<d.length;c++){d[c].balloon.destroy()}}},zoom:function(k,j,q,p){var o=this.chart;this.destroyValueBalloons();this.zooming=!1;var n;this.rotate?this.selectionPosY=n=o.mouseY:this.selectionPosX=n=o.mouseX;this.start=k;this.end=j;this.startTime=q;this.endTime=p;this.zoomed=!0;var m=o.categoryAxis,o=this.rotate;n=this.width;var l=this.height;m.parseDates&&!m.equalSpacing?(k=p-q+m.minDuration(),k=o?l/k:n/k):k=o?l/(j-k):n/(j-k);this.stepWidth=k;this.setPosition()},hideCursor:function(b){void 0==b&&(b=!0);this.set&&this.set.hide();this.categoryBalloon&&this.categoryBalloon.hide();this.destroyValueBalloons();AmCharts.removeSet(this.allBullets);this.previousIndex=NaN;b&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this});this.chart.setMouseCursor("auto")},setPosition:function(e,d){void 0==d&&(d=!0);if("cursor"==this.type){if(this.data&&0<this.data.length){e||(e=this.getMousePosition());if((e!=this.previousMousePosition||!0==this.zoomed||this.oneBalloonOnly)&&!isNaN(e)){var f=this.chart.categoryAxis.xToIndex(e);if(f!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly){this.updateCursor(f,d),this.zoomed=!1}}this.previousMousePosition=e}}else{this.updateCrosshair()}},updateCursor:function(ae,ad){var ac=this.chart,ab=ac.mouseX,aa=ac.mouseY;this.drawingNow&&(AmCharts.removeObject(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.drawStartX,ab],[this.drawStartY,aa],this.cursorColor,1,1));if(this.enabled){void 0==ad&&(ad=!0);this.index=ae;var Z=ac.categoryAxis,Y=this.x,X=this.y,W=ac.dx,U=ac.dy,V=this.width,R=this.height,Q=this.data[ae],S=Q.x[Z.id],P=ac.rotate,N=Z.inside,O=this.stepWidth,M=this.categoryBalloon,I=this.firstTime,C=this.lastTime,A=this.cursorPosition,L=Z.position,K=this.zooming,D=this.panning,B=ac.graphs,J=ac.touchEventsEnabled,u=Z.axisThickness;if(ac.mouseIsOver||K||D||this.forceShow){if(this.forceShow=!1,D){V=this.panClickPos;ac=this.panClickEndTime;K=this.panClickStartTime;Y=this.panClickEnd;X=this.panClickStart;ab=(P?V-aa:V-ab)/O;if(!Z.parseDates||Z.equalSpacing){ab=Math.round(ab)}0!=ab&&(Z.parseDates&&!Z.equalSpacing?(ac+ab>C&&(ab=C-ac),K+ab<I&&(ab=I-K),V={type:"zoomed"},V.start=K+ab,V.end=ac+ab,V.target=this,this.fire("zoomed",V)):Y+ab>=this.data.length||0>X+ab||(V={type:"zoomed"},V.start=X+ab,V.end=Y+ab,V.target=this,this.fire(V.type,V)))}else{"start"==A&&(S-=Z.cellWidth/2);"mouse"==A&&(S=P?aa-2:ab-2);if(P){if(S<X){if(K){S=X}else{this.hideCursor();return}}if(S>R+1+X){if(K){S=R+1+X}else{this.hideCursor();return}}}else{if(S<Y){if(K){S=Y}else{this.hideCursor();return}}if(S>V+Y){if(K){S=V+Y}else{this.hideCursor();return}}}0<this.cursorAlpha&&(I=this.line,C=I.getBBox(),P?I.translate("0,"+Math.round(S-C.y+U)):I.translate(Math.round(S-C.x)+",0"),I.show());this.linePos=P?S+U:S;K&&(P?this.updateSelectionSize(NaN,S):this.updateSelectionSize(S,NaN));I=!0;J&&K&&(I=!1);this.categoryBalloonEnabled&&I?(P?(N&&("right"==L?M.setBounds(Y,X+U,Y+V+W,Y+S+U):M.setBounds(Y,X+U,Y+V+W,Y+S)),"right"==L?N?M.setPosition(Y+V+W,S+U):M.setPosition(Y+V+W+u,S+U):N?M.setPosition(Y,S):M.setPosition(Y-u,S)):"top"==L?N?M.setPosition(S+W,X+U):M.setPosition(S+W,X+U-u+1):N?M.setPosition(S,X+R):M.setPosition(S,X+R+u-1),Z.parseDates?(Z=AmCharts.formatDate(Q.category,this.categoryBalloonDateFormat),-1!=Z.indexOf("fff")&&(Z=AmCharts.formatMilliseconds(Z,Q.category)),M.showBalloon(Z)):M.showBalloon(Q.category)):M.hide();B&&this.bulletsEnabled&&this.showBullets();this.destroyValueBalloons();if(B&&this.valueBalloonsEnabled&&I&&ac.balloon.enabled){this.valueBalloons=Z=[];if(this.oneBalloonOnly){for(var W=Infinity,H,I=0;I<B.length;I++){O=B[I],O.showBalloon&&!O.hidden&&O.balloonText&&(M=Q.axes[O.valueAxis.id].graphs[O.id],C=M.y,isNaN(C)||(P?Math.abs(ab-C)<W&&(W=Math.abs(ab-C),H=O):Math.abs(aa-C)<W&&(W=Math.abs(aa-C),H=O)))}}for(I=0;I<B.length;I++){if(O=B[I],!(this.oneBalloonOnly&&O!=H)&&O.showBalloon&&!O.hidden&&O.balloonText&&(M=Q.axes[O.valueAxis.id].graphs[O.id],C=M.y,!isNaN(C))){U=M.x;S=!0;if(P){if(W=C,U<X||U>X+R){S=!1}}else{if(W=U,U=C,W<Y||W>Y+V){S=!1}}S&&(N=ac.getBalloonColor(O,M),S=new AmCharts.AmBalloon,S.chart=ac,AmCharts.copyProperties(ac.balloon,S),S.setBounds(Y,X,Y+V,X+R),S.pointerOrientation="horizontal",S.changeColor(N),void 0!=O.balloonAlpha&&(S.fillAlpha=O.balloonAlpha),void 0!=O.balloonTextColor&&(S.color=O.balloonTextColor),S.setPosition(W,U),O=ac.formatString(O.balloonText,M,O),""!=O&&S.showBalloon(O),!P&&S.set&&S.set.hide(),Z.push({yy:C,balloon:S}))}}P||this.arrangeBalloons()}ad?(V={type:"changed"},V.index=ae,V.zooming=K,V.position=P?aa:ab,V.target=this,ac.fire("changed",V),this.fire("changed",V),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,ac.updateLegendValues(ae));this.previousIndex=ae}}}else{this.hideCursor()}},enableDrawing:function(b){this.enabled=!b;this.hideCursor();this.rolledOver=!1;this.drawing=b},isZooming:function(b){b&&b!=this.zooming&&this.handleMouseDown("fake");!b&&b!=this.zooming&&this.handleMouseUp()},handleMouseOut:function(){this.enabled&&(this.zooming?this.setPosition():(this.index=void 0,this.fire("changed",{type:"changed",index:void 0,target:this})))},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var f=this.chart,e=f.mouseX,f=f.mouseY;if(this.drawingNow){this.drawingNow=!1;AmCharts.removeObject(this.drawingLine);var j=this.drawStartX,h=this.drawStartY;if(2<Math.abs(j-e)||2<Math.abs(h-f)){j={type:"draw",initialX:j,initialY:h,finalX:e,finalY:f},this.fire(j.type,j)}}this.enabled&&(this.pan?this.rolledOver=!1:this.zoomable&&this.zooming&&("cursor"==this.type?(this.rotate?this.selectionPosY=e=f:this.selectionPosX=e,2>Math.abs(e-this.initialMouse)&&this.fromIndex==this.index||(e={type:"zoomed"},this.index<this.fromIndex?(e.end=this.fromIndex,e.start=this.index):(e.end=this.index,e.start=this.fromIndex),f=this.chart.categoryAxis,f.parseDates&&!f.equalSpacing&&(e.start=this.data[e.start].time,e.end=this.data[e.end].time),AmCharts.removeSet(this.allBullets),this.skipZoomDispatch||(e.target=this,this.fire("zoomed",e)))):3>Math.abs(e-this.initialMouseX)&&3>Math.abs(f-this.initialMouseY)||(f=this.selection.getBBox(),e={type:"zoomed"},e.selectionHeight=f.height,e.selectionWidth=f.width,e.selectionY=f.y-this.y,e.selectionX=f.x-this.x,this.skipZoomDispatch||(e.target=this,this.fire("zoomed",e))),AmCharts.removeObject(this.selection,this.set)),this.panning=this.zooming=this.skipZoomDispatch=!1)},handleMouseDown:function(h){if(this.zoomable||this.pan||this.drawing){var f=this.rotate,l=this.chart,k=l.mouseX,j=l.mouseY;if(k>this.x&&k<this.x+this.width&&j>this.y&&j<this.height+this.y||"fake"==h){this.setPosition(),this.drawing?(this.drawStartY=j,this.drawStartX=k,this.drawingNow=!0):this.pan?(this.zoomable=!1,l.setMouseCursor("move"),this.panning=!0,this.hideCursor(!0),this.panClickPos=f?j:k,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,f?(this.initialMouse=j,this.selectionPosY=this.linePos):(this.initialMouse=k,this.selectionPosX=this.linePos)):(this.initialMouseX=k,this.initialMouseY=j,this.selectionPosX=k,this.selectionPosY=j),this.zooming=!0)}}}});AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.selectedBackgroundAlpha=1;this.scrollDuration=2;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;this.dragIconWidth=11;this.dragIconHeight=18},draw:function(){var k=this;k.destroy();k.interval=setInterval(function(){k.updateScrollbar.call(k)},40);var j=k.chart.container,q=k.rotate,p=k.chart,o=j.set();k.set=o;p.touchEventsEnabled&&(k.updateOnReleaseOnly=!0);var n,m;q?(n=k.scrollbarHeight,m=k.chart.plotAreaHeight):(m=k.scrollbarHeight,n=k.chart.plotAreaWidth);k.width=n;if((k.height=m)&&n){var l=AmCharts.rect(j,n,m,[k.backgroundColor],[k.backgroundAlpha]);o.push(l);l=AmCharts.rect(j,n,m,[0],[0]);o.push(l);k.invisibleBg=l;p.touchEventsEnabled&&l.touchend(function(){k.handleBackgroundClick()});l.click(function(){k.handleBackgroundClick()}).mouseover(function(){k.handleMouseOver()}).mouseout(function(){k.handleMouseOut()});l=AmCharts.rect(j,n,m,[k.selectedBackgroundColor],[k.selectedBackgroundAlpha]);k.selectedBG=l;o.push(l);n=AmCharts.rect(j,n,m,["#000"],[0]);k.dragger=n;o.push(n);p.touchEventsEnabled&&n.touchstart(function(a){k.handleDragStart(a)}).touchend(function(){k.handleDragStop()});n.mousedown(function(a){k.handleDragStart(a)}).mouseup(function(){k.handleDragStop()}).mouseover(function(){k.handleDraggerOver()}).mouseout(function(){k.handleMouseOut()});q?(l=p.pathToImages+"dragIconH.gif",m=k.dragIconWidth,n=k.dragIconHeight):(l=p.pathToImages+"dragIcon.gif",n=k.dragIconWidth,m=k.dragIconHeight);q=j.image(l,0,0,n,m);j=j.image(l,0,0,n,m);k.dragIconLeft=q;o.push(k.dragIconLeft);k.dragIconRight=j;o.push(j);q.mousedown(function(){k.handleLeftIconDragStart()}).mouseup(function(){k.handleLeftIconDragStop()}).mouseover(function(){k.handleIconRollOver()}).mouseout(function(){k.handleIconRollOut()});j.mousedown(function(){k.handleRightIconDragStart()}).mouseup(function(){k.handleRightIconDragStop()}).mouseover(function(){k.handleIconRollOver()}).mouseout(function(){k.handleIconRollOut()});0<p.chartData.length?o.show():o.hide();k.hideResizeGrips&&(q.hide(),j.hide())}o.attr({x:k.x,y:k.y});k.clipDragger(!1);k.updateDragIconPositions()},updateScrollbarSize:function(j,h){var o=this.dragger,n,m,l,k;this.rotate?(n=this.x,m=j,l=this.width,k=h-j,o.attr("height",h-j),o.attr("y",m)):(n=j,m=this.y,l=h-j,k=this.height,o.attr("width",h-j),o.attr("x",n));this.clipAndUpdate(n,m,l,k)},updateScrollbar:function(){var E,D=!1,C,B,A=this.dragger,z=A.getBBox();C=z.x;B=z.y;var y=z.width,z=z.height,x=this.rotate,w=this.chart,u=this.width,v=this.height,s=w.mouseX,r=w.mouseY,t=this.x,q=this.y;E=this.initialMouseCoordinate;w.mouseIsOver&&(this.dragging&&(w=this.initialDragCoordinate,x?(E=w+(r-E),E<q&&(E=q),w=q+v-z,E>w&&(E=w),A.attr({y:E})):(E=w+(s-E),E<t&&(E=t),w=t+u-y,E>w&&(E=w),A.attr({x:E}))),this.resizingRight&&(x?(E=r-B,E+B>v+q&&(E=v-B+q),0>E?(this.resizingRight=!1,D=this.resizingLeft=!0):(0==E&&(E=0.1),A.attr("height",E))):(E=s-C,E+C>u+t&&(E=u-C+t),0>E?(this.resizingRight=!1,D=this.resizingLeft=!0):(0==E&&(E=0.1),A.attr("width",E)))),this.resizingLeft&&(x?(C=B,B=r,B<q&&(B=q),B>v+q&&(B=v+q),E=!0==D?C-B:z+C-B,0>E?(this.resizingRight=!0,this.resizingLeft=!1,A.attr("y",C+z)):(0==E&&(E=0.1),A.attr("y",B),A.attr("height",E))):(B=s,B<t&&(B=t),B>u+t&&(B=u+t),E=!0==D?C-B:y+C-B,0>E?(this.resizingRight=!0,this.resizingLeft=!1,A.attr("x",C+y)):(0==E&&(E=0.1),A.attr("x",B),A.attr("width",E)))),this.clipDragger(!0))},clipDragger:function(j){var h=this.dragger.getBBox(),n=h.x,m=h.y,l=h.width,h=h.height,k=!1;if(this.rotate){if(this.clipY!=m||this.clipH!=h){k=!0}}else{if(this.clipX!=n||this.clipW!=l){k=!0}}k&&(this.clipAndUpdate(n,m,l,h),j&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))},maskGraphs:function(){},clipAndUpdate:function(f,e,j,h){this.clipX=f;this.clipY=e;this.clipW=j;this.clipH=h;this.clipRect=f=f+","+e+","+j+","+h;this.selectedBG.attr({"clip-rect":f});this.updateDragIconPositions();this.maskGraphs(f)},dispatchScrollbarEvent:function(){if(this.skipEvent){this.skipEvent=!1}else{this.chart.hideBalloon();var f=this.dragger.getBBox(),e=f.x-this.x,j=f.y-this.y,h=f.width,f=f.height;this.rotate?(e=j,h=this.height/f):h=this.width/h;h={type:"zoomed",position:e,multiplyer:h};this.fire(h.type,h)}},updateDragIconPositions:function(){var k=this.dragger.getBBox(),j=k.x,q=k.y,p=this.dragIconLeft,o=this.dragIconRight,n,m,l=this.scrollbarHeight;this.rotate?(n=this.dragIconWidth,m=this.dragIconHeight,p.attr({y:Math.round(q-n/2),x:j+(l-m)/2}),o.attr({y:Math.round(q+k.height-n/2),x:j+(l-m)/2})):(n=this.dragIconHeight,m=this.dragIconWidth,p.attr({x:Math.round(j-m/2),y:q+(l-n)/2}),o.attr({x:Math.round(j-m/2+k.width),y:q+(l-n)/2}))},showDragIcons:function(){this.resizeEnabled&&(this.dragIconLeft.show(),this.dragIconRight.show())},hideDragIcons:function(){!this.resizingLeft&&!this.resizingRight&&!this.dragging&&(this.hideResizeGrips&&(this.dragIconLeft.hide(),this.dragIconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(f,e){this.multiplyer=f;var j=this.position=e,h;this.rotate?(j+=this.y,h=j+this.height/f):(j+=this.x,h=j+this.width/f);this.updateScrollbarSize(j,h)},destroy:function(){this.clear();AmCharts.removeSet(this.set)},clear:function(){clearInterval(this.interval)},handleDragStart:function(b){this.dragger.stop();b&&b.preventDefault();this.removeCursors();this.dragging=!0;b=this.dragger.getBBox();this.rotate?(this.initialDragCoordinate=b.y,this.initialMouseCoordinate=this.chart.mouseY):(this.initialDragCoordinate=b.x,this.initialMouseCoordinate=this.chart.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},handleLeftIconDragStart:function(){this.dragger.stop();this.resizingLeft=!0},handleLeftIconDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},handleRightIconDragStart:function(){this.dragger.stop();this.resizingRight=!0},handleRightIconDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},handleIconRollOut:function(){this.removeCursors()},handleIconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},handleBackgroundClick:function(){if(!this.resizingRight&&!this.resizingLeft){this.zooming=!0;var s,r,q=this.scrollDuration,p=this.dragger;s=this.dragger.getBBox();var o=s.height,n=s.width;r=this.chart;var m=this.y,l=this.x,k=this.rotate;k?(s="y",r=r.mouseY-o/2,r=AmCharts.fitToBounds(r,m,m+this.height-o)):(s="x",r=r.mouseX-n/2,r=AmCharts.fitToBounds(r,l,l+this.width-n));this.updateOnReleaseOnly?(this.skipEvent=!1,p.attr(s,r),this.dispatchScrollbarEvent()):k?p.animate({y:r},1000*q,">"):p.animate({x:r},1000*q,">")}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging){this.updateOnRelease(),this.removeCursors()}this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1;this.hideResizeGrips&&(this.dragIconLeft.hide(),this.dragIconRight.hide());this.updateScrollbar()}},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}});AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(){AmCharts.ChartScrollbar.base.construct.call(this);this.graphLineColor="#000000";this.graphLineAlpha=0;this.graphFillColor="#000000";this.graphFillAlpha=0.1;this.selectedGraphLineColor="#000000";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#000000";this.selectedGraphFillAlpha=0.5;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=0.7;this.scrollbarCreated=this.skipEvent=this.autoGridCount=!1},init:function(){var d=this.categoryAxis,c=this.chart;d||(this.categoryAxis=d=new AmCharts.CategoryAxis);d.chart=c;d.id="scrollbar";d.dateFormats=c.categoryAxis.dateFormats;d.axisItemRenderer=AmCharts.RectangularAxisItemRenderer;d.axisRenderer=AmCharts.RectangularAxisRenderer;d.guideFillRenderer=AmCharts.RectangularAxisGuideFillRenderer;d.inside=!0;d.fontSize=this.fontSize;d.tickLength=0;d.axisAlpha=0;this.graph&&(d=this.valueAxis,d||(this.valueAxis=d=new AmCharts.ValueAxis,d.visible=!1,d.scrollbar=!0,d.axisItemRenderer=AmCharts.RectangularAxisItemRenderer,d.axisRenderer=AmCharts.RectangularAxisRenderer,d.guideFillRenderer=AmCharts.RectangularAxisGuideFillRenderer,d.chart=c),c=this.selectedGraph,c||(c=new AmCharts.AmGraph,c.scrollbar=!0,this.selectedGraph=c),c=this.unselectedGraph,c||(c=new AmCharts.AmGraph,c.scrollbar=!0,this.unselectedGraph=c));this.scrollbarCreated=!0},draw:function(){var K=this;AmCharts.ChartScrollbar.base.draw.call(K);K.scrollbarCreated||K.init();var J=K.chart,I=J.chartData,H=K.categoryAxis,G=K.rotate,F=K.x,E=K.y,D=K.width,C=K.height,A=J.categoryAxis;H.setOrientation(!G);H.parseDates=A.parseDates;H.rotate=G;H.equalSpacing=A.equalSpacing;H.minPeriod=A.minPeriod;H.startOnAxis=A.startOnAxis;H.x=F;H.y=E;H.visibleAxisWidth=D;H.visibleAxisHeight=C;H.visibleAxisX=F;H.visibleAxisY=E;H.width=D;H.height=C;H.gridCount=K.gridCount;H.gridColor=K.gridColor;H.gridAlpha=K.gridAlpha;H.color=K.color;H.autoGridCount=K.autoGridCount;H.parseDates&&!H.equalSpacing&&H.timeZoom(I[0].time,I[I.length-1].time);H.zoom(0,I.length-1);if(A=K.graph){var B=K.valueAxis,y=A.valueAxis;B.id=y.id;B.rotate=G;B.setOrientation(G);B.x=F;B.y=E;B.width=D;B.height=C;B.visibleAxisX=F;B.visibleAxisY=E;B.visibleAxisWidth=D;B.visibleAxisHeight=C;B.dataProvider=I;B.reversed=y.reversed;B.logarithmic=y.logarithmic;for(var x=Infinity,z=-Infinity,w=0;w<I.length;w++){var u=I[w].axes[y.id].graphs[A.id].values,v;for(v in u){if("percents"!=v&&"total"!=v){var t=u[v];t<x&&(x=t);t>z&&(z=t)}}}Infinity!=x&&(B.minimum=x);-Infinity!=z&&(B.maximum=z+0.1*(z-x));x==z&&(B.minimum-=1,B.maximum+=1);B.zoom(0,I.length-1);v=K.unselectedGraph;v.id=A.id;v.rotate=G;v.chart=J;v.chartType=J.chartType;v.data=I;v.valueAxis=B;v.chart=A.chart;v.categoryAxis=K.categoryAxis;v.valueField=A.valueField;v.openField=A.openField;v.closeField=A.closeField;v.highField=A.highField;v.lowField=A.lowField;v.lineAlpha=K.graphLineAlpha;v.lineColor=K.graphLineColor;v.fillAlphas=[K.graphFillAlpha];v.fillColors=[K.graphFillColor];v.connect=A.connect;v.hidden=A.hidden;v.width=D;v.height=C;v.x=F;v.y=E;y=K.selectedGraph;y.id=A.id;y.rotate=G;y.chart=J;y.chartType=J.chartType;y.data=I;y.valueAxis=B;y.chart=A.chart;y.categoryAxis=H;y.valueField=A.valueField;y.openField=A.openField;y.closeField=A.closeField;y.highField=A.highField;y.lowField=A.lowField;y.lineAlpha=K.selectedGraphLineAlpha;y.lineColor=K.selectedGraphLineColor;y.fillAlphas=[K.selectedGraphFillAlpha];y.fillColors=[K.selectedGraphFillColor];y.connect=A.connect;y.hidden=A.hidden;y.width=D;y.height=C;y.x=F;y.y=E;J=K.graphType;J||(J=A.type);v.type=J;y.type=J;I=I.length-1;v.zoom(0,I);y.zoom(0,I);I=K.dragger;y.set.insertBefore(I);v.set.insertBefore(I);y.set.click(function(){K.handleBackgroundClick()}).mouseover(function(){K.handleMouseOver()}).mouseout(function(){K.handleMouseOut()});v.set.click(function(){K.handleBackgroundClick()}).mouseover(function(){K.handleMouseOver()}).mouseout(function(){K.handleMouseOut()})}K.dragger.toFront();K.invisibleBg.insertBefore(K.dragger);K.dragIconLeft.toFront();K.dragIconRight.toFront()},timeZoom:function(d,c){this.startTime=d;this.endTime=c;this.timeDifference=c-d;this.skipEvent=!0;this.zoomScrollbar()},zoom:function(d,c){this.start=d;this.end=c;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent){this.skipEvent=!1}else{var j=this.chart.chartData,h,n,m=this.dragger.getBBox();h=m.x;var l=m.y;n=m.width;m=m.height;this.rotate&&(h=l,n=m);l=this.categoryAxis;m=this.stepWidth;if(l.parseDates&&!l.equalSpacing){j=j[0].time;h=this.rotate?h-this.y:h-this.x;var k=l.minDuration(),l=Math.round(h/m)+j,j=this.dragging?l+this.timeDifference:Math.round((h+n)/m)+j-k;l>j&&(l=j);if(l!=this.startTime||j!=this.endTime){this.startTime=l,this.endTime=j,h={type:"zoomed",start:l,end:j,startDate:new Date(l),endDate:new Date(j)},this.fire(h.type,h)}}else{if(l.startOnAxis||(h+=m/2),n-=this.stepWidth/2,m=l.xToIndex(h),h=l.xToIndex(h+n),m!=this.start||this.end!=h){l.startOnAxis&&(this.resizingRight&&m==h&&h++,this.resizingLeft&&m==h&&(0<m?m--:h=1)),this.start=m,this.end=this.dragging?this.start+this.difference:h,h={type:"zoomed",start:this.start,end:this.end},l.parseDates&&(j[this.start]&&(h.startDate=new Date(j[this.start].time)),j[this.end]&&(h.endDate=new Date(j[this.end].time))),this.fire(h.type,h)}}}},zoomScrollbar:function(){var f,e;e=this.chart.chartData;var j=this.categoryAxis,h;j.parseDates&&!j.equalSpacing?(h=j.stepWidth,e=e[0].time,f=h*(this.startTime-e),e=h*(this.endTime-e+j.minDuration()),this.rotate?(f+=this.y,e+=this.y):(f+=this.x,e+=this.x)):(f=e[this.start].x[j.id],e=e[this.end].x[j.id],h=j.stepWidth,j.startOnAxis||(j=h/2,f-=j,e+=j));this.stepWidth=h;this.updateScrollbarSize(f,e)},maskGraphs:function(e){var d=this.selectedGraph;if(d){for(var d=d.set,f=0;f<d.length;f++){d[f].attr({"clip-rect":e})}}},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}});AmCharts.circle=function(k,j,q,p,o,n,m,l){if(void 0==o||0==o){o=1}void 0==n&&(n="#000000");void 0==m&&(m=0);l&&(q="r"+q+"-"+AmCharts.adjustLuminosity(q,-0.6));q={fill:q,stroke:n,"fill-opacity":p,"stroke-width":o,"stroke-opacity":m};return k.circle(0,0,j).attr(q)};AmCharts.text=function(h,f,l,k,j){h=h.text(f,l,k).attr(j);window.opera&&h.translate("0,-2");return h};AmCharts.polygon=function(s,r,q,p,o,n,m,l,k){"object"==typeof o&&(o=o[0]);if(void 0==n||0==n){n=1}void 0==m&&(m="#000000");void 0==l&&(l=0);void 0==k&&(k=270);p={fill:""+AmCharts.generateGradient(p,k),stroke:m,"fill-opacity":o,"stroke-width":n,"stroke-opacity":l};o=AmCharts.ddd;n=["M",Math.round(r[0])+o,Math.round(q[0])+o];for(m=1;m<r.length;m++){n.push("L"),n.push(Math.round(r[m])+o),n.push(Math.round(q[m])+o)}n.push("Z");return s.path(n).attr(p)};AmCharts.rect=function(y,x,w,v,u,t,s,r,q,o){if(void 0==t||0==t){t=1}void 0==s&&(s="#000000");void 0==r&&(r=0);void 0==q&&(q=0);void 0==o&&(o=270);"object"==typeof u&&(u=u[0]);void 0==u&&(u=0);var x=Math.round(x),w=Math.round(w),p=0,m=0;0>x&&(x=Math.abs(x),p=-x);0>w&&(w=Math.abs(w),m=-w);p+=AmCharts.ddd;m+=AmCharts.ddd;(v=AmCharts.generateGradient(v,o))||(v="#FFFFFF");u={fill:""+v,stroke:s,"fill-opacity":u,"stroke-width":t,"stroke-opacity":r};return y.rect(p,m,x,w,q).attr(u)};AmCharts.triangle=function(k,j,q,p,o,n,m,l){if(void 0==n||0==n){n=1}void 0==m&&(m="#000000");void 0==l&&(l=0);p={fill:p,stroke:m,"fill-opacity":o,"stroke-width":n,"stroke-opacity":l};k=k.path(["M",-j/2,j/2,"L",0,-j/2,"L",j/2,j/2,"Z",-j/2,j/2]).attr(p);k.transform("r"+q);return k};AmCharts.line=function(k,j,q,p,o,n,m){var l="";1==m&&(l=". ");1<m&&(l="- ");p={stroke:p,"stroke-dasharray":l,"stroke-opacity":o,"stroke-width":n};o=AmCharts.ddd;n=["M",Math.round(j[0])+o,Math.round(q[0])+o];for(m=1;m<j.length;m++){n.push("L"),n.push(Math.round(j[m])+o),n.push(Math.round(q[m])+o)}return k.path(n).attr(p)};AmCharts.wedge=function(M,L,K,J,I,H,G,F,E,C){var D=G/H*F;-359.99>=I&&(I=-359.99);var A=L+Math.cos(J/180*Math.PI)*F,z=K+Math.sin(-J/180*Math.PI)*D,B=L+Math.cos(J/180*Math.PI)*H,y=K+Math.sin(-J/180*Math.PI)*G,w=L+Math.cos((J+I)/180*Math.PI)*H,x=K+Math.sin((-J-I)/180*Math.PI)*G,L=L+Math.cos((J+I)/180*Math.PI)*F,K=K+Math.sin((-J-I)/180*Math.PI)*D,J=AmCharts.adjustLuminosity(C.fill,-0.2),u={fill:J,"fill-opacity":C["fill-opacity"],stroke:J,"stroke-width":0.000001,"stroke-opacity":0.00001},J=0;180<Math.abs(I)&&(J=1);I=M.set();if(0<E){var t=0<F?M.path(["M",A,z+E,"L",B,y+E,"A",H,G,0,J,1,w,x+E,"L",L,K+E,"A",F,D,0,J,0,A,z+E,"z"]).attr(u):M.path(["M",A,z+E,"L",B,y+E,"A",H,G,0,J,1,w,x+E,"L",L,K+E,"Z"]).attr(u);I.push(t);t=M.path(["M",A,z,"L",A,z+E,"L",B,y+E,"L",B,y,"L",A,z,"z"]).attr(u);E=M.path(["M",w,x,"L",w,x+E,"L",L,K+E,"L",L,K,"L",w,x,"z"]).attr(u);I.push(t);I.push(E)}C.gradient&&(C.fill=null);M=0<F?M.path(["M",A,z,"L",B,y,"A",H,G,0,J,1,w,x,"L",L,K,"A",F,D,0,J,0,A,z,"Z"]).attr(C):M.path(["M",A,z,"L",B,y,"A",H,G,0,J,1,w,x,"L",L,K,"Z"]).attr(C);I.push(M);return I};AmCharts.adjustLuminosity=function(f,e){var j=Raphael.rgb2hsb(f).toString().split(","),h=j[2],h=Number(h.substr(0,h.length-1)),h=h+h*e;1<h&&(h=1);return j[0]+","+j[1]+","+h+")"};AmCharts.putSetToFront=function(d){for(var c=d.length-1;0>=c;c++){d[c].toFront()}};AmCharts.putSetToBack=function(d){for(var c=0;c<d.length-1;c++){d[c].toBack()}};AmCharts.AmPieChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice");AmCharts.AmPieChart.base.construct.call(this);this.colors="#FF0F00,#FF6600,#FF9E01,#FCD202,#F8FF01,#B0DE09,#04D215,#0D8ECF,#0D52D1,#2A0CD0,#8A0CCF,#CD0D74,#754DEB,#DDDDDD,#999999,#333333,#000000,#57032A,#CA9726,#990000,#4B0C25".split(",");this.pieAlpha=1;this.pieBaseColor;this.pieBrightnessStep=30;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.minRadius=10;this.hoverAlpha=1;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startRadius="500%";this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!1;this.pullOutRadius="20%";this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelRadius=30;this.labelTickColor="#000000";this.labelTickAlpha=0.2;this.labelText="[[title]]: [[percents]]%";this.hideLabelsPercent=0;this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.dataProvider;this.urlTarget="_self";this.previousScale=1;this.autoMarginOffset=10},initChart:function(){AmCharts.AmPieChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.legend&&this.legend.setData(this.chartData));this.drawChart()},handleLegendEvent:function(e){var d=e.type;if(e=e.dataItem){var f=e.hidden;switch(d){case"clickMarker":f||this.clickSlice(e);break;case"clickLabel":f||this.clickSlice(e);break;case"rollOverItem":f||this.rollOverSlice(e,!1);break;case"rollOutItem":f||this.rollOutSlice(e);break;case"hideItem":this.hideSlice(e);break;case"showItem":this.showSlice(e)}}},invalidateVisibility:function(){this.recalculatePercents();this.drawChart();var b=this.legend;b&&b.invalidateSize()},drawChart:function(){var M=this;AmCharts.AmPieChart.base.drawChart.call(M);var L=M.chartData;if(L&&0<L.length){var K=M.updateWidth();M.realWidth=K;var J=M.updateHeight();M.realHeight=J;var I=AmCharts.toCoordinate,H=I(M.marginLeft,K),G=I(M.marginRight,K),F=I(M.marginTop,J)+M.getTitleHeight(),E=I(M.marginBottom,J);M.chartDataLabels=[];M.ticks=[];var C,D,A,z=AmCharts.toNumber(M.labelRadius),B=M.measureMaxLabel();if(!M.labelText||!M.labelsEnabled){z=B=0}C=void 0==M.pieX?(K-H-G)/2+H:I(M.pieX,M.realWidth);D=void 0==M.pieY?(J-F-E)/2+F:I(M.pieY,J);A=I(M.radius,K,J);M.pullOutRadiusReal=AmCharts.toCoordinate(M.pullOutRadius,A);A||(K=0<=z?K-H-G-2*B:K-H-G,J=J-F-E,A=Math.min(K,J),J<K&&(A/=1-M.angle/90,A>K&&(A=K)),M.pullOutRadiusReal=AmCharts.toCoordinate(M.pullOutRadius,A),A=0<=z?A-1.8*(z+M.pullOutRadiusReal):A-1.8*M.pullOutRadiusReal,A/=2);A<M.minRadius&&(A=M.minRadius);M.pullOutRadiusReal=I(M.pullOutRadius,A);I=I(M.innerRadius,A);I>=A&&(I=A-1);J=AmCharts.fitToBounds(M.startAngle,0,360);0<M.depth3D&&(J=270<=J?270:90);F=A-A*M.angle/90;for(E=0;E<L.length;E++){if(K=L[E],!0!=K.hidden&&0<K.percents){var y=360*-K.percents/100,B=Math.cos((J+y/2)/180*Math.PI),G=Math.sin((-J-y/2)/180*Math.PI)*(F/A),H={fill:K.color,"fill-opacity":M.startAlpha,stroke:M.outlineColor,"stroke-opacity":M.outlineAlpha,"stroke-width":M.outlineThickness,"stroke-linecap":"round",cursor:K.url?"pointer":""},w=C,x=D;M.chartCreated&&(H["fill-opacity"]=K.alpha);H=AmCharts.wedge(M.container,w,x,J,y,A,F,I,M.depth3D,H);L[E].wedge=H;90>=J&&0<=J||360>=J&&270<J?AmCharts.putSetToFront(H):(270>=J&&180<J||180>=J&&90<J)&&AmCharts.putSetToBack(H);K.ix=B;K.iy=G;K.wedge=H;K.index=E;if(M.labelsEnabled&&M.labelText&&K.percents>=M.hideLabelsPercent){w=J+y/2;0>=w&&(w+=360);var B=C+B*(A+z),G=D+G*(A+z),u,y=0;if(0<=z){var t;90>=w&&0<=w?(t=0,u="start",y=8):360>=w&&270<w?(t=1,u="start",y=8):270>=w&&180<w?(t=2,u="end",y=-8):180>=w&&90<w&&(t=3,u="end",y=-8);K.labelQuarter=t}else{u="middle"}w=M.formatString(M.labelText,K);w=AmCharts.text(M.container,B+1.5*y,G,w,{fill:M.color,"text-anchor":u,"font-family":M.fontFamily,"font-size":M.fontSize});x=setTimeout(function(){M.showLabels.call(M)},1000*M.startDuration);M.timeOuts.push(x);M.touchEventsEnabled&&(H.touchend(function(){handleTouchEnd(M.chartData[this.index])}),H.touchstart(function(){handleTouchStart(M.chartData[this.index])}));H.push(w);K.labelObject=w;M.chartDataLabels[E]=w;w.cornerx=B;w.cornery=G;w.cornerx2=B+y}for(G=0;G<H.length;G++){H[G].index=E}H.hover(function(){M.rollOverSlice(M.chartData[this.index],!0)},function(){M.rollOutSlice(M.chartData[this.index])}).click(function(){M.clickSlice(M.chartData[this.index])});M.set.push(H);0==K.alpha&&H.hide();J-=360*K.percents/100;0>=J&&(J+=360)}}0<z&&M.arrangeLabels();for(E=0;E<M.chartDataLabels.length;E++){M.chartDataLabels[E]&&M.chartDataLabels[E].toFront()}M.pieXReal=C;M.pieYReal=D;M.radiusReal=A;M.innerRadiusReal=I;0<z&&M.drawTicks();M=this;M.chartCreated?M.pullSlices(!0):(x=setTimeout(function(){M.pullSlices.call(M)},1200*M.startDuration),M.timeOuts.push(x));M.chartCreated||M.startSlices();M.bringLabelsToFront();M.chartCreated=!0;M.dispatchDataUpdatedEvent()}M.bgImg&&M.bgImg.toBack();M.background&&M.background.toBack();M.drb()},formatString:function(d,c){d=AmCharts.formatValue(d,c,["value"],this.numberFormatter,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);d=AmCharts.formatValue(d,c,["percents"],this.percentFormatter);d=AmCharts.massReplace(d,{"[[title]]":c.title,"[[description]]":c.description,"<br>":"\n"});return d=AmCharts.cleanFromEmpty(d)},drawTicks:function(){for(var f=0;f<this.chartData.length;f++){if(this.chartDataLabels[f]){var e=this.chartData[f],j=this.chartDataLabels[f],h=j.cornery,j=this.container.path(["M",this.pieXReal+e.ix*this.radiusReal,this.pieYReal+e.iy*this.radiusReal,"L",j.cornerx,h,"L",j.cornerx2,h]).attr({stroke:this.labelTickColor,"stroke-opacity":this.labelTickAlpha,"stroke-width":1,"stroke-linecap":"round"});e.wedge.push(j);this.chartCreated||e.wedge.hide();this.ticks[f]=j}}},arrangeLabels:function(){for(var h=this.chartData,f=h.length,l=this.chartDataLabels,k,j=f-1;0<=j;j--){k=h[j],0==k.labelQuarter&&!k.hidden&&l[j]&&(k=k.index,this.checkOverlapping(k,0,!0,0))}for(j=0;j<f;j++){k=h[j],1==k.labelQuarter&&!k.hidden&&l[j]&&(k=k.index,this.checkOverlapping(k,1,!1,0))}for(j=f-1;0<=j;j--){k=h[j],2==k.labelQuarter&&!k.hidden&&l[j]&&(k=k.index,this.checkOverlapping(k,2,!0,0))}for(j=0;j<f;j++){k=h[j],3==k.labelQuarter&&!k.hidden&&l[j]&&(k=k.index,this.checkOverlapping(k,3,!1,0))}},checkOverlapping:function(s,r,q,p){var o,n,m,l=this.chartData,k=this.chartDataLabels;if(!0==q){for(n=s+1;n<l.length;n++){m=l[n],m.labelQuarter==r&&!m.hidden&&k[n]&&!0==AmCharts.hitTest(k[s].getBBox(),k[n].getBBox())&&(o=!0)}}else{for(n=s-1;0<=n;n--){m=l[n],m.labelQuarter==r&&!m.hidden&&k[n]&&!0==AmCharts.hitTest(k[s].getBBox(),k[n].getBBox())&&(o=!0)}}m=k[s].getBBox();k[s].cornery=m.y+=m.height/2;!0==o&&100>p&&(m=l[s],o=k[s],o.attr({y:o.attr("y")+3*m.iy}),this.checkOverlapping(s,r,q,p+1))},startSlices:function(){for(var f=this,e=500*(f.startDuration/f.chartData.length),j=0;j<f.chartData.length;j++){if(0<f.startDuration&&f.sequencedAnimation){var h=setTimeout(function(){f.startSequenced.call(f)},e*j);f.timeOuts.push(h)}else{f.startSlice(f.chartData[j])}}},pullSlices:function(e){for(var d=this.chartData,f=0;f<d.length;f++){d[f].pulled&&this.pullSlice(d[f],1,e)}},startSequenced:function(){for(var d=this.chartData,c=0;c<d.length;c++){if(!d[c].started){this.startSlice(this.chartData[c]);break}}},startSlice:function(e){e.started=!0;var d=e.wedge;if(d){0<e.alpha&&d.show();var f=AmCharts.toCoordinate(this.startRadius,this.radiusReal);d.translate(e.ix*f+","+e.iy*f);d.animate({"fill-opacity":e.alpha,transform:"t0,0"},1000*this.startDuration,this.startEffect)}},showLabels:function(){for(var e=this.chartData,d=0;d<e.length;d++){if(0<e[d].alpha){var f=this.chartDataLabels[d];f&&f.show();(f=this.ticks[d])&&f.show()}}},showSlice:function(b){isNaN(b)?b.hidden=!1:this.chartData[b].hidden=!1;this.hideBalloon();this.invalidateVisibility()},hideSlice:function(b){isNaN(b)?b.hidden=!0:this.chartData[b].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(j,h){isNaN(j)||(j=this.chartData[j]);clearTimeout(this.hoverInt);this.pullOnHover&&this.pullSlice(j,1);var n=this.innerRadiusReal+(this.radiusReal-this.innerRadiusReal)/2;j.pulled&&(n+=this.pullOutRadiusReal);1>this.hoverAlpha&&j.wedge&&j.wedge.attr({"fill-opacity":this.hoverAlpha});var m=j.ix*n+this.pieXReal,n=j.iy*n+this.pieYReal,l=this.formatString(this.balloonText,j),k=AmCharts.adjustLuminosity(j.color,-0.15);this.showBalloon(l,k,h,m,n);m={type:"rollOverSlice",dataItem:j};this.fire(m.type,m)},rollOutSlice:function(b){isNaN(b)||(b=this.chartData[b]);b.wedge&&b.wedge.attr({"fill-opacity":b.alpha});this.hideBalloon();b={type:"rollOutSlice",dataItem:b};this.fire(b.type,b)},clickSlice:function(e){isNaN(e)||(e=this.chartData[e]);this.hideBalloon();e.pulled?this.pullSlice(e,0):this.pullSlice(e,1);var d=e.url,f=this.urlTarget;d&&("_self"==f||!f?window.location.href=d:(f=document.getElementsByName(f)[0])?f.src=d:window.open(d));e={type:"clickSlice",dataItem:e};this.fire(e.type,e)},pullSlice:function(j,h,n){var m=j.ix,l=j.iy,k=1000*this.pullOutDuration;!0===n&&(k=0);j.wedge&&j.wedge.animate({transform:"t"+h*m*this.pullOutRadiusReal+","+h*l*this.pullOutRadiusReal},k,this.pullOutEffect);1==h?(j.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(j.index),j={type:"pullOutSlice",dataItem:j}):(j.pulled=!1,j={type:"pullInSlice",dataItem:j});this.fire(j.type,j)},pullInAll:function(e){for(var d=this.chartData,f=0;f<this.chartData.length;f++){f!=e&&d[f].pulled&&this.pullSlice(d[f],0)}},pullOutAll:function(){for(var d=this.chartData,c=0;c<d.length;c++){d[c].pulled||this.pullSlice(d[c],1)}},parseData:function(){var k=[];this.chartData=k;var j=this.dataProvider;if(void 0!=j){for(var q=j.length,p=0,o=0;o<q;o++){var n={},m=j[o];n.dataContext=m;n.value=Number(m[this.valueField]);var l=m[this.titleField];l||(l="");n.title=l;n.pulled=AmCharts.toBoolean(m[this.pulledField],!1);(l=m[this.descriptionField])||(l="");n.description=l;n.url=m[this.urlField];n.visibleInLegend=AmCharts.toBoolean(m[this.pulledField],!0);l=m[this.alphaField];n.alpha=void 0!=l?Number(l):this.pieAlpha;m=m[this.colorField];void 0!=m&&(n.color=AmCharts.toColor(m));p+=n.value;n.hidden=!1;k[o]=n}for(o=j=0;o<q;o++){n=k[o],n.percents=100*(n.value/p),n.percents<this.groupPercent&&j++}1<j&&(this.groupValue=0,this.removeSmallSlices(),k.push({title:this.groupedTitle,value:this.groupValue,percents:100*(this.groupValue/p),pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha}));for(o=0;o<k.length;o++){this.pieBaseColor?m=AmCharts.adjustLuminosity(this.pieBaseColor,o*this.pieBrightnessStep/100):(m=this.colors[o],void 0==m&&(m=AmCharts.randomColor())),void 0==k[o].color&&(k[o].color=m)}this.recalculatePercents()}},recalculatePercents:function(){for(var f=this.chartData,e=0,j=0;j<f.length;j++){var h=f[j];!h.hidden&&0<h.value&&(e+=h.value)}for(j=0;j<f.length;j++){h=this.chartData[j],h.percents=!h.hidden&&0<h.value?100*h.value/e:0}},handleTouchStart:function(d){var c=this;AmCharts.AmPieChart.base.handleTouchStart.call(c);d.pulled?(c.rolledOveredSlice=void 0,c.hideBalloon()):(c.rolledOveredSlice=d,c.pullTimeOut=setTimeout(function(){c.padRollOver.call(c)},100))},padRollOver:function(){this.rollOverSlice(this.rolledOveredSlice,!1)},handleTouchEnd:function(b){AmCharts.AmPieChart.base.handleTouchEnd.call(this);b.pulled?this.pullSlice(b,0):this.pullSlice(b,1)},removeSmallSlices:function(){for(var d=this.chartData,c=d.length-1;0<=c;c--){d[c].percents<this.groupPercent&&(this.groupValue+=d[c].value,d.splice(c,1))}},animateAgain:function(){var d=this;d.startSlices();var c=setTimeout(function(){d.pullSlices.call(d)},1200*d.startDuration);d.timeOuts.push(c)},measureMaxLabel:function(){for(var h=this.chartData,f=0,l=0;l<h.length;l++){var k=this.formatString(this.labelText,h[l]),k=AmCharts.text(this.container,0,0,k,{fill:this.color,"font-family":this.fontFamily,"font-size":this.fontSize}),j=k.getBBox().width;j>f&&(f=j);k.remove()}return f}});AmCharts.AmXYChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(){AmCharts.AmXYChart.base.construct.call(this);this.createEvents("zoomed");this.xAxes;this.yAxes;this.scrollbarVertical;this.scrollbarHorizontal;this.maxZoomFactor=20;this.chartType="xy"},initChart:function(){AmCharts.AmXYChart.base.initChart.call(this);this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},createValueAxes:function(){var j=[],h=[];this.xAxes=j;this.yAxes=h;for(var n=this.valueAxes,m=0;m<n.length;m++){var l=n[m],k=l.position;if("top"==k||"bottom"==k){l.rotate=!0}l.setOrientation(l.rotate);k=l.orientation;"vertical"==k&&h.push(l);"horizontal"==k&&j.push(l)}0==h.length&&(l=new AmCharts.ValueAxis,l.rotate=!1,l.setOrientation(!1),n.push(l),h.push(l));0==j.length&&(l=new AmCharts.ValueAxis,l.rotate=!0,l.setOrientation(!0),n.push(l),j.push(l));for(m=0;m<n.length;m++){this.processValueAxis(n[m],m)}j=this.graphs;for(m=0;m<j.length;m++){this.processGraph(j[m],m)}},drawChart:function(){AmCharts.AmXYChart.base.drawChart.call(this);var b=this.chartData;b&&(0<b.length?(this.chartScrollbar&&(this.updateScrollbars(),this.scrollbarHorizontal.draw(),this.scrollbarVertical.draw()),this.zoomChart()):this.cleanChart());this.bringLabelsToFront();this.chartCreated=!0;this.dispatchDataUpdatedEvent()},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarVertical,this.scrollbarHorizontal,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton();this.zoomObjects(this.valueAxes);this.zoomObjects(this.graphs);this.drawTrendLines();this.dispatchAxisZoom();this.updateDepths();this.renderfix()},toggleZoomOutButton:function(){1==this.heightMultiplyer&&1==this.widthMultiplyer?this.hideZoomOutButton():this.showZoomOutButton()},dispatchAxisZoom:function(){for(var j=this.valueAxes,h=0;h<j.length;h++){var n=j[h];if(!isNaN(n.min)&&!isNaN(n.max)){var m,l;"vertical"==n.orientation?(m=n.coordinateToValue(-this.verticalPosition),l=n.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(m=n.coordinateToValue(-this.horizontalPosition),l=n.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth));if(!isNaN(m)&&!isNaN(l)){if(m>l){var k=l;l=m;m=k}n.dispatchZoomEvent(m,l)}}}},zoomObjects:function(f){for(var e=f.length,j=0;j<e;j++){var h=f[j];this.updateObjectSize(h);h.zoom(0,this.chartData.length-1)}},drawTrendLines:function(){var b=this.trendLines;for(i=0;i<b.length;i++){b[i].draw()}},updateData:function(){this.parseData();for(var u=this.chartData,t=u.length-1,s=this.graphs,r=this.dataProvider,q=0;q<s.length;q++){var p=s[q];p.data=u;p.zoom(0,t);var o=p.valueField,n=0;if(o){for(var m=0;m<r.length;m++){var k=r[m][o];k>n&&(n=k)}}p.maxValue=n}if(u=this.chartCursor){u.updateData(),u.type="crosshair",u.valueBalloonsEnabled=!1}},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0;this.heightMultiplyer=this.widthMultiplyer=1;this.zoomChart();this.zoomScrollbars()},updateTrendLinesDepth:function(){var e=this.trendLines;for(i=0;i<e.length;i++){var d=e[i],f=d.set;f&&f.insertBefore(this.mostFrontObj);if(f=d.line){d=d.valueAxis,f.attr({"clip-rect":d.visibleAxisX+","+d.visibleAxisY+","+d.visibleAxisWidth+","+d.visibleAxisHeight})}}},updateDepths:function(){var j=this.container.rect(0,0,10,10);this.mostFrontObj=j;var h=this.chartCursor;h&&h.set.insertBefore(j);for(var h=this.graphs,n=0;n<h.length;n++){var m=h[n];if(m.allBullets){for(var l=0;l<m.allBullets.length;l++){m.allBullets[l].insertBefore(j)}}if(m.positiveObjectsToClip){for(l=0;l<m.positiveObjectsToClip.length;l++){m.setPositiveClipRect(m.positiveObjectsToClip[l])}}var k=m.objectsToAddListeners;if(k){for(l=0;l<k.length;l++){m.addClickListeners(k[l]),m.addHoverListeners(k[l])}}}this.updateTrendLinesDepth();(h=this.zoomOutButtonSet)&&h.insertBefore(j);this.lens&&this.lens.insertBefore(j);j.remove();(j=this.bgImg)&&j.toBack();(j=this.background)&&j.toBack();this.drb()},processValueAxis:function(b){b.chart=this;b.minMaxField="horizontal"==b.orientation?"x":"y";b.minTemp=NaN;b.maxTemp=NaN;this.listenTo(b,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(b){b.xAxis||(b.xAxis=this.xAxes[0]);b.yAxis||(b.yAxis=this.yAxes[0])},parseData:function(){AmCharts.AmXYChart.base.parseData.call(this);this.chartData=[];for(var C=this.dataProvider,B=this.valueAxes,A=this.graphs,z=0;z<C.length;z++){for(var y={axes:{},x:{},y:{}},x=C[z],w=0;w<B.length;w++){var v=B[w].id;y.axes[v]={};y.axes[v].graphs={};for(var u=0;u<A.length;u++){var s=A[u],t=s.id;if(s.xAxis.id==v||s.yAxis.id==v){var q={};q.serialDataItem=y;q.index=z;var p={},r=Number(x[s.valueField]);isNaN(r)||(p.value=r);r=Number(x[s.xField]);isNaN(r)||(p.x=r);r=Number(x[s.yField]);isNaN(r)||(p.y=r);q.values=p;this.processFields(s,q,x);q.serialDataItem=y;q.graph=s;y.axes[v].graphs[t]=q}}}this.chartData[z]=y}},formatString:function(e,d){var f=d.graph.numberFormatter;f||(f=this.numberFormatter);e=AmCharts.formatValue(e,d.values,["value","x","y"],f);return e=AmCharts.AmSerialChart.base.formatString.call(this,e,d)},addChartScrollbar:function(f){AmCharts.callMethod("destroy",[this.chartScrollbar,this.scrollbarHorizontal,this.scrollbarVertical]);if(f){var e=new AmCharts.SimpleChartScrollbar,j=new AmCharts.SimpleChartScrollbar;e.skipEvent=!0;j.skipEvent=!0;e.chart=this;j.chart=this;this.listenTo(e,"zoomed",this.handleVSBZoom);this.listenTo(j,"zoomed",this.handleHSBZoom);var h="backgroundColor,backgroundAlpha,selectedBackgroundColor,selectedBackgroundAlpha,scrollDuration,resizeEnabled,hideResizeGrips,scrollbarHeight,updateOnReleaseOnly".split(",");AmCharts.copyProperties(f,e,h);AmCharts.copyProperties(f,j,h);e.rotate=!0;j.rotate=!1;this.scrollbarHeight=f.scrollbarHeight;this.scrollbarHorizontal=j;this.scrollbarVertical=e;this.chartScrollbar=f}},updateTrendLines:function(){for(var e=this.trendLines,d=0;d<e.length;d++){var f=e[d];f.chart=this;f.valueAxis||(f.valueAxis=this.yAxes[0]);f.valueAxisX||(f.valueAxisX=this.xAxes[0])}},updateMargins:function(){AmCharts.AmXYChart.base.updateMargins.call(this);var b=this.scrollbarVertical;b&&(this.getScrollbarPosition(b,!0,this.yAxes[0].position),this.adjustMargins(b,!0));if(b=this.scrollbarHorizontal){this.getScrollbarPosition(b,!1,this.xAxes[0].position),this.adjustMargins(b,!1)}},updateScrollbars:function(){this.updateChartScrollbar(this.scrollbarVertical,!0);this.updateChartScrollbar(this.scrollbarHorizontal,!1)},zoomScrollbars:function(){var b=this.scrollbarHorizontal;b&&b.relativeZoom(this.widthMultiplyer,-this.horizontalPosition/this.widthMultiplyer);(b=this.scrollbarVertical)&&b.relativeZoom(this.heightMultiplyer,-this.verticalPosition/this.heightMultiplyer)},fitMultiplyer:function(b){b>this.maxZoomFactor&&(b=this.maxZoomFactor);return b},handleHSBZoom:function(e){var d=this.fitMultiplyer(e.multiplyer),e=-e.position*d,f=-(this.plotAreaWidth*d-this.plotAreaWidth);e<f&&(e=f);this.widthMultiplyer=d;this.horizontalPosition=e;this.zoomChart()},handleVSBZoom:function(e){var d=this.fitMultiplyer(e.multiplyer),e=-e.position*d,f=-(this.plotAreaHeight*d-this.plotAreaHeight);e<f&&(e=f);this.heightMultiplyer=d;this.verticalPosition=e;this.zoomChart()},handleCursorZoom:function(e){var d=this.widthMultiplyer*this.plotAreaWidth/e.selectionWidth,f=this.heightMultiplyer*this.plotAreaHeight/e.selectionHeight,d=this.fitMultiplyer(d),f=this.fitMultiplyer(f);this.horizontalPosition=(this.horizontalPosition-e.selectionX)*d/this.widthMultiplyer;this.verticalPosition=(this.verticalPosition-e.selectionY)*f/this.heightMultiplyer;this.widthMultiplyer=d;this.heightMultiplyer=f;this.zoomChart();this.zoomScrollbars()},handleAxisSelfZoom:function(e){if("horizontal"==e.valueAxis.orientation){var d=this.fitMultiplyer(e.multiplyer),e=-e.position/this.widthMultiplyer*d,f=-(this.plotAreaWidth*d-this.plotAreaWidth);e<f&&(e=f);this.horizontalPosition=e;this.widthMultiplyer=d}else{d=this.fitMultiplyer(e.multiplyer),e=-e.position/this.heightMultiplyer*d,f=-(this.plotAreaHeight*d-this.plotAreaHeight),e<f&&(e=f),this.verticalPosition=e,this.heightMultiplyer=d}this.zoomChart();this.zoomScrollbars()},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.scrollbarHorizontal,this.scrollbarVertical]);this.scrollbarVertical=this.scrollbarHorizontal=null},handleReleaseOutside:function(b){AmCharts.AmXYChart.base.handleReleaseOutside.call(this,b);AmCharts.callMethod("handleReleaseOutside",[this.scrollbarHorizontal,this.scrollbarVertical])}});AmCharts.AmStockChart=AmCharts.Class({construct:function(){this.version="2.5.3";this.createEvents("zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated");this.colors="#FF6600,#FCD202,#B0DE09,#0D8ECF,#2A0CD0,#CD0D74,#CC0000,#00CC00,#0000CC,#DDDDDD,#999999,#333333,#990000".split(",");this.firstDayOfWeek=1;this.glueToTheEnd=!1;this.dataSetCounter=-1;this.zoomOutOnDataSetChange=!1;this.panels=[];this.dataSets=[];this.chartCursors=[];this.comparedDataSets=[];this.categoryAxesSettings=new AmCharts.CategoryAxesSettings;this.valueAxesSettings=new AmCharts.ValueAxesSettings;this.panelsSettings=new AmCharts.PanelsSettings;this.chartScrollbarSettings=new AmCharts.ChartScrollbarSettings;this.chartCursorSettings=new AmCharts.ChartCursorSettings;this.stockEventsSettings=new AmCharts.StockEventsSettings;this.legendSettings=new AmCharts.LegendSettings;this.balloon=new AmCharts.AmBalloon;this.previousEndDate=new Date(0);this.previousStartDate=new Date(0);this.dataSetCount=this.graphCount=0},write:function(b){b="object"!=typeof b?document.getElementById(b):b;b.innerHTML="";this.div=b;this.measure();this.createLayout();this.updateDataSets();this.addDataSetSelector();this.addPeriodSelector();this.addPanels();this.addChartScrollbar();this.updatePanels();this.updateData();this.skipDefault||this.setDefaultPeriod()},setDefaultPeriod:function(){var b=this.periodSelector;b&&(this.animationPlayed=!1,b.setDefaultPeriod())},updateDataSets:function(){var e=this.dataSets;!this.mainDataSet&&e&&0<e.length&&(this.mainDataSet=this.dataSets[0]);for(var d=0;d<e.length;d++){var f=e[d];f.id||(this.dataSetCount++,f.id="ds"+this.dataSetCount);void 0==f.color&&(f.color=this.colors.length-1>d?this.colors[d]:AmCharts.randomColor())}},updateEvents:function(){0<this.mainDataSet.stockEvents.length&&AmCharts.parseEvents(this.mainDataSet,this.panels,this.stockEventsSettings,this.firstDayOfWeek,this)},updateData:function(){var f=this.mainDataSet;if(f){var e=this.categoryAxesSettings;-1==AmCharts.getItemIndex(e.minPeriod,e.groupToPeriods)&&e.groupToPeriods.unshift(e.minPeriod);var j=f.dataProvider;if(0<j.length){var h=f.categoryField;this.firstDate=j[0][h];this.lastDate=j[j.length-1][h];this.periodSelector&&this.periodSelector.setRanges(this.firstDate,this.lastDate);f.dataParsed||(AmCharts.parseStockData(f,e.minPeriod,e.groupToPeriods,this.firstDayOfWeek),f.dataParsed=!0);this.updateComparingData();this.updateEvents()}else{this.lastDate=this.firstDate=void 0}this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate&&(AmCharts.getPeriodDuration(e.minPeriod),this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())),this.endDate=this.lastDate,this.updateScrollbar=!0);this.updatePanelsWithNewData()}f={type:"dataUpdated"};this.fire(f.type,f)},updateComparingData:function(){for(var f=this.comparedDataSets,e=this.categoryAxesSettings,j=0;j<f.length;j++){var h=f[j];h.dataParsed||(AmCharts.parseStockData(h,e.minPeriod,e.groupToPeriods,this.firstDayOfWeek),h.dataParsed=!0)}},createLayout:function(){var f=this.div,e,j,h=this.periodSelector;h&&(e=h.position);if(h=this.dataSetSelector){j=h.position}if("left"==e||"left"==j){h=document.createElement("div"),h.style.cssFloat="left",h.style.styleFloat="left",h.style.width="0px",h.style.position="absolute",f.appendChild(h),this.leftContainer=h}if("right"==e||"right"==j){e=document.createElement("div"),e.style.cssFloat="right",e.style.styleFloat="right",e.style.width="0px",f.appendChild(e),this.rightContainer=e}e=document.createElement("div");f.appendChild(e);this.centerContainer=e;f=document.createElement("div");e.appendChild(f);this.panelsContainer=f},addPanels:function(){var j=this.chartScrollbarSettings,h=this.divRealHeight,o=this.panelsSettings.panelSpacing;j.enabled&&(h-=j.height);var n;if((j=this.periodSelector)&&!j.vertical){n=j.div,j=n.offsetHeight,n.clientHeight&&(j=n.clientHeight),h-=j+o}if((j=this.dataSetSelector)&&!j.vertical){n=j.div,j=n.offsetHeight,n.clientHeight&&(j=n.clientHeight),h-=j+o}j=this.panels;this.panelsContainer.style.height=h+"px";this.chartCursors=[];for(var m=n=0;m<j.length;m++){var l=j[m],k=l.percentHeight;isNaN(k)&&(k=100/j.length,l.percentHeight=k);n+=k}for(m=0;m<j.length;m++){l=j[m],l.percentHeight=100*(l.percentHeight/n)}this.panelsHeight=h-o*(j.length-1);for(m=0;m<j.length;m++){this.addStockPanel(j[m],m)}this.panelsAdded=!0},addStockPanel:function(f,e){var j=this.panelsSettings,h=document.createElement("div");0<e&&!this.panels[e-1].showCategoryAxis&&(h.style.marginTop=j.panelSpacing+"px");f.panelBox=h;f.stockChart=this;f.id||(f.id="stockPanel"+e);f.pathToImages=this.pathToImages;h.style.height=f.percentHeight*this.panelsHeight/100+"px";h.style.width="100%";this.panelsContainer.appendChild(h);0<j.backgroundAlpha&&(h.style.backgroundColor=j.backgroundColor);if(h=f.stockLegend){h.container=void 0,h.title=f.title,h.marginLeft=j.marginLeft,h.marginRight=j.marginRight,h.verticalGap=5,AmCharts.copyProperties(this.legendSettings,h),f.addLegend(h)}f.zoomOutText="";f.removeChartCursor();this.addCursor(f)},enableCursors:function(e){for(var d=this.chartCursors,f=0;f<d.length;f++){d[f].enabled=e}},updatePanels:function(){for(var d=this.panels,c=0;c<d.length;c++){this.updatePanel(d[c])}this.mainDataSet&&this.updateGraphs();this.currentPeriod=void 0},updatePanel:function(h){h.seriesIdField="amCategoryIdField";h.dataProvider=[];h.chartData=[];h.graphs=[];var f=h.categoryAxis,l=this.categoryAxesSettings;AmCharts.copyProperties(this.panelsSettings,h);AmCharts.copyProperties(l,f);f.parseDates=!0;h.zoomOutOnDataUpdate=!1;h.showCategoryAxis?"top"==f.position?h.marginTop=l.axisHeight:h.marginBottom=l.axisHeight:(h.categoryAxis.labelsEnabled=!1,h.chartCursor&&(h.chartCursor.categoryBalloonEnabled=!1));var l=h.valueAxes,k=l.length,j;0==k&&(j=new AmCharts.ValueAxis,h.addValueAxis(j));f=new AmCharts.AmBalloon;AmCharts.copyProperties(this.balloon,f);h.balloon=f;l=h.valueAxes;k=l.length;for(f=0;f<k;f++){j=l[f],AmCharts.copyProperties(this.valueAxesSettings,j)}h.write(h.panelBox)},zoom:function(d,c){this.zoomChart(d,c)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var h=this.mainDataSet;if(h){var f=this.panels;this.currentPeriod=void 0;for(var l=0;l<f.length;l++){var k=f[l];k.categoryField=h.categoryField;0==h.dataProvider.length&&(k.dataProvider=[])}if(f=this.scrollbarChart){l=this.categoryAxesSettings;k=l.minPeriod;f.categoryField=h.categoryField;f.dataProvider=0<h.dataProvider.length?h.agregatedDataProviders[k]:[];var j=f.categoryAxis;j.minPeriod=k;j.firstDayOfWeek=this.firstDayOfWeek;j.equalSpacing=l.equalSpacing;f.validateData()}0<h.dataProvider.length&&this.zoomChart(this.startDate,this.endDate)}this.panelDataInvalidated=!1},addChartScrollbar:function(){var h=this.chartScrollbarSettings;if(h.enabled){var f=this.panelsSettings,l=this.categoryAxesSettings,k=new AmCharts.AmSerialChart;k.pathToImages=this.pathToImages;k.autoMargins=!1;this.scrollbarChart=k;k.id="scrollbarChart";k.scrollbarOnly=!0;k.zoomOutText="";k.panEventsEnabled=this.panelsSettings.panEventsEnabled;k.marginLeft=f.marginLeft;k.marginRight=f.marginRight;k.marginTop=0;k.marginBottom=0;f=k.categoryAxis;l.dateFormats&&(f.dateFormats=l.dateFormats);f.labelsEnabled=!1;f.parseDates=!0;if(l=h.graph){var j=new AmCharts.AmGraph;j.valueField=l.valueField;j.periodValue=l.periodValue;j.type=l.type;k.addGraph(j)}l=new AmCharts.ChartScrollbar;k.addChartScrollbar(l);AmCharts.copyProperties(h,l);l.scrollbarHeight=h.height;l.graph=j;this.listenTo(l,"zoomed",this.handleScrollbarZoom);j=document.createElement("div");j.style.height=h.height+"px";h=this.periodSelectorContainer;(l=this.periodSelector)?"bottom"==l.position?this.centerContainer.insertBefore(j,h):this.centerContainer.appendChild(j):this.centerContainer.appendChild(j);k.write(j)}},handleScrollbarZoom:function(e){if(this.skipScrollbarEvent){this.skipScrollbarEvent=!1}else{var d=e.endDate,f={};f.startDate=e.startDate;f.endDate=d;this.updateScrollbar=!1;this.handleZoom(f)}},addPeriodSelector:function(){var u=this.periodSelector;if(u){var t=this.categoryAxesSettings.minPeriod;u.minDuration=AmCharts.getPeriodDuration(t);u.minPeriod=t;u.chart=this;if(t=this.dataSetSelector){var s=t.position,r=this.dataSetContainer}var t=this.panelsSettings.panelSpacing,q=document.createElement("div");this.periodSelectorContainer=q;var p=this.leftContainer,o=this.rightContainer,n=this.centerContainer,m=this.panelsContainer,k=u.width+2*t+"px";switch(u.position){case"left":p.style.width=u.width+"px";p.appendChild(q);n.style.paddingLeft=k;break;case"right":n.style.marginRight=k;o.appendChild(q);o.style.width=u.width+"px";break;case"top":m.style.clear="both";"top"==s?n.insertAfter(q,r):n.insertBefore(q,m);q.style.paddingBottom=t+"px";break;case"bottom":q.style.marginTop=t+"px","bottom"==s?n.insertBefore(q,r):n.appendChild(q)}this.listenTo(u,"changed",this.handlePeriodSelectorZoom);u.write(q)}},addDataSetSelector:function(){var k=this.dataSetSelector;if(k){k.chart=this;k.dataProvider=this.dataSets;var j=k.position,q=this.panelsSettings.panelSpacing,p=document.createElement("div");this.dssContainer=p;var o=this.leftContainer,n=this.rightContainer,m=this.centerContainer,l=this.panelsContainer,q=k.width+2*q+"px";switch(j){case"left":o.style.width=k.width+"px";o.appendChild(p);m.style.paddingLeft=q;break;case"right":m.style.marginRight=q;n.appendChild(p);n.style.width=k.width+"px";break;case"top":l.style.clear="both";m.insertBefore(p,l);break;case"bottom":m.appendChild(p)}k.write(p)}},handlePeriodSelectorZoom:function(d){var c=this.scrollbarChart;c&&(c.updateScrollbar=!0);d.predefinedPeriod&&(this.keepSelectedPeriod=!0);this.zoomChart(d.startDate,d.endDate)},addCursor:function(e){var d=this.chartCursorSettings;if(d.enabled){var f=new AmCharts.ChartCursor;AmCharts.copyProperties(d,f);e.removeChartCursor();e.addChartCursor(f);this.listenTo(f,"changed",this.handleCursorChange);this.listenTo(f,"onHideCursor",this.hideChartCursor);this.listenTo(f,"zoomed",this.handleCursorZoom);this.chartCursors.push(f)}},hideChartCursor:function(){for(var e=this.chartCursors,d=0;d<e.length;d++){var f=e[d];f.hideCursor(!1);(f=f.chart)&&f.updateLegendValues()}},handleCursorZoom:function(h){var f=this.scrollbarChart;f&&(f.updateScrollbar=!0);var f={},l;if(this.categoryAxesSettings.equalSpacing){var k=this.mainDataSet.categoryField,j=this.mainDataSet.agregatedDataProviders[this.currentPeriod];l=new Date(j[h.start][k]);h=new Date(j[h.end][k])}else{l=new Date(h.start),h=new Date(h.end)}f.startDate=l;f.endDate=h;this.handleZoom(f)},handleZoom:function(b){this.zoomChart(b.startDate,b.endDate)},zoomChart:function(I,H){var G=this,F=G.firstDate,E=G.lastDate,D=G.currentPeriod,C=G.categoryAxesSettings,B=C.minPeriod,A=G.panelsSettings,y=G.periodSelector,z=G.panels,w=G.comparedGraphs,v=G.scrollbarChart;if(F&&E){I||(I=F);H||(H=E);if(D){var x=AmCharts.extractPeriod(D);I.getTime()==H.getTime()&&x!=B&&(H=AmCharts.changeDate(H,x.period,x.count))}I.getTime()<F.getTime()&&(I=F);I.getTime()>E.getTime()&&(I=E);H.getTime()<F.getTime()&&(H=F);H.getTime()>E.getTime()&&(H=E);C=AmCharts.getItemIndex(B,C.groupToPeriods);E=D;D=G.choosePeriod(C,I,H);G.currentPeriod=D;C=AmCharts.extractPeriod(D);AmCharts.getPeriodDuration(C.period,C.count);B=AmCharts.getPeriodDuration(B);H.getTime()-I.getTime()<B&&(I=new Date(H.getTime()-B));B=G.firstDayOfWeek;x=new Date(I);x.getTime()==F.getTime()&&(x=AmCharts.resetDateToMin(I,C.period,C.count,B));for(F=0;F<z.length;F++){var u=z[F];if(D!=E){for(var s=0;s<w.length;s++){var t=w[s].graph;t.dataProvider=t.dataSet.agregatedDataProviders[D]}s=u.categoryAxis;s.firstDayOfWeek=B;s.minPeriod=D;u.dataProvider=G.mainDataSet.agregatedDataProviders[D];if(s=u.chartCursor){s.categoryBalloonDateFormat=G.chartCursorSettings.categoryBalloonDateFormat(C.period),u.showCategoryAxis||(s.categoryBalloonEnabled=!1)}u.startTime=x.getTime();u.endTime=H.getTime();u.validateData(!0)}s=!1;u.chartCursor&&u.chartCursor.panning&&(s=!0);s||u.zoomToDates(x,H);0<A.startDuration&&G.animationPlayed?u.startDuration=0:0<A.startDuration&&(u.animateAgain(),u.validateNow(),G.animationPlayed=!0)}A=AmCharts.extractPeriod(D);A=AmCharts.changeDate(new Date(H),A.period,A.count);v&&G.updateScrollbar&&(v.zoomToDates(I,A),G.skipScrollbarEvent=!0,setTimeout(function(){G.resetSkip.call(G)},100));G.updateScrollbar=!0;y&&y.zoom(I,H);G.startDate=I;G.endDate=H;if(I.getTime()!=G.previousStartDate.getTime()||H.getTime()!=G.previousEndDate.getTime()){v={type:"zoomed"},v.startDate=I,v.endDate=H,v.period=D,G.fire(v.type,v),G.previousStartDate=new Date(I),G.previousEndDate=new Date(H)}}!1==G.keepSelectedPeriod&&y&&y.unselectPeriods();G.keepSelectedPeriod=!1;G.animationPlayed=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){this.getSelections();if(0<this.dataSets.length){var I=this.panels;this.comparedGraphs=[];for(var H=0;H<I.length;H++){for(var G=I[H],F=G.valueAxes,E=0;E<F.length;E++){F[E].recalculateToPercents="always"==G.recalculateToPercents?!0:!1}var F=this.mainDataSet,E=this.comparedDataSets,D=G.stockGraphs;G.graphs=[];for(var C=0;C<D.length;C++){var B=D[C];if(!B.title||B.resetTitleOnDataSetChange){B.title=F.title,B.resetTitleOnDataSetChange=!0}B.useDataSetColors&&(B.lineColor=F.color,B.fillColors=void 0,B.bulletColor=void 0);G.addGraph(B);var A=!1;"always"==G.recalculateToPercents&&(A=!0);var y=G.stockLegend,z,w;y&&(z=y.valueTextComparing,w=y.valueTextRegular);if(z){if(B.type=="candlestick"){w="O:[[open]]\nH:[[high]]\nL:[[low]]"}}if(B.comparable){var v=E.length;0<v&&"whenComparing"==G.recalculateToPercents&&(B.valueAxis.recalculateToPercents=!0);y&&B.valueAxis&&!0==B.valueAxis.recalculateToPercents&&(A=!0);for(var x=0;x<v;x++){var u=E[x],s=B.comparedGraphs[u.id];s||(s=new AmCharts.AmGraph,s.id="comparedGraph"+x+"_"+u.id);s.periodValue=B.periodValue;s.dataSet=u;B.comparedGraphs[u.id]=s;s.seriesIdField="amCategoryIdField";var t=B.compareField;t||(t=B.valueField);s.valueField=t;s.title=u.title;s.lineColor=u.color;B.compareGraphType&&(s.type=B.compareGraphType);t=B.compareGraphLineThickness;isNaN(t)||(s.lineThickness=t);t=B.compareGraphDashLength;isNaN(t)||(s.dashLength=t);t=B.compareGraphLineAlpha;isNaN(t)||(s.lineAlpha=t);t=B.compareGraphCornerRadiusTop;isNaN(t)||(s.cornerRadiusTop=t);t=B.compareGraphCornerRadiusBottom;isNaN(t)||(s.cornerRadiusBottom=t);t=B.compareGraphBalloonColor;isNaN(t)||(s.balloonColor=t);if(t=B.compareGraphFillColors){s.fillColors=t}if(t=B.compareGraphNegativeFillColors){s.negativeFillColors=t}if(t=B.compareGraphFillAlphas){s.fillAlphas=t}if(t=B.compareGraphNegativeFillAlphas){s.fillAlphas=t}if(t=B.compareGraphNegativeFillAlphas){s.negativeFillAlphas=t}if(t=B.compareGraphBullet){s.bullet=t}if(t=B.compareGraphBalloonText){s.balloonText=t}t=B.compareGraphBulletSize;isNaN(t)||(s.bulletSize=t);s.visibleInLegend=B.compareGraphVisibleInLegend;s.valueAxis=B.valueAxis;y&&(A&&z?s.legendValueText=z:w&&(s.legendValueText=w));G.addGraph(s);this.comparedGraphs.push({graph:s,dataSet:u})}}y&&(A&&z?B.legendValueText=z:w&&(B.legendValueText=w))}}}},choosePeriod:function(s,r,q){var p=this.categoryAxesSettings,o=p.groupToPeriods,n=o[s],o=o[s+1],m=AmCharts.extractPeriod(n),m=AmCharts.getPeriodDuration(m.period,m.count),l=r.getTime(),k=q.getTime(),p=p.maxSeries;return(k-l)/m>p&&0<p&&o?this.choosePeriod(s+1,r,q):n},handleCursorChange:function(j){for(var h=j.target,n=j.position,j=j.zooming,m=this.chartCursors,l=0;l<m.length;l++){var k=m[l];k!=h&&n&&(k.isZooming(j),k.previousMousePosition=NaN,k.forceShow=!0,k.setPosition(n,!1))}},getSelections:function(){for(var f=[],e=this.dataSets,j=0;j<e.length;j++){var h=e[j];h.compared&&f.push(h)}this.comparedDataSets=f;e=this.panels;for(j=0;j<e.length;j++){h=e[j],"never"!=h.recalculateToPercents&&0<f.length?h.hideDrawingIcons(!0):h.drawingIconsEnabled&&h.hideDrawingIcons(!1)}},addPanel:function(b){this.panels.push(b)},addPanelAt:function(d,c){this.panels.splice(c,0,d)},removePanel:function(f){for(var e=this.panels,j=e.length-1;0<=j;j--){if(e[j]==f){var h={type:"panelRemoved",panel:f};this.fire(h.type,h);e.splice(j,1);f.destroy()}}},validateData:function(){this.resetDataParsed();this.updateDataSets();this.mainDataSet.compared=!1;this.updateGraphs();this.updateData();var b=this.dataSetSelector;b&&b.write(b.div)},resetDataParsed:function(){for(var d=this.dataSets,c=0;c<d.length;c++){d[c].dataParsed=!1}},validateNow:function(){this.skipDefault=!0;this.write(this.div)},destroy:function(){for(var d=this.panels,c=0;c<d.length;c++){d[c].clear()}},hideStockEvents:function(){this.showHideEvents(!1)},showStockEvents:function(){this.showHideEvents(!0)},showHideEvents:function(j){for(var h=this.panels,n=0;n<h.length;n++){for(var m=h[n].graphs,l=0;l<m.length;l++){var k=m[l];!0==j?k.showBullets():k.hideBullets()}}},measure:function(){var e=this.div,d=e.offsetWidth,f=e.offsetHeight;e.clientHeight&&(d=e.clientWidth,f=e.clientHeight);this.divRealWidth=d;this.divRealHeight=f}});AmCharts.StockEvent=AmCharts.Class({construct:function(){}});AmCharts.DataSet=AmCharts.Class({construct:function(){this.fieldMappings=[];this.dataProvider=[];this.agregatedDataProviders=[];this.stockEvents=[];this.compared=!1;this.showInCompare=this.showInSelect=!0}});AmCharts.PeriodSelector=AmCharts.Class({construct:function(){this.createEvents("changed");this.inputFieldsEnabled=!0;this.position="bottom";this.width=180;this.fromText="From: ";this.toText="to: ";this.periodsText="Zoom: ";this.periods=[];this.inputFieldWidth=100;this.dateFormat="DD-MM-YYYY"},zoom:function(d,c){this.inputFieldsEnabled&&(this.startDateField.value=AmCharts.formatDate(d,this.dateFormat),this.endDateField.value=AmCharts.formatDate(c,this.dateFormat))},write:function(j){var h=this;h.div=j;j.innerHTML="";var o=h.position,o="top"==o||"bottom"==o?!1:!0;h.vertical=o;if(h.inputFieldsEnabled){var n=document.createElement("div");j.appendChild(n);var m=document.createTextNode(h.fromText);n.appendChild(m);o?AmCharts.addBr(n):(n.style.styleFloat="left",n.style.display="inline");var l=document.createElement("input");l.style.textAlign="center";AmCharts.isNN&&l.addEventListener("keypress",function(b){h.handleCalendarChange.call(h,b)},!0);AmCharts.isIE&&l.attachEvent("onkeypress",function(b){h.handleCalendarChange.call(h,b)});n.appendChild(l);h.startDateField=l;if(o){m=h.width-6+"px",AmCharts.addBr(n)}else{var m=h.inputFieldWidth+"px",k=document.createTextNode(" ");n.appendChild(k)}l.style.width=m;l=document.createTextNode(h.toText);n.appendChild(l);o&&AmCharts.addBr(n);l=document.createElement("input");l.style.textAlign="center";AmCharts.isNN&&l.addEventListener("keypress",function(b){h.handleCalendarChange.call(h,b)},!0);AmCharts.isIE&&l.attachEvent("onkeypress",function(b){h.handleCalendarChange.call(h,b)});n.appendChild(l);h.endDateField=l;o&&AmCharts.addBr(n);l.style.width=m}n=h.periods;if(0<n.length){m=document.createElement("div");o||(m.style.cssFloat="right",m.style.styleFloat="right",m.style.display="inline");j.appendChild(m);o&&AmCharts.addBr(m);j=document.createTextNode(h.periodsText);m.appendChild(j);for(j=0;j<n.length;j++){o&&AmCharts.addBr(m),l=n[j],k=document.createElement("input"),k.type="button",k.value=l.label,k.period=l.period,k.count=l.count,k.className="amChartsButton",o&&(k.style.width=h.width-1+"px"),m.appendChild(k),AmCharts.isNN&&k.addEventListener("click",function(b){h.handlePeriodChange.call(h,b)},!0),AmCharts.isIE&&k.attachEvent("onclick",function(b){h.handlePeriodChange.call(h,b)}),l.button=k}}},unselectPeriods:function(){for(var d=this.periods,c=0;c<d.length;c++){d[c].button.className="amChartsButton"}},handleCalendarChange:function(e){if(13==e.keyCode){var d=this.dateFormat,e=AmCharts.stringToDate(this.startDateField.value,d),d=AmCharts.stringToDate(this.endDateField.value,d);if(e&&d){var f={type:"changed"};f.startDate=e;f.endDate=d;this.fire(f.type,f)}}},handlePeriodChange:function(b){this.selectPeriodButton(b.srcElement?b.srcElement:b.target)},setRanges:function(d,c){this.firstDate=d;this.lastDate=c},selectPeriodButton:function(f){this.unselectPeriods();f.className="amChartsButtonSelected";var e=f.count,f=f.period,j;"MAX"==f?(j=this.firstDate,e=this.lastDate):"YTD"==f?(j=new Date,j.setMonth(0,1),j.setHours(0,0,0,0),0==e&&j.setDate(j.getDate()-1),e=this.lastDate):(e=AmCharts.getPeriodDuration(f,e),this.selectFromStart?(j=this.firstDate,e=new Date(this.firstDate.getTime()+e)):(j=new Date(this.lastDate.getTime()-e),e=this.lastDate));var h={type:"changed"};h.startDate=j;h.endDate=e;h.predefinedPeriod=f;this.fire(h.type,h)},setDefaultPeriod:function(){for(var e=this.periods,d=0;d<e.length;d++){var f=e[d];f.selected&&this.selectPeriodButton(f.button)}}});AmCharts.StockGraph=AmCharts.Class({inherits:AmCharts.AmGraph,construct:function(){AmCharts.StockGraph.base.construct.call(this);this.useDataSetColors=!0;this.periodValue="Close";this.compareGraphType="line";this.compareGraphVisibleInLegend=!0;this.comparedGraphs={};this.comparable=this.resetTitleOnDataSetChange=!1;this.comparedGraphs={}}});AmCharts.StockPanel=AmCharts.Class({inherits:AmCharts.AmSerialChart,construct:function(){AmCharts.StockPanel.base.construct.call(this);this.showCategoryAxis=!0;this.recalculateToPercents="whenComparing";this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0;this.trendLineAlpha=1;this.trendLineColor="#00CC00";this.trendLineColorHover="#CC0000";this.trendLineThickness=2;this.trendLineDashLength=0;this.stockGraphs=[];this.drawingIconsEnabled=!1;this.iconSize=18;this.autoMargins=this.allowTurningOff=this.eraseAll=!1},initChart:function(b){AmCharts.StockPanel.base.initChart.call(this,b);this.drawingIconsEnabled&&this.createDrawIcons();if(b=this.chartCursor){this.removeListener(b,"draw",this.handleDraw),this.listenTo(b,"draw",this.handleDraw)}},addStockGraph:function(b){this.stockGraphs.push(b);return b},removeStockGraph:function(e){for(var d=this.stockGraphs,f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},createDrawIcons:function(){var t=this,s=t.iconSize,r=t.container,q=t.pathToImages,p=t.realWidth-2*s-1,o=r.image(q+"pencilIcon.gif",0,0,s,s);t.pencilButton=o;o.mouseup(function(){t.handlePencilClick()}).mouseover(function(){t.handlePencilOver()});var n=r.image(q+"pencilIconH.gif",0,0,s,s);t.pencilButtonPushed=n;t.drawingEnabled||n.hide();n.mouseup(function(){t.handlePencilClick()}).mouseout(function(){t.handlePencilOut()});var m=r.image(q+"eraserIcon.gif",s+1,0,s,s);t.eraserButton=m;m.mouseup(function(){t.handleEraserClick()}).mouseover(function(){t.handleEraserOver()});s=r.image(q+"eraserIconH.gif",s+1,0,s,s);t.eraserButtonPushed=s;t.erasingEnabled||s.hide();s.mouseup(function(){t.handleEraserClick()}).mouseout(function(){t.handleEraserOut()});var l=r.image(q+"fiboIcon.gif",0,t.iconSize,t.iconSize,t.iconSize);t.fiboButton=l;l.mouseup(function(){t.handleFiboClick()}).mouseover(function(){t.handleFiboOver()});var k=r.image(q+"fiboIconH.gif",0,t.iconSize,t.iconSize,t.iconSize);t.fiboButtonPushed=k;t.fiboEnabled||k.hide();k.mouseup(function(){t.handleFiboClick()}).mouseout(function(){t.handleFiboOut()});r=r.set(o,n,m,s,l,k);if(!this.drawFibo){l.hide()}r.translate(p,0);this.hideIcons&&r.hide()},handlePencilClick:function(){var c=this.legendDiv;if(!this.drawingEnabled){c.style.left="-300px"}else{c.style.left="0px"}this.disableFibo(!b);this.fiboButtonPushed.hide();var b=!this.drawingEnabled;this.disableDrawing(!b);this.erasingEnabled=!1;this.eraserButtonPushed.hide();b?this.pencilButtonPushed.show():(this.pencilButtonPushed.hide(),this.setMouseCursor("auto"))},disableDrawing:function(d){this.drawingEnabled=!d;var c=this.chartCursor;this.stockChart.enableCursors(d);c&&c.enableDrawing(!d)},handleEraserClick:function(){var h=this.legendDiv;h.style.left="0px";this.disableFibo(!0);this.disableDrawing(!0);this.pencilButtonPushed.hide();if(this.eraseAll){for(var f=this.trendLines,e=f.length-1;0<=e;e--){var j=f[e];j.isProtected||this.removeTrendLine(j)}this.validateNow()}else{(this.erasingEnabled=f=!this.erasingEnabled)?(this.eraserButtonPushed.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(this.eraserButtonPushed.hide(),this.setTrendColorHover())}},setTrendColorHover:function(f){for(var e=this.trendLines,j=e.length-1;0<=j;j--){var h=e[j];h.isProtected||(h.rollOverColor=f)}},handlePencilOver:function(){this.pencilButtonPushed.show()},handlePencilOut:function(){this.drawingEnabled||this.pencilButtonPushed.hide()},handleEraserOver:function(){this.eraserButtonPushed.show()},handleEraserOut:function(){this.erasingEnabled||this.eraserButtonPushed.hide()},handleDraw:function(q){var p=this.drawOnAxis;p||(p=this.valueAxes[0]);var o=this.categoryAxis,m=q.initialX,l=q.finalX,j=q.initialY,q=q.finalY;if(!this.fiboEnabled){g=new AmCharts.TrendLine;g.initialDate=o.coordinateToDate(m);g.finalDate=o.coordinateToDate(l);g.initialValue=p.coordinateToValue(j);g.finalValue=p.coordinateToValue(q);g.lineAlpha=this.trendLineAlpha;g.lineColor=this.trendLineColor;g.lineThickness=this.trendLineThickness;g.dashLength=this.trendLineDashLength;g.valueAxis=p;g.categoryAxis=o;this.addTrendLine(g)}else{var k=new Array(0,23.6,38.2,50,61.8,78.6,86,100,127,138.2,161.8,200,261.8,423.6);for(var h=0;h<k.length;h++){var r=j-((j-q)*(k[h]/100));g=new AmCharts.TrendLine;g.initialDate=o.coordinateToDate(m);g.finalDate=o.coordinateToDate(l+10000);g.initialValue=p.coordinateToValue(r);g.finalValue=p.coordinateToValue(r);g.lineAlpha=this.trendLineAlpha;g.lineColor=this.trendLineColor;g.lineThickness=this.trendLineThickness;g.dashLength=5;g.valueAxis=p;g.categoryAxis=o;this.addTrendLine(g)}this.validateNow();var n=Array();for(var h=0;h<k.length;h++){n.push(AmCharts.text(this.container,m,j-((j-q)*(k[h]/100))-5,k[h]+"% ("+p.coordinateToValue(j-((j-q)*(k[h]/100))).toFixed(2)+")",{fill:g.lineColor,"font-family":"Verdana","font-size":this.fontSize}))}for(var h=0;h<k.length;h++){q.push(n[h])}this.pencilButtonPushed.hide()}this.listenTo(g,"click",this.handleTrendClick);this.validateNow()},hideDrawingIcons:function(b){(this.hideIcons=b)&&this.disableDrawing(b)},handleTrendClick:function(b){b=b.trendLine;!this.eraseAll&&!b.isProtected&&this.removeTrendLine(b);this.validateNow()},disableFibo:function(d){this.fiboEnabled=!d;var c=this.chartCursor;this.stockChart.enableCursors(d);c&&c.enableDrawing(!d)},handleFiboClick:function(){var c=this.legendDiv;if(!this.fiboEnabled){c.style.left="-300px"}else{c.style.left="0px"}var b=!this.fiboEnabled;this.disableFibo(!b);this.erasingEnabled=!1;this.pencilButtonPushed.hide();this.eraserButtonPushed.hide();b?this.fiboButtonPushed.show():(this.fiboButtonPushed.hide(),this.setMouseCursor("auto"))},handleFiboOver:function(){this.fiboButtonPushed.show()},handleFiboOut:function(){this.fiboEnabled||this.fiboButtonPushed.hide()}});AmCharts.CategoryAxesSettings=AmCharts.Class({construct:function(){this.minPeriod="DD";this.equalSpacing=!1;this.axisHeight=28;this.tickLength=this.axisAlpha=0;this.gridCount=10;this.maxSeries=150;this.groupToPeriods="ss,10ss,30ss,mm,10mm,30mm,hh,DD,WW,MM,YYYY".split(",");this.autoGridCount=!0}});AmCharts.ChartCursorSettings=AmCharts.Class({construct:function(){this.enabled=!0;this.bulletsEnabled=this.valueBalloonsEnabled=!1;this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}]},categoryBalloonDateFormat:function(f){for(var e=this.categoryBalloonDateFormats,j,h=0;h<e.length;h++){e[h].period==f&&(j=e[h].format)}return j}});AmCharts.ChartScrollbarSettings=AmCharts.Class({construct:function(){this.height=40;this.enabled=!0;this.color="#FFFFFF";this.updateOnReleaseOnly=this.autoGridCount=!0;this.hideResizeGrips=!1}});AmCharts.LegendSettings=AmCharts.Class({construct:function(){this.marginBottom=this.marginTop=0;this.usePositiveNegativeOnPercentsOnly=!0;this.positiveValueColor="#00CC00";this.negativeValueColor="#CC0000";this.equalWidths=this.textClickEnabled=!1}});AmCharts.PanelsSettings=AmCharts.Class({construct:function(){this.marginTop=this.marginRight=this.marginLeft=0;this.marginBottom=1;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.panelSpacing=8}});AmCharts.StockEventsSettings=AmCharts.Class({construct:function(){this.type="sign";this.backgroundAlpha=1;this.backgroundColor="#DADADA";this.borderAlpha=1;this.borderColor="#888888";this.rollOverColor="#CC0000"}});AmCharts.ValueAxesSettings=AmCharts.Class({construct:function(){this.tickLength=0;this.showFirstLabel=this.autoGridCount=this.inside=!0;this.showLastLabel=!1;this.axisAlpha=0}});AmCharts.getItemIndex=function(f,e){for(var j=-1,h=0;h<e.length;h++){f==e[h]&&(j=h)}return j};AmCharts.addBr=function(b){b.appendChild(document.createElement("br"))};AmCharts.stringToDate=function(u,t){var s={},r=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],q=!0,p=t.indexOf("AA");-1!=p&&(u.substr(p,2),"pm"==u.toLowerCase&&(q=!1));for(var p=t,o=0;o<r.length;o++){var n=r[o].pattern,m=r[o].period;s[m]=0;"date"==m&&1==s[m]}for(o=0;o<r.length;o++){if(n=r[o].pattern,m=r[o].period,-1!=t.indexOf(n)){var k=AmCharts.getFromDateString(n,u,p),t=t.replace(n,"");if("KK"==n||"K"==n||"LL"==n||"L"==n){q||(k+=12)}s[m]=k}}return new Date(s.year,s.month,s.date,s.hours,s.minutes,s.seconds,s.milliseconds)};AmCharts.getFromDateString=function(e,d,f){f=f.indexOf(e);d=d.substr(f,e.length);"0"==d.charAt(0)&&(d=d.substr(1,d.length-1));d=Number(d);isNaN(d)&&(d=0);-1!=e.indexOf("M")&&d--;return d};AmCharts.changeDate=function(j,h,n,m,l){var k=-1;void 0==m&&(m=!0);void 0==l&&(l=!1);!0==m&&(k=1);switch(h){case"YYYY":j.setFullYear(j.getFullYear()+n*k);!m&&!l&&j.setDate(j.getDate()+1);break;case"MM":j.setMonth(j.getMonth()+n*k);!m&&!l&&j.setDate(j.getDate()+1);break;case"DD":j.setDate(j.getDate()+n*k);break;case"WW":j.setDate(j.getDate()+7*n*k+1);break;case"hh":j.setHours(j.getHours()+n*k);break;case"mm":j.setMinutes(j.getMinutes()+n*k);break;case"ss":j.setSeconds(j.getSeconds()+n*k);break;case"fff":j.setMilliseconds(j.getMilliseconds()+n*k)}return j};AmCharts.parseStockData=function(Y,X,W,V){var U={},T=Y.dataProvider,S=Y.categoryField;if(S){var X=AmCharts.getItemIndex(X,W),R=W.length,Q,O=T.length,P,M={};for(Q=X;Q<R;Q++){P=W[Q],U[P]=[]}var L={},N=Y.fieldMappings,K=N.length;for(Q=0;Q<O;Q++){var I=T[Q],J=new Date(I[S]),H=J.getTime(),D={};for(P=0;P<K;P++){D[N[P].toField]=I[N[P].fromField]}for(var B=X;B<R;B++){P=W[B];var u=AmCharts.extractPeriod(P),G=u.period,u=u.count;if(B==X||H>=M[P]||!M[P]){L[P]={};L[P][S]=new Date(J);L[P].amCategoryIdField=AmCharts.resetDateToMin(J,G,u,V);for(var F=0;F<K;F++){var C=N[F].toField;AmCharts.agregateDataObject(L[P],C,D[C])}U[P].push(L[P]);B>X&&(F=new Date(J),F=AmCharts.changeDate(F,G,u,!0),F=AmCharts.resetDateToMin(F,G,u,V),M[P]=F.getTime());if(B==X){for(var A in I){L[P][A]=I[A]}}}else{for(G=0;G<K;G++){u=N[G].toField,AmCharts.agregateDataObject(L[P],u,D[u])}}}}}Y.agregatedDataProviders=U};AmCharts.agregateDataObject=function(e,d,f){isNaN(f)||(isNaN(e[d+"Open"])&&(e[d+"Open"]=f),e[d+"Sum"]=isNaN(e[d+"Sum"])?f:e[d+"Sum"]+f,isNaN(e[d+"Low"])?e[d+"Low"]=f:f<e[d+"Low"]&&(e[d+"Low"]=f),isNaN(e[d+"High"])?e[d+"High"]=f:f>e[d+"High"]&&(e[d+"High"]=f),isNaN(f)||(e[d+"Close"]=f),isNaN(e[d+"Count"])&&(e[d+"Count"]=0),e[d+"Count"]++,e[d+"Average"]=e[d+"Sum"]/e[d+"Count"])};AmCharts.parseEvents=function(aa,Z,Y,X,W){var V=aa.stockEvents,U=aa.agregatedDataProviders,T=Z.length,S,Q,R,O,N,P,M;for(S=0;S<T;S++){P=Z[S];N=P.graphs;R=N.length;for(Q=0;Q<R;Q++){O=N[Q],O.customBulletField="amCustomBullet"+O.id+"_"+P.id,O.bulletConfigField="amCustomBulletConfig"+O.id+"_"+P.id}}for(var K in U){for(var L=U[K],J=AmCharts.extractPeriod(K),D=L.length,B=0;B<D;B++){var u=L[B];S=u[aa.categoryField];var I=S.getTime();Q=J.period;R=J.count;var H=AmCharts.resetDateToMin(AmCharts.changeDate(new Date(S),J.period,J.count),Q,R,X).getTime();for(S=0;S<T;S++){P=Z[S];N=P.graphs;R=N.length;for(Q=0;Q<R;Q++){O=N[Q];var C={};C.eventDispatcher=W;C.eventObjects=[];C.letters=[];C.descriptions=[];C.shapes=[];C.backgroundColors=[];C.backgroundAlphas=[];C.borderColors=[];C.borderAlphas=[];C.colors=[];C.rollOverColors=[];C.showOnAxis=[];for(M=0;M<V.length;M++){var A=V[M],G=A.date.getTime();O==A.graph&&G>=I&&G<H&&(C.eventObjects.push(A),C.letters.push(A.text),C.descriptions.push(A.description),A.type?C.shapes.push(A.type):C.shapes.push(Y.type),void 0!=A.backgroundColor?C.backgroundColors.push(A.backgroundColor):C.backgroundColors.push(Y.backgroundColor),isNaN(A.backgroundAlpha)?C.backgroundAlphas.push(Y.backgroundAlpha):C.backgroundAlphas.push(A.backgroundAlpha),isNaN(A.borderAlpha)?C.borderAlphas.push(Y.borderAlpha):C.borderAlphas.push(A.borderAlpha),void 0!=A.borderColor?C.borderColors.push(A.borderColor):C.borderColors.push(Y.borderColor),void 0!=A.rollOverColor?C.rollOverColors.push(A.rollOverColor):C.rollOverColors.push(Y.rollOverColor),C.colors.push(A.color),!A.panel&&A.graph&&(A.panel=A.graph.chart),C.showOnAxis.push(A.showOnAxis),C.date=new Date(A.date))}0<C.shapes.length&&(M="amCustomBullet"+O.id+"_"+P.id,O="amCustomBulletConfig"+O.id+"_"+P.id,u[M]=AmCharts.StackedBullet,u[O]=C)}}}}};AmCharts.StockLegend=AmCharts.Class({inherits:AmCharts.AmLegend,construct:function(){AmCharts.StockLegend.base.construct.call(this);this.valueTextComparing="[[percents.value]]%";this.valueTextRegular="[[value]]"},drawLegend:function(){var f=this;AmCharts.StockLegend.base.drawLegend.call(f);var e=f.chart;if(e.allowTurningOff){var j=f.container,h=j.image(e.pathToImages+"xIcon.gif",300-17,3,17,17),e=j.image(e.pathToImages+"xIconH.gif",300-17,3,17,17);e.hide();f.xButtonHover=e;h.mouseup(function(){f.handleXClick()}).mouseover(function(){f.handleXOver()});e.mouseup(function(){f.handleXClick()}).mouseout(function(){f.handleXOut()})}},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var d=this.chart,c=d.stockChart;c.removePanel(d);c.validateNow()}});AmCharts.DataSetSelector=AmCharts.Class({construct:function(){this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared");this.position="left";this.selectText="Select:";this.comboBoxSelectText="Select...";this.compareText="Compare to:";this.width=180;this.dataProvider=[];this.listHeight=150;this.listCheckBoxSize=14;this.rollOverBackgroundColor="#b2e1ff";this.selectedBackgroundColor="#7fceff"},write:function(y){var x=this;x.div=y;y.innerHTML="";var w=x.position,v;v="top"==w||"bottom"==w?!1:!0;x.vertical=v;var u;v&&(u=x.width+"px");w=x.dataProvider;if(1<x.countDataSets("showInSelect")){var t=document.createTextNode(x.selectText);y.appendChild(t);v&&AmCharts.addBr(y);var s=document.createElement("select");u&&(s.style.width=u);x.selectCB=s;y.appendChild(s);AmCharts.isNN&&s.addEventListener("change",function(b){x.handleDataSetChange.call(x,b)},!0);AmCharts.isIE&&s.attachEvent("onchange",function(b){x.handleDataSetChange.call(x,b)});for(t=0;t<w.length;t++){var r=w[t];if(!0==r.showInSelect){var q=document.createElement("option");q.text=r.title;q.value=t;r==x.chart.mainDataSet&&(q.selected=!0);try{s.add(q,null)}catch(o){s.add(q)}}}}if(0<x.countDataSets("showInCompare")&&1<w.length){if(v?(AmCharts.addBr(y),AmCharts.addBr(y)):(t=document.createTextNode(" "),y.appendChild(t)),t=document.createTextNode(x.compareText),y.appendChild(t),q=x.listCheckBoxSize,v){AmCharts.addBr(y);u=document.createElement("div");y.appendChild(u);u.className="amChartsCompareList";u.style.overflow="auto";u.style.overflowX="hidden";u.style.width=x.width-2+"px";u.style.maxHeight=x.listHeight+"px";for(t=0;t<w.length;t++){r=w[t],!0==r.showInCompare&&r!=x.chart.mainDataSet&&(v=document.createElement("div"),v.style.padding="4px",v.style.position="relative",v.name="amCBContainer",v.dataSet=r,v.style.height=q+"px",r.compared&&(v.style.backgroundColor=x.selectedBackgroundColor),u.appendChild(v),s=document.createElement("div"),s.style.width=q+"px",s.style.height=q+"px",s.style.position="absolute",s.style.backgroundColor=r.color,v.appendChild(s),s=document.createElement("div"),s.style.width="100%",s.style.position="absolute",s.style.left=q+10+"px",v.appendChild(s),r=document.createTextNode(r.title),s.style.cursor="default",s.appendChild(r),AmCharts.isNN&&(v.addEventListener("mouseover",function(b){x.handleRollOver.call(x,b)},!0),v.addEventListener("mouseout",function(b){x.handleRollOut.call(x,b)},!0),v.addEventListener("click",function(b){x.handleClick.call(x,b)},!0)),AmCharts.isIE&&(v.attachEvent("onmouseout",function(b){x.handleRollOut.call(x,b)}),v.attachEvent("onmouseover",function(b){x.handleRollOver.call(x,b)}),v.attachEvent("onclick",function(b){x.handleClick.call(x,b)})))}AmCharts.addBr(y);AmCharts.addBr(y)}else{v=document.createElement("select");x.compareCB=v;u&&(v.style.width=u);y.appendChild(v);AmCharts.isNN&&v.addEventListener("change",function(b){x.handleCBSelect.call(x,b)},!0);AmCharts.isIE&&v.attachEvent("onchange",function(b){x.handleCBSelect.call(x,b)});q=document.createElement("option");q.text=x.comboBoxSelectText;try{v.add(q,null)}catch(p){v.add(q)}for(t=0;t<w.length;t++){if(r=w[t],!0==r.showInCompare&&r!=x.chart.mainDataSet){q=document.createElement("option");q.text=r.title;q.value=t;r.compared&&(q.selected=!0);try{v.add(q,null)}catch(m){v.add(q)}}}}}},handleDataSetChange:function(){var d=this.selectCB,d=this.dataProvider[d.options[d.selectedIndex].value],c=this.chart;c.mainDataSet=d;c.zoomOutOnDataSetChange&&(c.startDate=void 0,c.endDate=void 0);c.validateData();d={type:"dataSetSelected",dataSet:d};this.fire(d.type,d)},handleRollOver:function(b){b=this.getRealDiv(b);b.dataSet.compared||(b.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(b){b=this.getRealDiv(b);b.dataSet.compared||(b.style.removeProperty&&b.style.removeProperty("background-color"),b.style.removeAttribute&&b.style.removeAttribute("backgroundColor"))},handleCBSelect:function(h){for(var f=this.compareCB,l=this.dataProvider,k=0;k<l.length;k++){var j=l[k];j.compared&&(h={type:"dataSetUncompared",dataSet:j});j.compared=!1}l=f.selectedIndex;0<l&&(j=this.dataProvider[f.options[l].value],j.compared||(h={type:"dataSetCompared",dataSet:j}),j.compared=!0);this.chart.validateData();this.fire(h.type,h)},handleClick:function(b){b=this.getRealDiv(b).dataSet;!0==b.compared?(b.compared=!1,b={type:"dataSetUncompared",dataSet:b}):(b.compared=!0,b={type:"dataSetCompared",dataSet:b});this.chart.validateData();this.fire(b.type,b)},getRealDiv:function(b){b||(b=window.event);b=b.currentTarget?b.currentTarget:b.srcElement;"amCBContainer"==b.parentNode.name&&(b=b.parentNode);return b},countDataSets:function(f){for(var e=this.dataProvider,j=0,h=0;h<e.length;h++){!0==e[h][f]&&j++}return j}});AmCharts.StackedBullet=AmCharts.Class({construct:function(){this.fontSize=11;this.stackDown=!1;this.mastHeight=8;this.shapes=[];this.backgroundColors=[];this.backgroundAlphas=[];this.borderAlphas=[];this.borderColors=[];this.colors=[];this.rollOverColors=[];this.showOnAxiss=[];this.textColor="#000000"},parseConfig:function(){var b=this.bulletConfig;this.eventObjects=b.eventObjects;this.letters=b.letters;this.shapes=b.shapes;this.backgroundColors=b.backgroundColors;this.backgroundAlphas=b.backgroundAlphas;this.borderColors=b.borderColors;this.borderAlphas=b.borderAlphas;this.colors=b.colors;this.rollOverColors=b.rollOverColors;this.date=b.date;this.showOnAxiss=b.showOnAxis;this.axisCoordinate=b.minCoord},write:function(e){this.parseConfig();this.container=e;this.bullets=[];if(this.graph){var d=this.graph.fontSize;d&&(this.fontSize=d)}d=this.letters.length;(this.mastHeight+2*(this.fontSize/2+2))*d>this.availableSpace&&(this.stackDown=!0);this.set=e.set();for(var f=e=0;f<d;f++){this.shape=this.shapes[f],this.backgroundColor=this.backgroundColors[f],this.backgroundAlpha=this.backgroundAlphas[f],this.borderAlpha=this.borderAlphas[f],this.borderColor=this.borderColors[f],this.rollOverColor=this.rollOverColors[f],this.showOnAxis=this.showOnAxiss[f],this.color=this.colors[f],this.addLetter(this.letters[f],e,f),this.showOnAxis||e++}},addLetter:function(E,D,C){var B=this,A=this.container,z=A.set(),y=-1,x=B.stackDown;B.showOnAxis&&(B.stackDown=B.graph.valueAxis.reversed?!0:!1);B.stackDown&&(y=1);var w=0,u=0,v=B.fontSize,s=B.mastHeight,r=B.shape;B.showOnAxis&&(D=0);var t=B.textColor;void 0!=B.color&&(t=B.color);E=AmCharts.text(A,0,0,E,{fill:t,"font-family":B.chart.fontFamily,"font-size":B.fontSize});A=E.getBBox();t=A.width;B.labelWidth=t;B.labelHeight=A.height;E.index=C;var q;switch(r){case"sign":q=B.drawSign(z,C);w=s+2+v/2;break;case"circle":q=B.drawCircle(z,C);i=t+2+w/2;break;case"flag":q=B.drawFlag(z,C);u=t/2+3;w=s+2+v/2;break;case"pin":q=B.drawPin(z,C);w=4+v/2;break;case"triangleUp":q=B.drawTriangleUp(z,C);w=-v-1;y=-1;D=0;break;case"triangleDown":q=B.drawTriangleDown(z,C);w=v+1;y=-1;D=0;break;case"triangleLeft":q=B.drawTriangleLeft(z,C);u=v;y=-1;D=0;break;case"triangleRight":q=B.drawTriangleRight(z,C);u=-v;y=-1;D=0;break;case"arrowUp":q=B.drawArrowUp(z,C);-1==y&&D++;E.hide();break;case"arrowDown":q=B.drawArrowDown(z,C);1==y&&D++;E.hide();break;case"text":y=-1,q=B.drawTextBackground(z,C,E),w=-(B.labelHeight/2+8)*y}B.bullets[C]=q;D=B.showOnAxis?B.axisCoordinate:D*z.getBBox().height*y;E.translate(u+","+w*y);z.push(E);z.translate("0,"+D);B.chart.touchEventsEnabled&&z.touchstart(function(){B.handleRollOver(this.index)}).touchend(function(){B.handleClick(this.index)});z.click(function(){B.handleClick.call(B,this.index)}).mouseover(function(){B.handleMouseOver.call(B,this.index)}).mouseout(function(){B.handleMouseOut.call(B,this.index)});B.stackDown=x},drawPin:function(f,e){var j=-1;this.stackDown&&(j=1);var h=this.fontSize+4;return this.drawRealPolygon(f,[0,h/2,h/2,-h/2,-h/2,0],[0,j*h/4,j*(h+h/4),j*(h+h/4),j*h/4,0],e)},drawSign:function(j,h){var o=-1;this.stackDown&&(o=1);var n=this.mastHeight*o,m=this.fontSize/2+2,l=AmCharts.line(this.container,[0,0],[0,n],this.borderColor,this.borderAlpha,1),k=AmCharts.circle(this.container,m,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);k.attr({cy:n+m*o});k.index=h;l.index=h;j.push(l,k);this.set.push(j);return k},drawCircle:function(h,f){var m=-1;this.stackDown&&(m=1);var l=0,k=3;var j=AmCharts.circle(this.container,k,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);j.attr({cy:l});j.index=f;h.push(j);this.set.push(h);return j},drawFlag:function(j,h){var n=-1;this.stackDown&&(n=1);var m=this.fontSize+4,l=this.labelWidth+6,k=this.mastHeight,n=1==n?n*k:n*k-m,k=AmCharts.line(this.container,[0,0],[0,n],this.borderColor,this.borderAlpha,1),m=AmCharts.rect(this.container,l,m,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);m.attr({y:n});m.index=h;k.index=h;j.push(k,m);this.set.push(j);return m},drawTriangleUp:function(e,d){var f=this.fontSize+7;f=this.fontSize-3;return this.drawRealPolygon(e,[0,f/2,-f/2,0],[0,f,f,0],d)},drawArrowUp:function(h,f){var l=this.size,k=l/2,j=l/4;return this.drawRealPolygon(h,[0,k,j,j,-j,-j,-k,0],[0,k,k,l,l,k,k,0],f)},drawArrowDown:function(h,f){var l=this.size,k=l/2,j=l/4;return this.drawRealPolygon(h,[0,k,j,j,-j,-j,-k,0],[0,-k,-k,-l,-l,-k,-k],f)},drawTriangleDown:function(e,d){var f=this.fontSize+7;f=this.fontSize-3;return this.drawRealPolygon(e,[0,f/2,-f/2,0],[0,-f,-f,0],d)},drawTriangleLeft:function(e,d){var f=this.fontSize+7;return this.drawRealPolygon(e,[0,f,f,0],[0,-f/2,f/2],d)},drawTriangleRight:function(e,d){var f=this.fontSize+7;return this.drawRealPolygon(e,[0,-f,-f,0],[0,-f/2,f/2,0],d)},drawRealPolygon:function(f,e,j,h){e=AmCharts.polygon(this.container,e,j,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);e.index=h;f.push(e);this.set.push(f);return e},drawTextBackground:function(h,f,l){var k=l.getBBox(),l=-k.width/2-5,j=k.width/2+5,k=-k.height-12;this.labelHeight+5<this.availableSpace?(l=[l,-5,0,5,j,j,l,l],j=[-5,-5,0,-5,-5,k,k,-5]):(l=[l,-5,0,5,j,j,l,l],j=[5,5,0,5,5,-k,-k,5]);return this.drawRealPolygon(h,l,j,f)},handleMouseOver:function(d){this.bullets[d].attr({fill:this.rollOverColors[d]});var d=this.eventObjects[d],c={type:"rollOverStockEvent",eventObject:d,graph:this.graph,date:this.date};this.bulletConfig.eventDispatcher.fire(c.type,c);this.chart.showBalloon(d.description,"#CC0000",!0)},handleClick:function(d){var d=this.eventObjects[d],c={type:"clickStockEvent",eventObject:d,graph:this.graph,date:this.date};this.bulletConfig.eventDispatcher.fire(c.type,c);d.url&&(window.location.href=d.url)},handleMouseOut:function(d){this.bullets[d].attr({fill:this.backgroundColors[d]});var d={type:"rollOutStockEvent",eventObject:this.eventObjects[d],graph:this.graph,date:this.date},c=this.bulletConfig.eventDispatcher;this.chart.hideBalloon();c.fire(d.type,d)}});
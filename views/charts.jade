html
  head
    meta(http-equiv='content-type', content='text/html; charset=utf-8')
    title StockChart By Todayhoon.com!!
    link(rel='stylesheet', href='amcharts/style.css', type='text/css')
    link(rel='stylesheet', href='css/metro-bootstrap.css', type='text/css')
    script(src='amcharts/amcharts.js', type='text/javascript').
    script(src='amcharts/serial.js', type='text/javascript').
    script(src='amcharts/amstock.js', type='text/javascript').
    script(src='js/jquery/jquery.min.js', type='text/javascript').
    script(src='js/jquery/jquery.widget.min.js', type='text/javascript').
    script(src='js/metro/metro.min.js', type='text/javascript').
    script(src="http://www.amcharts.com/lib/3/themes/none.js",type="text/javascript").
    script(src='http://www.amcharts.com/lib/3/themes/none.js',, type='text/javascript').
    script(type='text/javascript').
      var data = !{JSON.stringify(data)};
      var name = !{JSON.stringify(stockname)};
      var second = !{JSON.stringify(second)};
      var third = !{JSON.stringify(third)};
      var chart = AmCharts.makeChart("chartdiv", {
      type: "stock",
      "theme": "dark",
      pathToImages: "http://www.amcharts.com/lib/3/images/",
      dataSets: [{
      fieldMappings: [{
      fromField: "open",
      toField: "open"
      }, {
      fromField: "close",
      toField: "close"
      }, {
      fromField: "high",
      toField: "high"
      }, {
      fromField: "low",
      toField: "low"
      }, {
      fromField: "volumn",
      toField: "volumn"
      }, {
      fromField: "value",
      toField: "value"
      }],
      dataProvider: data,
      title: name,
      categoryField: "date"
      }, {
      fieldMappings: [{
      fromField: "open",
      toField: "open"
      }, {
      fromField: "close",
      toField: "close"
      }, {
      fromField: "high",
      toField: "high"
      }, {
      fromField: "low",
      toField: "low"
      }, {
      fromField: "volumn",
      toField: "volumn"
      }, {
      fromField: "value",
      toField: "value"
      }],
      dataProvider: second,
      title: "SET",
      categoryField: "date"
      }, {
      fieldMappings: [{
      fromField: "open",
      toField: "open"
      }, {
      fromField: "close",
      toField: "close"
      }, {
      fromField: "high",
      toField: "high"
      }, {
      fromField: "low",
      toField: "low"
      }, {
      fromField: "volumn",
      toField: "volumn"
      }, {
      fromField: "value",
      toField: "value"
      }],
      dataProvider: third,
      title: "SET50",
      categoryField: "date"
      }],
      panels: [{
      title: "Value",
      showCategoryAxis: false,
      percentHeight: 70,
      valueAxes: [{
      id: "v1",
      dashLength: 5
      }],
      categoryAxis: {
      dashLength: 5
      },
      stockGraphs: [{
      type: "candlestick",
      id: "g1",
      openField: "open",
      closeField: "close",
      highField: "high",
      lowField: "low",
      valueField: "close",
      lineColor: "#7f8da9",
      fillColors: "#7f8da9",
      negativeLineColor: "#db4c3c",
      negativeFillColors: "#db4c3c",
      fillAlphas: 1,
      useDataSetColors: false,
      comparable: true,
      compareField: "value",
      showBalloon: false,
      proCandlesticks: true
      }],
      stockLegend: {
      valueTextRegular: undefined,
      },
      drawingIconsEnabled: true
      }, {
      title: "Volume",
      percentHeight: 30,
      marginTop: 1,
      showCategoryAxis: true,
      valueAxes: [{
      dashLength: 5
      }],
      categoryAxis: {
      dashLength: 5
      },
      stockGraphs: [{
      valueField: "volumn",
      type: "column",
      showBalloon: false,
      fillAlphas: 1
      }],
      stockLegend: {
      markerType: "none",
      markerSize: 0,
      labelText: "",
      periodValueTextRegular: "[[value.close]]"
      }
      }],
      chartScrollbarSettings: {
      graph: "g1",
      graphType: "line",
      usePeriod: "WW"
      },
      chartCursorSettings: {
      pan:true,
      valueLineBalloonEnabled: true,
      valueLineEnabled: true
      },
      dataSetSelector: {
      position: "left"
      },
      periodSelector: {
      selectFromStart: false,
      position: "left",
      periods: [{
      period: "DD",
      count: 10,
      label: "10 days"
      }, {
      period: "MM",
      selected: true,
      count: 1,
      label: "1 month"
      }, {
      period: "YY",
      count: 1,
      label: "1 year"
      }, {
      period: "YTD",
      label: "YTD"
      }]
      }
      });
body.metro
nav.navigation-bar
      nav.navigation-bar-content
        .element
          a.dropdown-toggle(href='#') TodayHoon
          ul.dropdown-menu(data-role='dropdown')
            li
              a(href='#') Main
            li
              a(href='#') File Open
            li.divider
            li
              a(href='#') Print...
            li.divider
            li
              a(href='#') Exit
        span.element-divider
        a.element.brand(href='#')
          span.icon-spin
        a.element.brand(href='#')
          span.icon-printer
        span.element-divider
        .element.input-element
          form
            .input-control.text
              input(id='stockname',type='text', placeholder='e.g. ADVANC',name="stockname")
              button.btn-search
        .element.place-right
          a.dropdown-toggle(href='#')
            span.icon-cog
          ul.dropdown-menu.place-right(data-role='dropdown')
            li
              a(href='#') Products
            li
              a(href='#') Download
            li
              a(href='#') Support
            li
              a(href='#') Buy Now
        span.element-divider.place-right
        a.element.place-right(href='#')
          span.icon-locked-2
        span.element-divider.place-right
        button.element.image-button.image-left.place-right
          | Ravipong Chumsai Na Ayuthaya
ins.adsbygoogle(style='display: inline-block; width: 50%; height: 90px;', data-ad-client='ca-pub-1886587686100089', data-ad-slot='4651998254')  
ins.adsbygoogle(style='display: inline-block; width: 50%; height: 90px;', data-ad-client='ca-pub-1886587686100089', data-ad-slot='1558931053')
body
  #chartdiv.
script.
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-55857119-1', 'auto');
    ga('send', 'pageview');
    ga(‘set’, ‘&uid’, {{USER_ID}}); // Set the user ID using signed-in user_id.
script(async='async', src='//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js').
script.
  (adsbygoogle = window.adsbygoogle || []).push({});